{
  "content": "# Payments\n\n## Show a list of payments with export, refund, and dispute capabilities.\n\nPayments renders a transaction list for [direct\ncharges](https://docs.stripe.com/connect/direct-charges), [destination\ncharges](https://docs.stripe.com/connect/destination-charges), and [separate\ncharges and\ntransfers](https://docs.stripe.com/connect/separate-charges-and-transfers) on\nthe connected account.\n\nBy default, the embedded components offer limited information for destination\ncharges and separate charges and transfers. They don’t provide access to\ncustomer information, payment methods, and some charge amount details. The\n[destination_on_behalf_of_charge_management](https://docs.stripe.com/connect/supported-embedded-components/payments#allow-your-connected-accounts-to-manage-destination-charges)\nfeature allows a connected account to see additional information with\ndestination charges, as well as perform refunds and manage disputes.\n\nSizeDesktopLocale (United States)This demo is read-only with limited\nfunctionality. Visit [furever.dev](https://furever.dev/) for a fully functional\ndemo.\n### Create an Account Session\n\nWhen [creating an Account\nSession](https://docs.stripe.com/api/account_sessions/create), enable the\npayments embedded component by specifying `payments` in the `components`\nparameter. You can turn on or off an individual feature of the payments\ncomponent by specifying the `features` parameter under `payments`:\n\n```\ncurl https://api.stripe.com/v1/account_sessions \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d account={{CONNECTED_ACCOUNT_ID}} \\\n -d \"components[payments][enabled]\"=true \\\n -d \"components[payments][features][refund_management]\"=true \\\n -d \"components[payments][features][dispute_management]\"=true \\\n -d \"components[payments][features][capture_payments]\"=true \\\n-d\n\"components[payments][features][destination_on_behalf_of_charge_management]\"=false\n```\n\nThe payments component shows different information and supports different\nfeatures for different charge types:\n\n- For direct charges, your connected accounts can view the complete set of\ninformation. They can also manage refunds, manage disputes, and capture payments\nif you enable the corresponding features when creating an account session.\n- For [destination charges](https://docs.stripe.com/connect/destination-charges)\nand [separate charges and\ntransfers](https://docs.stripe.com/connect/separate-charges-and-transfers), your\nconnected accounts can only see the transfer object associated with the selected\ncharge, which contains limited information.\n- For destination charges with the\n[on_behalf_of](https://docs.stripe.com/api/payment_intents/object#payment_intent_object-on_behalf_of)\nattribute, your connected accounts can view the complete set of information when\nthe `destination_on_behalf_of_charge_management` feature is enabled. When this\nfeature is turned on, you can also enable refund and disputes management by\nenabling the corresponding features.\n\n### Allow your connected accounts to manage destination charges\n\nWhen you set the `destination_on_behalf_of_charge_management` feature to `true`,\nyour connected accounts can use the payments component to view and manage\n[destination charges](https://docs.stripe.com/connect/destination-charges) that\nhave the\n[on_behalf_of](https://docs.stripe.com/api/payment_intents/object#payment_intent_object-on_behalf_of)\nattribute. If you also turn on the `dispute_management` feature, your connected\naccounts can [participate directly in handling their\ndisputes](https://docs.stripe.com/connect/supported-embedded-components/payments#dispute-management-for-destination-charges).\n\nEnabling the `destination_on_behalf_of_charge_management` feature has the\nfollowing limitations:\n\n- You can’t filter by charge status or payment methods.\n- You can’t export certain data columns.\n\n### Render the payments component\n\nAfter creating the account session and [initializing\nConnectJS](https://docs.stripe.com/connect/get-started-connect-embedded-components#account-sessions),\nyou can render the payments component in the front end:\n\n```\n// Include this element in your HTML\nconst payments = stripeConnectInstance.create('payments');\ncontainer.appendChild(payments);\n\n// Optional: specify filters to apply on load\n// payments.setDefaultFilters({\n// amount: {greaterThan: 100},\n// date: {before: new Date(2024, 0, 1)},\n// status: ['partially_refunded', 'refund_pending', 'refunded'],\n// paymentMethod: 'card',});\n```\n\nHTML +\nJSReactMethodTypeDescriptionDefault`setDefaultFilters``PaymentsListDefaultFilters`On\nload, show the payments matching the filter criteria. See the possible\n[PaymentsListDefaultFilters\nproperties](https://docs.stripe.com/connect/supported-embedded-components/payments#the-object).none\n#### Setting default filters\n\nSetting default filters for the payments list is optional. If set, it applies\nany valid filters and ignores invalid filters. If the\n`destination_on_behalf_of_charge_management` feature is enabled, then you can’t\nfilter by status or payment method so it ignores these filters automatically.\n\nYou can specify any combination of payment filters of your choice using the\n`PaymentsListDefaultFilters` object.\n\n#### The `PaymentsListDefaultFilters` object\n\nIf you want to specify default filters, pass a `PaymentsListDefaultFilters`\nobject into the `setDefaultFilters` setter. The object has the following\nproperties. All properties are optional.\n\nNameTypeDescriptionExample value`amount``{equals: number} | {greaterThan:\nnumber} | {lessThan: number} | {between: {lowerBound: number, upperBound:\nnumber}}`Filter by the payment amount (to the nearest hundredth).`{greaterThan:\n100}``date``{before: Date} | {after: Date} | {between: {start: Date; end: Date}\n`Provide `Date` objects to filter by date. It accepts any date format allowed by\na JavaScript `Date` object. Only the year, month, and day are taken into\nconsideration.`{before: new Date(2024, 0, 1)}`\n`status`\n\n`Status[]`\n\nProvide one or more statuses. The valid status options are:\n\n`'blocked' | 'canceled' | 'disputed' | 'early_fraud_warning' | 'failed' |\n'incomplete' | 'partially_refunded' | 'pending' | 'refund_pending' | 'refunded'\n| 'successful' | 'uncaptured'`\n\nThis filter is ignored if the `destination_on_behalf_of_charge_management`\nfeature is enabled.\n\n`['disputed', 'canceled']`\n\n`paymentMethod`\n\n`PaymentMethod`\n\nThe full list of payment methods is available under the type enum for the\n[PaymentMethod\nobject](https://docs.stripe.com/api/payment_methods/object#payment_method_object-type).\nTo see which payment methods are available to you, check your [payment method\nsettings](https://dashboard.stripe.com/login?redirect=%2Fsettings%2Fpayment_methods%2Fconnected_accounts%3Fconfig_id%3Dpmc_1KldNkAppfGnVJgHI6jpKIek).\n\nThis filter is ignored if the `destination_on_behalf_of_charge_management`\nfeature is enabled.\n\n`'card'`\n\n## Dispute management for destination charges\n\nFor [destination charges](https://docs.stripe.com/connect/destination-charges),\nwith or without `on_behalf_of`, Stripe debits dispute amounts and fees from your\nplatform account.\n\nWe recommend setting up [a webhook](https://docs.stripe.com/webhooks) to listen\nto [dispute created\nevents](https://docs.stripe.com/api/events/types#event_types-charge.dispute.created).\nWhen that happens, you can attempt to recover funds from the connected account\nby reversing the transfer through the\n[Dashboard](https://dashboard.stripe.com/test/transfers) or by [creating a\ntransfer reversal](https://docs.stripe.com/api/transfer_reversals/create).\n\nIf the connected account has a negative balance, Stripe attempts to [debit its\nexternal\naccount](https://docs.stripe.com/connect/account-balances#automatically-debit-connected-accounts)\nif `debit_negative_balances` is set to `true`.\n\nIf you challenge the dispute and win, you can transfer the funds that you\npreviously reversed back to the connected account. If your platform has an\ninsufficient balance, the transfer fails. Prevent insufficient balance errors by\n[adding funds to your Stripe\nbalance](https://docs.stripe.com/get-started/account/add-funds).\n\n#### Common mistake\n\nRetransferring a previous reversal is subject to [cross-border transfer\nrestrictions](https://docs.stripe.com/connect/account-capabilities#transfers-cross-border),\nmeaning you might have no means to repay your connected account. Instead, wait\nto recover disputed cross-border payment transfers for destination charges with\n`on_behalf_of` until after a dispute is lost.\n\nWhen both `dispute_management` and `destination_on_behalf_of_charge_management`\nare enabled, the connected accounts can update and modify dispute evidence,\ncounter disputes, and accept disputes for destination charges with the\n`on_behalf_of` attribute set to the connected account.\n\n## Customize the description\n\nIf you’re using the\n[destination_on_behalf_of_charge_management](https://docs.stripe.com/connect/supported-embedded-components/payments#allow-your-connected-accounts-to-manage-destination-charges)\noption, the payment information (including the description) shown for\ndestination charges with the `on_behalf_of` attribute corresponds to the\noriginal created payment. To display a custom description within the payment\ndetail view for [destination\ncharges](https://docs.stripe.com/connect/destination-charges) and [separate\ncharges and\ntransfers](https://docs.stripe.com/connect/separate-charges-and-transfers) when\nthis feature is off, follow these steps:\n\n### Destination charges\n\nTo update the\n[description](https://docs.stripe.com/api/charges/object#charge_object-description)\non a payment object that’s visible to your platform’s users, you need to use the\nStripe API. This applies to all platforms that use [destination\ncharges](https://docs.stripe.com/connect/destination-charges).\n\n- Find the existing transfer object you created for an account by finding the\nlatest\n[charge](https://docs.stripe.com/api/payment_intents/object#payment_intent_object-charges)\ncreated on the\n[PaymentIntent](https://docs.stripe.com/api/payment_intents/object).\n- Use the charge object to find the\n[transfer](https://docs.stripe.com/api/charges/object#charge_object-transfer)\nobject associated with the charge.\n- Use the transfer object to find the\n[destination_payment](https://docs.stripe.com/api/transfers/object#transfer_object-destination_payment)\nID that exists on the transfer.\n- Call the [Update Charge](https://docs.stripe.com/api/charges/update) API to\nupdate the\n[description](https://docs.stripe.com/api/charges/update#update_charge-description)\non the destination payment using the `destination_payment` ID.\n\n#### Note\n\nThe\n[destination_payment](https://docs.stripe.com/api/transfers/object#transfer_object-destination_payment)\nobject belongs to the connected account, so you’ll need to set [the\nStripe-Account header](https://docs.stripe.com/connect/authentication) to the\nconnected account’s ID to make this call.\n\n```\ncurl https://api.stripe.com/v1/charges/{{PAYMENT_ID}} \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -H \"Stripe-Account: {{CONNECTED_ACCOUNT_ID}}\" \\\n -d description=\"My custom description\"\n```\n\nThis description becomes visible on the charge after you’ve written this field.\n\nLearn more about [creating destination charges on your\nplatform](https://docs.stripe.com/connect/destination-charges).\n\n### Separate charges and transfers\n\nTo update the\n[description](https://docs.stripe.com/api/charges/object#charge_object-description)\non a payment object that’s visible to your platform’s users, you need to use the\nStripe API. This applies to platforms that use [separate charges and\ntransfers](https://docs.stripe.com/connect/separate-charges-and-transfers).\n\n- Use the transfer object to find the\n[destination_payment](https://docs.stripe.com/api/transfers/object#transfer_object-destination_payment)\nID that exists on the transfer.\n- Call the [Update Charge](https://docs.stripe.com/api/charges/update) API to\nupdate the\n[description](https://docs.stripe.com/api/charges/update#update_charge-description)\non the destination payment using the `destination_payment` ID found in the\nprevious step.\n\n#### Note\n\nThe\n[destination_payment](https://docs.stripe.com/api/transfers/object#transfer_object-destination_payment)\nobject belongs to the connected account, so you’ll need to set [the\nStripe-Account header](https://docs.stripe.com/connect/authentication) to the\nconnected account’s ID to make this call.\n\n```\ncurl https://api.stripe.com/v1/charges/{{PAYMENT_ID}} \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -H \"Stripe-Account: {{CONNECTED_ACCOUNT_ID}}\" \\\n -d description=\"My custom description\"\n```\n\nThis description becomes visible on the charge after you’ve written this field.\n\nLearn more about [creating separate charges and\ntransfers](https://docs.stripe.com/connect/separate-charges-and-transfers).\n\n## Links\n\n- [direct charges](https://docs.stripe.com/connect/direct-charges)\n- [destination charges](https://docs.stripe.com/connect/destination-charges)\n- [separate charges and\ntransfers](https://docs.stripe.com/connect/separate-charges-and-transfers)\n-\n[destination_on_behalf_of_charge_management](https://docs.stripe.com/connect/supported-embedded-components/payments#allow-your-connected-accounts-to-manage-destination-charges)\n- [furever.dev](https://furever.dev)\n- [creating an Account\nSession](https://docs.stripe.com/api/account_sessions/create)\n-\n[on_behalf_of](https://docs.stripe.com/api/payment_intents/object#payment_intent_object-on_behalf_of)\n- [participate directly in handling their\ndisputes](https://docs.stripe.com/connect/supported-embedded-components/payments#dispute-management-for-destination-charges)\n- [initializing\nConnectJS](https://docs.stripe.com/connect/get-started-connect-embedded-components#account-sessions)\n- [PaymentMethod\nobject](https://docs.stripe.com/api/payment_methods/object#payment_method_object-type)\n- [payment method\nsettings](https://dashboard.stripe.com/login?redirect=%2Fsettings%2Fpayment_methods%2Fconnected_accounts%3Fconfig_id%3Dpmc_1KldNkAppfGnVJgHI6jpKIek)\n- [a webhook](https://docs.stripe.com/webhooks)\n- [dispute created\nevents](https://docs.stripe.com/api/events/types#event_types-charge.dispute.created)\n- [Dashboard](https://dashboard.stripe.com/test/transfers)\n- [creating a transfer\nreversal](https://docs.stripe.com/api/transfer_reversals/create)\n- [debit its external\naccount](https://docs.stripe.com/connect/account-balances#automatically-debit-connected-accounts)\n- [adding funds to your Stripe\nbalance](https://docs.stripe.com/get-started/account/add-funds)\n- [cross-border transfer\nrestrictions](https://docs.stripe.com/connect/account-capabilities#transfers-cross-border)\n-\n[description](https://docs.stripe.com/api/charges/object#charge_object-description)\n-\n[charge](https://docs.stripe.com/api/payment_intents/object#payment_intent_object-charges)\n- [PaymentIntent](https://docs.stripe.com/api/payment_intents/object)\n- [transfer](https://docs.stripe.com/api/charges/object#charge_object-transfer)\n-\n[destination_payment](https://docs.stripe.com/api/transfers/object#transfer_object-destination_payment)\n- [Update Charge](https://docs.stripe.com/api/charges/update)\n-\n[description](https://docs.stripe.com/api/charges/update#update_charge-description)\n- [the Stripe-Account header](https://docs.stripe.com/connect/authentication)",
  "metadata": {
    "title": "Payments | Stripe Documentation",
    "description": "Show a list of payments with export, refund, and dispute capabilities.",
    "sourceURL": "https://docs.stripe.com/connect/supported-embedded-components/payments"
  }
}