{
  "content": "# Includes several changes for users of the Payment Intents API private beta Breaking changes\n\n## What’s new\n\nThe following changes only affect users of PaymentIntents as part of the private\nbeta before November 15, 2018. If you didn’t use PaymentIntents before then, the\nfollowing changes don’t affect you:\n\n- The `next_source_action` dictionary on PaymentIntents previously contained a\nkey called `value`. This replaces that with `authorize_with_url` and\n`use_stripe_sdk` keys.\n- When creating PaymentIntents, renames the `attempt_confirmation` parameter to\n`confirm`.\n- The PaymentIntent confirm endpoint no longer supports the `payment_intent`\nparameter. To update a PaymentIntent’s source, pass `source` or `source_data` as\na top-level parameter.\n- The `return_url` parameter is only allowed when confirming a PaymentIntent.\nPassing `return_url` when updating a PaymentIntent is no longer allowed.\n- When creating a PaymentIntent with `transfer_data[destination]`, you must\nprovide the `on_behalf_of` parameter, and it must match the account provided to\n`transfer_data[destination]`. This is because when you provide a destination,\nStripe [settles charges in the country of the destination\naccount](https://docs.stripe.com/connect/separate-charges-and-transfers#settlement-merchant).\n- The `next_source_action` dictionary on PaymentIntents no longer contains the\n`source_type` property. To view the source type when retrieving PaymentIntents,\n[expand](https://docs.stripe.com/api/expanding_objects) the `source` parameter.\n\n## Impact\n\nThis set of changes affects early Payment Intents beta users, modifying several\naspects of the API. These modifications require significant updates to existing\ncode that interacts with PaymentIntents, potentially impacting payment flow\nlogic, error handling, and data processing. You need to update you integration\nto align with the new structure and requirements.\n\n## Upgrade\n\n- [View your current API\nversion](https://docs.stripe.com/upgrades#view-your-api-version-and-the-latest-available-upgrade-in-workbench)\nin Workbench.\n- If you use an SDK, upgrade to the corresponding SDK version for this API\nversion.- If you don’t use an SDK, update your [API\nrequests](https://docs.stripe.com/api/versioning) to include `Stripe-Version:\n2018-11-08`\n- Upgrade the API version used for [webhook\nendpoints](https://docs.stripe.com/webhooks/versioning).\n- [Test your integration](https://docs.stripe.com/testing) against the new\nversion.\n- If you use Connect, [test your Connect\nintegration](https://docs.stripe.com/connect/testing).\n- In Workbench, [perform the\nupgrade](https://docs.stripe.com/upgrades#perform-the-upgrade). You can [roll\nback the version](https://docs.stripe.com/upgrades#roll-back-your-api-version)\nfor 72 hours.\n\nLearn more about [Stripe API upgrades](https://docs.stripe.com/upgrades).\n\n## Links\n\n- [settles charges in the country of the destination\naccount](https://docs.stripe.com/connect/separate-charges-and-transfers#settlement-merchant)\n- [expand](https://docs.stripe.com/api/expanding_objects)\n- [View your current API\nversion](https://docs.stripe.com/upgrades#view-your-api-version-and-the-latest-available-upgrade-in-workbench)\n- [API requests](https://docs.stripe.com/api/versioning)\n- [webhook endpoints](https://docs.stripe.com/webhooks/versioning)\n- [Test your integration](https://docs.stripe.com/testing)\n- [test your Connect integration](https://docs.stripe.com/connect/testing)\n- [perform the upgrade](https://docs.stripe.com/upgrades#perform-the-upgrade)\n- [roll back the\nversion](https://docs.stripe.com/upgrades#roll-back-your-api-version)\n- [Stripe API upgrades](https://docs.stripe.com/upgrades)",
  "metadata": {
    "title": "Includes several changes for users of the Payment Intents API private beta | Stripe Documentation",
    "description": "",
    "sourceURL": "https://docs.stripe.com/changelog/2018-11-08/several-changes-payment-intents-private-beta"
  }
}