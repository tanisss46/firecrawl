{
  "content": "# MobilePay payments\n\n## Learn how to accept MobilePay, a popular payment method in Denmark and Finland.\n\nWebMobileStripe-hosted pageAdvanced integrationDirect API\nMobilePay is a\n[single-use](https://docs.stripe.com/payments/payment-methods#usage) card wallet\npayment method used in Denmark and Finland. It allows your customer to\n[authenticate and\napprove](https://docs.stripe.com/payments/payment-methods#customer-actions)\npayments using the MobilePay app.\n\nWhen your customer pays with MobilePay, Stripe performs a card transaction using\nthe card data we receive from MobilePay. The processing of the card transaction\nis invisible to your integration, and Stripe [immediately notifies\nyou](https://docs.stripe.com/payments/payment-methods#payment-notification)\nwhether the payment succeeded or failed.\n\n#### Caution\n\nStripe automatically presents your customers payment method options by\nevaluating their currency, payment method restrictions, and other parameters. We\nrecommend that you configure your payment methods from the Stripe Dashboard\nusing the instructions in [Accept a\npayment](https://docs.stripe.com/payments/accept-a-payment?platform=web&ui=stripe-hosted).\n\nIf you want to continue manually configuring the payment methods you present to\nyour customers with Checkout, use this guide. Otherwise, update your integration\nto [configure payment methods in the\nDashboard](https://docs.stripe.com/payments/dashboard-payment-methods).\n\nUse this guide to enable MobilePay on\n[Checkout](https://docs.stripe.com/payments/checkout), our hosted checkout form,\nand learn the differences between accepting a card payment and a MobilePay\npayment.\n\n[Determine\ncompatibility](https://docs.stripe.com/payments/mobilepay/accept-a-payment#compatibility)\nA Checkout Session must satisfy all of the following conditions to support\nMobilePay payments:\n\n- [Prices](https://docs.stripe.com/api/prices) for all line items must be\nexpressed in Euro, Danish Krona, Swedish Krona or Norwegian Krona (currency\ncodes `eur`, `dkk`, `sek` or `nok`).\n[Set up\nStripeServer-side](https://docs.stripe.com/payments/mobilepay/accept-a-payment#set-up-stripe)\nFirst, you need a Stripe account. [Register\nnow](https://dashboard.stripe.com/register).\n\nUse our official libraries for access to the Stripe API from your application:\n\n```\n# Available as a gem\nsudo gem install stripe\n```\n\n```\n# If you use bundler, you can add this line to your Gemfile\ngem 'stripe'\n```\n\n[Accept a\npayment](https://docs.stripe.com/payments/mobilepay/accept-a-payment#accept-a-payment)\n#### Note\n\nThis guide builds on the foundational [accept a\npayment](https://docs.stripe.com/payments/accept-a-payment?integration=checkout)\nCheckout integration.\n\n### Enable MobilePay as a payment method\n\nWhen creating a new [Checkout\nSession](https://docs.stripe.com/api/checkout/sessions), you need to:\n\n- Add `mobilepay` to the list of `payment_method_types`\n- Make sure all your `line_items` use the `eur`, `dkk`, `sek` or `nok` currency\n\n```\nStripe::Checkout::Session.create({\n mode: 'payment',\n payment_method_types: ['card'],\n payment_method_types: ['card', 'mobilepay'],\n line_items: [{\n price_data: {\n currency: 'usd',\n# To accept `mobilepay`, all line items must have currency: eur, dkk, sek, nok\n currency: 'dkk',\n product_data: {\n name: 'T-shirt',\n },\n unit_amount: 2000,\n },\n quantity: 1,\n }],\n success_url: 'https://example.com/success',\n cancel_url: 'https://example.com/cancel',\n})\n```\n\n### Fulfill your orders\n\nAfter accepting a payment, learn how to [fulfill\norders](https://docs.stripe.com/checkout/fulfillment).\n\n[Handle post-payment\nevents](https://docs.stripe.com/payments/mobilepay/accept-a-payment#post-payment-events)\nStripe sends a\n[payment_intent.succeeded](https://docs.stripe.com/api/events/types#event_types-payment_intent.succeeded)\nevent when the payment completes. Use the Dashboard, a custom\n[webhook](https://docs.stripe.com/webhooks), or a partner solution to receive\nthese events and run actions, like sending an order confirmation email to your\ncustomer, logging the sale in a database, or starting a shipping workflow.\n\nListen for these events rather than waiting on a callback from the client. On\nthe client, the customer could close the browser window or quit the app before\nthe callback executes, and malicious clients could manipulate the response.\nSetting up your integration to listen for asynchronous events also helps you\naccept more payment methods in the future. Learn about the [differences between\nall supported payment\nmethods](https://stripe.com/payments/payment-methods-guide).\n\n### Manually\n\nUse the Stripe Dashboard to view all your Stripe payments, send email receipts,\nhandle payouts, or retry failed payments.\n\n- [View your test payments in the\nDashboard](https://dashboard.stripe.com/test/payments)\n\n### Custom code\n\nBuild a webhook handler to listen for events and build custom asynchronous\npayment flows. Test and debug your webhook integration locally with the Stripe\nCLI.\n\n- [Build a custom\nwebhook](https://docs.stripe.com/payments/handling-payment-events#build-your-own-webhook)\n\n### Prebuilt apps\n\nHandle common business events, like\n[automation](https://stripe.partners/?f_category=automation) or [marketing and\nsales](https://stripe.partners/?f_category=marketing-and-sales), by integrating\na partner application.\n\n[Test the\nintegration](https://docs.stripe.com/payments/mobilepay/accept-a-payment#testing)Mobile\nweb app testingDesktop web app testing\nTo test your integration, choose MobilePay as the payment method and tap\n**Pay**. In test mode, this redirects you to a test payment page where you can\napprove or decline the payment.\n\nIn live mode, tapping **Pay** redirects you to the MobilePay mobile application,\nwhere you can approve or decline the payment.\n\n[OptionalAuthorize a payment and then capture\nlater](https://docs.stripe.com/payments/mobilepay/accept-a-payment#manual-capture)[OptionalCancellation](https://docs.stripe.com/payments/mobilepay/accept-a-payment#cancellation)\n## Failed payments\n\nMobilePay transactions can fail if the underlying card transaction is declined.\nLearn more about [card declines](https://docs.stripe.com/declines/card). In this\ncase, the PaymentMethod is detached and the PaymentIntent’s status automatically\ntransitions to `requires_payment_method`.\n\nWhen the PaymentIntent’s status is `requires_action`, your customer must\nauthenticate the payment within 5 minutes. If no action is taken after 5\nminutes, the PaymentMethod detaches and the PaymentIntent’s status automatically\ntransitions to `requires_payment_method`.\n\n## Refunds and disputes\n\nStripe performs a card transaction using standard card rails as part of a\nMobilePay transaction. [Refunds](https://docs.stripe.com/refunds) and\n[disputes](https://docs.stripe.com/disputes/how-disputes-work) are subject to\nthe Visa and Mastercard network rules.\n\n## See also\n\n- [More about MobilePay](https://docs.stripe.com/payments/mobilepay)\n- [Checkout fulfillment](https://docs.stripe.com/checkout/fulfillment)\n- [Customize Checkout](https://docs.stripe.com/payments/checkout/customization)\n\n## Links\n\n- [single-use](https://docs.stripe.com/payments/payment-methods#usage)\n- [authenticate and\napprove](https://docs.stripe.com/payments/payment-methods#customer-actions)\n- [immediately notifies\nyou](https://docs.stripe.com/payments/payment-methods#payment-notification)\n- [Accept a\npayment](https://docs.stripe.com/payments/accept-a-payment?platform=web&ui=stripe-hosted)\n- [configure payment methods in the\nDashboard](https://docs.stripe.com/payments/dashboard-payment-methods)\n- [Checkout](https://docs.stripe.com/payments/checkout)\n- [Prices](https://docs.stripe.com/api/prices)\n- [Register now](https://dashboard.stripe.com/register)\n- [accept a\npayment](https://docs.stripe.com/payments/accept-a-payment?integration=checkout)\n- [Checkout Session](https://docs.stripe.com/api/checkout/sessions)\n- [https://example.com/success](https://example.com/success)\n- [https://example.com/cancel](https://example.com/cancel)\n- [fulfill orders](https://docs.stripe.com/checkout/fulfillment)\n-\n[payment_intent.succeeded](https://docs.stripe.com/api/events/types#event_types-payment_intent.succeeded)\n- [webhook](https://docs.stripe.com/webhooks)\n- [differences between all supported payment\nmethods](https://stripe.com/payments/payment-methods-guide)\n- [View your test payments in the\nDashboard](https://dashboard.stripe.com/test/payments)\n- [Build a custom\nwebhook](https://docs.stripe.com/payments/handling-payment-events#build-your-own-webhook)\n- [automation](https://stripe.partners/?f_category=automation)\n- [marketing and sales](https://stripe.partners/?f_category=marketing-and-sales)\n- [card declines](https://docs.stripe.com/declines/card)\n- [Refunds](https://docs.stripe.com/refunds)\n- [disputes](https://docs.stripe.com/disputes/how-disputes-work)\n- [More about MobilePay](https://docs.stripe.com/payments/mobilepay)\n- [Customize Checkout](https://docs.stripe.com/payments/checkout/customization)",
  "metadata": {
    "title": "MobilePay payments | Stripe Documentation",
    "description": "Learn how to accept MobilePay, a popular payment method in Denmark and Finland.",
    "sourceURL": "https://docs.stripe.com/payments/mobilepay/accept-a-payment"
  }
}