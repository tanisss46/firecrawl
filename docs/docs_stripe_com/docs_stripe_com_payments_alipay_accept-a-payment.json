{
  "content": "# Accept an Alipay payment\n\n## Learn how to accept Alipay payments, a digital wallet popular with customers from China.\n\nWebMobileStripe-hosted pageDirect API\n#### Caution\n\nStripe automatically presents your customers payment method options by\nevaluating their currency, payment method restrictions, and other parameters. We\nrecommend that you configure your payment methods from the Stripe Dashboard\nusing the instructions in [Accept a\npayment](https://docs.stripe.com/payments/accept-a-payment?platform=web&ui=stripe-hosted).\n\nIf you want to continue manually configuring the payment methods you present to\nyour customers with Checkout, use this guide. Otherwise, update your integration\nto [configure payment methods in the\nDashboard](https://docs.stripe.com/payments/dashboard-payment-methods).\n\nAlipay is a [single-use](https://docs.stripe.com/payments/payment-methods#usage)\npayment method where customers are required to\n[authenticate](https://docs.stripe.com/payments/payment-methods#customer-actions)\ntheir payment. Customers pay by redirecting from your website or app, authorize\nthe payment through Alipay, then return to your website or app where you get\n[immediate\nnotification](https://docs.stripe.com/payments/payment-methods#payment-notification)\non whether the payment succeeded or failed.\n\n[Determine\nCompatibility](https://docs.stripe.com/payments/alipay/accept-a-payment#compatibility)\nTo support Alipay payments, a Checkout Session must satisfy all of the following\nconditions:\n\n- [Prices](https://docs.stripe.com/api/prices) for all line items must be in the\nsame currency.- If you have line items in different currencies, create separate\nCheckout Sessions for each currency.\n- You can only use one-time line items.\n\nRecurring [subscription](https://docs.stripe.com/billing/subscriptions/creating)\nplans aren’t supported.\n\n[Accept a\npayment](https://docs.stripe.com/payments/alipay/accept-a-payment#accept-a-payment)\n#### Note\n\nBuild an integration to [accept a\npayment](https://docs.stripe.com/payments/accept-a-payment?integration=checkout)\nwith Checkout before using this guide.\n\nThis guide describes how to enable Alipay and shows the differences between\naccepting a card payment and using Alipay.\n\n### Enable Alipay as a payment method\n\nWhen creating a new [Checkout\nSession](https://docs.stripe.com/api/checkout/sessions), you need to:\n\n- Add `Alipay` to the list of `payment_method_types`.\n- Make sure all `line_items` use the same currency.\n\n```\nStripe::Checkout::Session.create({\n mode: 'payment',\n payment_method_types: ['card'],\n payment_method_types: ['card', 'alipay'],\n line_items: [{\n price_data: {\n currency: 'usd',\n product_data: {\n name: 'T-shirt',\n },\n unit_amount: 2000,\n },\n quantity: 1,\n }],\n success_url: 'https://example.com/success',\n cancel_url: 'https://example.com/cancel',\n})\n```\n\n### Fulfill your orders\n\nAfter accepting a payment, learn how to [fulfill\norders](https://docs.stripe.com/checkout/fulfillment).\n\n[Test your\nintegration](https://docs.stripe.com/payments/alipay/accept-a-payment#test-integration)\nWhen testing your Checkout integration, select Alipay as the payment method and\nclick the **Pay** button.\n\n[Handle refunds and\ndisputes](https://docs.stripe.com/payments/alipay/accept-a-payment#refunds-and-disputes)\nThe refund period for Alipay is up to 90 days after the original payment.\n\nAlipay has no dispute process—customers authenticate with their Alipay account.\n\n## See also\n\n- [More about Alipay](https://docs.stripe.com/payments/alipay)\n- [Checkout fulfillment](https://docs.stripe.com/checkout/fulfillment)\n- [Customizing\nCheckout](https://docs.stripe.com/payments/checkout/customization)\n\n## Links\n\n- [Accept a\npayment](https://docs.stripe.com/payments/accept-a-payment?platform=web&ui=stripe-hosted)\n- [configure payment methods in the\nDashboard](https://docs.stripe.com/payments/dashboard-payment-methods)\n- [single-use](https://docs.stripe.com/payments/payment-methods#usage)\n-\n[authenticate](https://docs.stripe.com/payments/payment-methods#customer-actions)\n- [immediate\nnotification](https://docs.stripe.com/payments/payment-methods#payment-notification)\n- [Prices](https://docs.stripe.com/api/prices)\n- [subscription](https://docs.stripe.com/billing/subscriptions/creating)\n- [accept a\npayment](https://docs.stripe.com/payments/accept-a-payment?integration=checkout)\n- [Checkout Session](https://docs.stripe.com/api/checkout/sessions)\n- [https://example.com/success](https://example.com/success)\n- [https://example.com/cancel](https://example.com/cancel)\n- [fulfill orders](https://docs.stripe.com/checkout/fulfillment)\n- [More about Alipay](https://docs.stripe.com/payments/alipay)\n- [Customizing\nCheckout](https://docs.stripe.com/payments/checkout/customization)",
  "metadata": {
    "title": "Accept an Alipay payment | Stripe Documentation",
    "description": "Learn how to accept Alipay payments, a digital wallet popular with customers from China.",
    "sourceURL": "https://docs.stripe.com/payments/alipay/accept-a-payment"
  }
}