{
  "content": "# Set up future Cash App Pay payments\n\n## Learn how to save Cash App Pay details and charge your customers later.\n\nWebMobileStripe-hosted pageDirect API\nThis guide covers how to save a Cash App Pay payment details using\n[Checkout](https://docs.stripe.com/payments/checkout), our fully hosted checkout\npage.\n\nTo create recurring payments after saving a payment method in Checkout, see [Set\nup a subscription with Cash App\nPay](https://docs.stripe.com/billing/subscriptions/cash-app-pay) for more\ndetails.\n\n[Set up\nStripeServer-side](https://docs.stripe.com/payments/cash-app-pay/set-up-payment#web-set-up-stripe)\nFirst, you need a Stripe account. [Register\nnow](https://dashboard.stripe.com/register).\n\nUse our official libraries for access to the Stripe API from your application:\n\n```\n# Available as a gem\nsudo gem install stripe\n```\n\n```\n# If you use bundler, you can add this line to your Gemfile\ngem 'stripe'\n```\n\n[Create or retrieve a\nCustomerServer-side](https://docs.stripe.com/payments/cash-app-pay/set-up-payment#web-create-customer)\nTo reuse a Cash App Pay payment method for future payments, attach it to a\n[Customer](https://docs.stripe.com/api/customers).\n\nCreate a [Customer object](https://docs.stripe.com/api/customers) when your\ncustomer creates an account with your business, and associate the ID of the\nCustomer object with your own internal representation of a customer.\nAlternatively, you can create a new Customer later, right before saving a\npayment method for future payments.\n\nCreate a new Customer or retrieve an existing Customer to associate with this\npayment. Include the following code on your server to create a new Customer.\n\n```\ncurl https://api.stripe.com/v1/customers \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n --data-urlencode description=\"My First Test Customer (created for API docs)\"\n```\n\n[Create a Checkout\nSessionServer-side](https://docs.stripe.com/payments/cash-app-pay/set-up-payment#web-create-checkout-session)\nYour customer must authorize you to use their Cash App account for future\npayments through Stripe Checkout. This allows you to accept Cash App payments.\nAdd a checkout button to your website that calls a server-side endpoint to\ncreate a [Checkout Session](https://docs.stripe.com/api/checkout/sessions).\n\n```\n<html>\n <head>\n <title>Checkout</title>\n </head>\n <body>\n <form action=\"/create-checkout-session\" method=\"POST\">\n <button type=\"submit\">Checkout</button>\n </form>\n </body>\n</html>\n```\n\nCreate a Checkout Session in `setup` mode to collect the required information.\nAfter creating the Checkout Session, redirect your customer to the\n[URL](https://docs.stripe.com/api/checkout/sessions/object#checkout_session_object-url)\nreturned in the response.\n\n```\nStripe::Checkout::Session.create({\n mode: 'setup',\n payment_method_types: ['card'],\n payment_method_types: ['card', 'cashapp'],\n customer: customer.id,\n success_url: 'https://example.com/success',\n cancel_url: 'https://example.com/cancel',\n})\n```\n\n[Test your\nintegrationServer-side](https://docs.stripe.com/payments/cash-app-pay/set-up-payment#web-test-integration)Mobile\nweb app testingDesktop web app testing\nTo test your integration, choose Cash App Pay as the payment method and tap\n**Pay**. While testing, this redirects you to a test payment page where you can\napprove or decline the payment.\n\nIn live mode, tapping **Pay** redirects you to the Cash App mobile\napplication—you don’t have the option to approve or decline the payment within\nCash App. The payment is automatically approved after the redirect.\n\n## Links\n\n- [Checkout](https://docs.stripe.com/payments/checkout)\n- [Set up a subscription with Cash App\nPay](https://docs.stripe.com/billing/subscriptions/cash-app-pay)\n- [Register now](https://dashboard.stripe.com/register)\n- [Customer](https://docs.stripe.com/api/customers)\n- [Checkout Session](https://docs.stripe.com/api/checkout/sessions)\n-\n[URL](https://docs.stripe.com/api/checkout/sessions/object#checkout_session_object-url)\n- [https://example.com/success](https://example.com/success)\n- [https://example.com/cancel](https://example.com/cancel)",
  "metadata": {
    "title": "Set up future Cash App Pay payments | Stripe Documentation",
    "description": "Learn how to save Cash App Pay details and charge your customers later.",
    "sourceURL": "https://docs.stripe.com/payments/cash-app-pay/set-up-payment"
  }
}