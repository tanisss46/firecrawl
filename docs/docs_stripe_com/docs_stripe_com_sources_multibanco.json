{
  "content": "# Multibanco payments with SourcesDeprecated\n\n## Use Sources to accept payments using Multibanco, the most popular payment method in Portugal.\n\n#### Warning\n\nWe deprecated the Sources API and plan to remove support for local payment\nmethods. If you currently integrate with Multibanco using the Sources API, you\nmust [migrate to the Payment Methods\nAPI](https://docs.stripe.com/payments/payment-methods/transitioning).\n\nFor information about integrating Multibanco with the current APIs, see\n[Multibanco payments](https://docs.stripe.com/payments/multibanco).\n\nStripe users in Europe and the United States can accept Multibanco payments from\ncustomers in Portugal using [Sources](https://docs.stripe.com/sources)—a single\nintegration path for creating payments using any supported method.\n\nDuring the payment process, a [Source](https://docs.stripe.com/api#sources)\nobject is created and your customer is either redirected to the Multibanco\nwebsite, your website, or a Multibanco ATM to send the funds. After completing\nthis, your integration uses the source to make a charge request and complete the\npayment.\n\nMultibanco is a\n[push](https://docs.stripe.com/sources#pull-or-push-of-funds)-based,\n[single-use](https://docs.stripe.com/sources#single-use-or-reusable) and\n[synchronous](https://docs.stripe.com/sources#synchronous-or-asynchronous-confirmation)\nmethod of payment. This means your customer takes action to send the amount to\nyou through a\n[receiver](https://docs.stripe.com/sources#flow-for-customer-action). The\npushing of funds may take as little as a few minutes or at most seven days,\nsince your customer must do this outside of your checkout flow. Once the funds\nhave been received the amount is immediately available to be charged. Upon\ncharge, there is immediate confirmation about the success or failure of a\npayment.\n\n[Create a Source\nobject](https://docs.stripe.com/sources/multibanco#create-source)\nA `Source` object is either created client-side using\n[Stripe.js](https://docs.stripe.com/payments/elements) or server-side using the\n[Source creation endpoint](https://docs.stripe.com/api#create_source), with the\nfollowing parameters:\n\nParameterValue`type`multibanco`amount`A positive integer in the [smallest\ncurrency unit](https://docs.stripe.com/currencies#zero-decimal) representing the\namount to charge the customer (for example, 1099 for a 10.99 EUR\npayment).`currency`eur (Multibanco must always use\nEuros)`redirect[return_url]`The URL the customer should be redirected to after\nthe authorization process.`owner[email]`The full email address of the customer.\nTo create a source with [Stripe.js](https://docs.stripe.com/payments/elements),\nfirst include the library within your website and set your [publishable API\nkey](https://dashboard.stripe.com/apikeys). Once included, use the following\n`createSource` method to create a source client-side:\n\n```\nstripe.createSource({\n type: 'multibanco',\n amount: 1099,\n currency: 'eur',\n owner: {\n name: 'Jenny Rosen',\n email: 'jenny.rosen@example.com',\n },\n redirect: {\n return_url: '__TOKEN_PLACEHOLDER_0__',\n },\n}).then(function(result) {\n // handle result.error or result.source\n});\n```\n\nUsing either method, Stripe returns a `Source` object containing the relevant\ndetails for the method of payment used. Information specific to Multibanco is\nprovided within the `multibanco` subhash.\n\n```\n{\n \"id\": \"src_16xhynE8WzK49JbAs9M21jaR\",\n \"object\": \"source\",\n \"amount\": 1099,\n \"client_secret\": \"src_client_secret_UfwvW2WHpZ0s3QEn9g5x7waU\",\n \"created\": 1445277809,\n \"currency\": \"eur\",\n \"flow\": \"receiver\",\n \"livemode\": true,\n \"owner\": {\n```\n\nSee all 41 lines\n### Source creation in mobile applications\n\nIf you’re building an iOS or Android app, you can implement sources using our\nmobile SDKs. Refer to our sources documentation for\n[iOS](https://docs.stripe.com/mobile/ios/sources) or\n[Android](https://docs.stripe.com/mobile/android/sources) to learn more.\n\n[Have the customer send the\nfunds](https://docs.stripe.com/sources/multibanco#customer-action)\nWhen creating a source, its status is initially set to `pending` and cannot yet\nbe used to make a charge request. To pay with Multibanco, your customers will\nneed to initiate a transfer of funds from their bank account using reference and\nentity numbers provided by you and either their computer, phone, or local ATM.\n\nPortuguese merchants will often display these details within their checkout flow\nafter the customer has confirmed their purchase and by including them in an\norder confirmation email.\n\nYou may also redirect your customer to a Multibanco-hosted page that will\ndisplay these details for you, by using the URL provided within\nthe`redirect[url]` attribute of the `Source` object. Multibanco then redirects\nthem back to the URL provided as a value of `redirect[return_url]`, regardless\nof whether funds have been sent or not.\n\nWhen the customer does send funds, the `Source` object’s status will transition\nto `chargeable`, allowing you to charge the source and complete the transaction.\nIf you don’t do this, the status will transition to `canceled` after six hours.\n\nStripe populates the `redirect[return_url]` with the following GET parameters\nwhen returning your customer to your website:\n\n- `source`: a string representing the original ID of the `Source` object\n- `livemode`: indicates if this is a live payment, either `true` or `false`\n- `client_secret`: used to confirm that the returning customer is the same one\nwho triggered the creation of the source (source IDs are not considered secret)\n\nYou may include any other GET parameters you may need when specifying\n`redirect[return_url]`. Do not use the above as parameter names yourself as\nthese would be overridden with the values we populate.\n\n### Mobile applications\n\nTo integrate Multibanco within a mobile application, provide your application\nURI scheme as the `redirect[return_url]` value. By doing so, your customers are\nreturned to your app after completing authorization. Refer to our Sources\ndocumentation for [iOS](https://docs.stripe.com/mobile/ios/sources) or\n[Android](https://docs.stripe.com/mobile/android/sources) to learn more.\n\n### Testing the redirect and payment\n\nWhen creating a `Source` object using your test API keys, the test payment is\nfulfilled with a three second delay. Use one of the following test email\naddresses when you need to test Multibanco payments under different conditions.\n\nEmailDescription`{any_prefix}+fill_never@{any_domain}`Funds are never sent to\nthe receiver address.`{any_prefix}+fill_now@{any_domain}`The next time that the\nreceiver is retrieved after creation, it has received the full amount.\nThe URL returned in the `redirect[url]` field of takes you to a sample payment\npage. Returning from this page takes you to the URL specified in\n`redirect[return_url]`.\n\n[Charge the Source](https://docs.stripe.com/sources/multibanco#charge-request)\nOnce the customer has pushed the funds, the source’s `status` transitions to\n`chargeable` and it can be used to make a charge request. This transition\nhappens asynchronously and may occur after the customer was redirected back to\nyour website.\n\nIt may take minutes, hours, or days for a customer to send the funds after\nfollowing and returning from the redirect.\n\nFor this reason it is essential that your integration rely on\n[webhooks](https://docs.stripe.com/webhooks) to determine when the source\nbecomes chargeable in order to create a charge. Please refer to our [best\npractices](https://docs.stripe.com/sources/best-practices) for more details on\nhow to best integrate payment methods using webhooks.\n\n### Webhooks\n\nThe following webhook events are sent to notify you about changes to the\nsource’s status:\n\nEventDescription`source.chargeable`A `Source` object becomes `chargeable` after\na customer has authenticated and verified a payment.`source.failed`A `Source`\nobject failed to become chargeable as your customer declined to authenticate the\npayment.`source.canceled`A `Source` object expired and cannot be used to create\na charge.\n### Make a charge request using the source\n\nOnce the source is chargeable, from your `source.chargeable` webhook handler,\nyou can make a charge request using the source ID as the value for the `source`\nparameter to complete the payment.\n\n```\ncurl https://api.stripe.com/v1/charges \\\n -u sk_test_BQokikJOvBiI2HlWgH4olfQ2: \\\n -d amount=\"1099\" \\\n -d currency=\"eur\" \\\n -d source=src_18eYalAHEMiOZZp1l9ZTjSU0\n```\n\nMultibanco Sources are\n[single-use](https://docs.stripe.com/sources#single-use-or-reusable) and cannot\nbe used for recurring or additional payments. Refer to our [Sources &\nCustomers](https://docs.stripe.com/sources/customers) guide for more information\non how single-use Sources interact with\n[Customers](https://docs.stripe.com/api/customers).\n\n[Confirm that the charge has\nsucceeded](https://docs.stripe.com/sources/multibanco#charge-confirmation)\nSince Multibanco is a\n[synchronous](https://docs.stripe.com/sources#synchronous-or-asynchronous-confirmation)\npayment method and the customer has already sent funds, unless there is an\nunexpected error, the [Charge](https://docs.stripe.com/api#charge_object) will\nimmediately succeed.\n\nYou will also receive the following webhook event as the charge is created:\n\nEventDescription`charge.succeeded`The charge succeeded and the payment is\ncomplete.\nWe recommend that you rely on the `charge.succeeded` webhook event to notify\nyour customer that the payment process has been completed and their order is\nconfirmed. Please refer to our [best\npractices](https://docs.stripe.com/sources/best-practices) for more details on\nhow to best integrate payment methods using webhooks.\n\n### Disputed payments\n\nThe risk of fraud or unrecognized payments is extremely low with Multibanco as\nthe customer has to push funds from their bank account. As such, there is no\ndispute process that can result in a chargeback and funds withdrawn from your\nStripe account.\n\n### Mispayments\n\nAs a customer can make a payment at any time directly through the ATM, it is\npossible, although unlikely, for a customer to supply funds to a canceled or\nexpired source. In these cases, Stripe automatically initiates the refund\nprocess for the mispaid amount as described above.\n\n### Refunds\n\nPayments made with Multibanco can only be submitted for refund within 180 days\nfrom the date of the original charge. After 180 days, it is no longer possible\nto refund the charge.\n\nMultibanco payments can be refunded through either the\n[Dashboard](https://dashboard.stripe.com/test/payments) or\n[API](https://docs.stripe.com/api#create_refund). Multibanco does not itself\nprovide any facility for refunds, and so Stripe handles this by creating an IBAN\ncredit transfer. We contact the customer at the email address provided during\nsource creation, and a credit is sent to the customer once they’ve supplied\ntheir account information. No interaction from the merchant is required beyond\nthe initial refund request.\n\nSome users may want to manage the collection of the refund IBAN details\nthemselves. Multibanco refunds require the customer’s IBAN number, account\nholder name, and the full address including street, city, country, and postal\ncode. Please [contact us](https://support.stripe.com/email) to learn more about\nthis option.\n\n### Sources expiration\n\nA `chargeable` Multibanco source must be charged within six hours of becoming\n`chargeable`. If it is not, its status is automatically transitioned to\n`canceled` and your integration receives a `source.canceled` webhook event. Once\na chargeable source is canceled, the customer’s authenticated Multibanco payment\nis refunded automatically—no money is moved into your account. For this reason,\nmake sure the order is canceled on your end and the customer is notified when\nyou receive the `source.canceled` event.\n\nAdditionally, `pending` sources are canceled after seven days if they’re not\nused to receive funds. This ensures that all sources eventually transition out\nof their `pending` state to the `canceled` state if they’re not used.\n\n## See also\n\n- [Other supported payment methods](https://docs.stripe.com/sources)\n- [Sources API reference](https://docs.stripe.com/api#sources)\n- [Best practices](https://docs.stripe.com/sources/best-practices)\n\n## Links\n\n- [migrate to the Payment Methods\nAPI](https://docs.stripe.com/payments/payment-methods/transitioning)\n- [Multibanco payments](https://docs.stripe.com/payments/multibanco)\n- [Dashboard](https://dashboard.stripe.com/account/payments/settings)\n- [Multibanco Terms of Service](https://stripe.com/multibanco/legal)\n- [Sources](https://docs.stripe.com/sources)\n- [Source](https://docs.stripe.com/api#sources)\n- [push](https://docs.stripe.com/sources#pull-or-push-of-funds)\n- [single-use](https://docs.stripe.com/sources#single-use-or-reusable)\n-\n[synchronous](https://docs.stripe.com/sources#synchronous-or-asynchronous-confirmation)\n- [receiver](https://docs.stripe.com/sources#flow-for-customer-action)\n- [Stripe.js](https://docs.stripe.com/payments/elements)\n- [Source creation endpoint](https://docs.stripe.com/api#create_source)\n- [smallest currency unit](https://docs.stripe.com/currencies#zero-decimal)\n- [publishable API key](https://dashboard.stripe.com/apikeys)\n- [iOS](https://docs.stripe.com/mobile/ios/sources)\n- [Android](https://docs.stripe.com/mobile/android/sources)\n- [webhooks](https://docs.stripe.com/webhooks)\n- [best practices](https://docs.stripe.com/sources/best-practices)\n- [Sources & Customers](https://docs.stripe.com/sources/customers)\n- [Customers](https://docs.stripe.com/api/customers)\n- [Charge](https://docs.stripe.com/api#charge_object)\n- [Dashboard](https://dashboard.stripe.com/test/payments)\n- [API](https://docs.stripe.com/api#create_refund)\n- [contact us](https://support.stripe.com/email)",
  "metadata": {
    "title": "Multibanco payments with Sources | Stripe Documentation",
    "description": "Use Sources to accept payments using Multibanco, the most popular payment method in Portugal.",
    "sourceURL": "https://docs.stripe.com/sources/multibanco"
  }
}