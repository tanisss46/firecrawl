{
  "content": "# Subscriptions with multiple products\n\n## Create subscriptions with multiple products, all billed in a single invoice.\n\nIf you offer multiple products or want to charge different amounts for the same\nproduct, you can attach multiple products to a subscription. This generates a\nsingle [invoice](https://docs.stripe.com/api/invoices) each billing period that\ncombines every price. Only a single payment for that invoice is required,\nreducing your costs and the number of charges your customer sees.\n\n## Creating multiple-product subscriptions\n\nCreate multiple-product subscriptions on a customer using the `items` parameter.\nProvide the `price` and, optionally, a `quantity` (when using a value other than\n1), for each product:\n\n```\ncurl https://api.stripe.com/v1/subscriptions \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d customer={{CUSTOMER_ID}} \\\n -d \"items[0][price]\"=price_CBXbz9i7AIOTzr \\\n -d \"items[1][price]\"=price_IFuCu48Snc02bc \\\n -d \"items[1][quantity]\"=2\n```\n\nThe response includes a list of all the subscription items, prices, and\nquantities:\n\n```\n{\n \"id\": \"sub_CZEpS1Zt9QLxdo\",\n \"object\": \"subscription\",\n ...\n \"items\": {\n \"object\": \"list\",\n \"data\": [\n {\n \"id\": \"si_H1yPnAVzP9vDRW\",\n \"object\": \"subscription_item\",\n \"billing_thresholds\": null,\n \"created\": 1585939321,\n \"metadata\": {\n },\n \"price\": {\n \"id\": \"price_H1c8v1liEvrfcd\",\n \"object\": \"price\",\n \"active\": true,\n \"billing_scheme\": \"per_unit\",\n \"created\": 1585856460,\n \"currency\": \"usd\",\n \"livemode\": false,\n \"lookup_key\": null,\n \"metadata\": {\n },\n \"nickname\": null,\n \"product\": \"prod_H1c7exjJHbC4sr\",\n \"recurring\": {\n \"aggregate_usage\": null,\n \"interval\": \"month\",\n \"interval_count\": 1,\n \"trial_period_days\": null,\n \"usage_type\": \"licensed\"\n },\n \"tiers\": null,\n \"tiers_mode\": null,\n \"transform_quantity\": null,\n \"type\": \"recurring\",\n \"unit_amount\": 1000,\n \"unit_amount_decimal\": \"1000\"\n },\n \"quantity\": 1,\n \"subscription\": \"sub_H1yPRslJXa4TUt\",\n \"tax_rates\": [\n ]\n```\n\nSee all 89 lines\n## Billing periods with multiple prices\n\nConventional prices that charge a fixed amount on an interval are billed at the\nstart of each [billing\ncycle](https://docs.stripe.com/billing/subscriptions/billing-cycle). With each\ninvoice, the customer effectively pays for the next interval of service. With\n[metered\nbilling](https://docs.stripe.com/products-prices/pricing-models#usage-based-pricing),\nthe amount paid by the customer varies based on consumption during the billing\ncycle, so the customer pays for their usage at the end.\n\nWhen a subscription combines a fixed rate with metered billing, metered usage\nfrom the previous billing cycle is charged alongside the fixed rate for the new\nbilling cycle at the start of each interval. The metered billing and fixed rate\nare combined in a single invoice.\n\n## Restrictions\n\nSince using multiple products with a subscription results in a single invoice\nand payment, all of the prices for those products must use the same currency and\nhave the same billing interval. You are also limited to 20 products in a single\nsubscription.\n\n## Discounts, taxes, and trial periods\n\nWhen using multiple products, you can also create discounts, charge taxes, and\nuse trial periods as you would with a single-product subscription. Provide these\nas top-level arguments to the create or update subscription call, as they apply\nto the subscription at large:\n\n```\ncurl https://api.stripe.com/v1/subscriptions \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d customer={{CUSTOMER_ID}} \\\n -d coupon=free-period \\\n -d \"default_tax_rates[0]\"=txr_1EO66sClCIKljWvs98IiVfHW \\\n -d trial_end=1610403705 \\\n -d \"items[0][price]\"=price_CBXbz9i7AIOTzr \\\n -d \"items[1][price]\"=price_IFuCu48Snc02bc \\\n -d \"items[1][quantity]\"=2\n```\n\nWhen you create a subscription by passing prices into the `items` attribute, it\nwill ignore any trial period that is specified on the individual prices. The\ntrial period is only respected if you create a subscription with a single price\nusing the legacy plan attribute.\n\n## Multiple subscriptions for a customer\n\nYou can simultaneously create multiple subscriptions for a single customer. This\ncapability is useful when you want to make it possible for your customers to\nsubscribe to multiple products with separate intervals. Each subscription has\nits own separate billing cycle, invoice, and charge—even if the underlying\nprices have the same billing interval.\n\nCreate multiple subscriptions on a customer by using the same [create\nsubscription](https://docs.stripe.com/api#create_subscription) code:\n\n```\ncurl https://api.stripe.com/v1/subscriptions \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d customer=cus_4fdAW5ftNQow1a \\\n -d \"items[0][price]\"=price_CZB2krKbBDOkTS\n```\n\n```\ncurl https://api.stripe.com/v1/subscriptions \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d customer=cus_4fdAW5ftNQow1a \\\n -d \"items[0][price]\"=price_CZB1AX3KOacNJw\n```\n\nA customer can be subscribed to multiple products or even to a single product\nmultiple times. Each subscription has a unique ID and its state is handled\nindependently from the customer’s other subscriptions. Each subscription also\nhas its own independent billing cycle, based on the [billing cycle\nanchor](https://docs.stripe.com/billing/subscriptions/billing-cycle) of the\nsubscription.\n\nWhen a customer has multiple subscriptions, the `Customer` object’s\n`subscriptions` property provides a list of every subscription:\n\n```\n{\n \"id\": \"cus_4fdAW5ftNQow1a\",\n \"object\": \"customer\",\n \"subscriptions\": {\n \"object\": \"list\",\n \"data\": [\n {\n \"id\": \"sub_9RRl3XywPg2P5H\",\n \"object\": \"subscription\",\n ...\n \"price\": {\n \"id\": \"price_CZB2krKbBDOkTS\",\n \"object\": \"price\",\n \"amount\": 2995,\n ...\n }\n },\n {\n \"id\": \"sub_9RRlIq2t9obFLI\",\n \"object\": \"subscription\",\n ...\n \"price\": {\n \"id\": \"price_CZB1AX3KOacNJw\",\n \"object\": \"price\",\n \"amount\": 1295,\n ...\n }\n }\n ]\n ...\n }\n ...\n}\n```\n\n## See also\n\n- [Setting quantities](https://docs.stripe.com/billing/subscriptions/quantities)\n- [Use trial periods](https://docs.stripe.com/billing/subscriptions/trials)\n- [Subscriptions API](https://docs.stripe.com/api#create_subscription)\n\n## Links\n\n- [invoice](https://docs.stripe.com/api/invoices)\n- [billing cycle](https://docs.stripe.com/billing/subscriptions/billing-cycle)\n- [metered\nbilling](https://docs.stripe.com/products-prices/pricing-models#usage-based-pricing)\n- [multiple\nsubscriptions](https://docs.stripe.com/billing/subscriptions/multiple-products#multiple-subscriptions-for-a-customer)\n- [create subscription](https://docs.stripe.com/api#create_subscription)\n- [multiple\nquantities](https://docs.stripe.com/billing/subscriptions/quantities)\n- [Use trial periods](https://docs.stripe.com/billing/subscriptions/trials)",
  "metadata": {
    "title": "Subscriptions with multiple products | Stripe Documentation",
    "description": "Create subscriptions with multiple products, all billed in a single invoice.",
    "sourceURL": "https://docs.stripe.com/billing/subscriptions/multiple-products"
  }
}