{
  "content": "# Moving money with Treasury using OutboundTransfer objects\n\n## Learn how to transfer money out of Treasury financial accounts to external accounts.\n\nAn `OutboundTransfer` object facilitates money movement out of a financial\naccount. Use `OutboundTransfer` to send funds over ACH rails or through a\ndomestic wire transfer to an external bank account that a connected account\nowns.\n\nOutbound transfers typically arrive at the receiving bank between the same day\nand 2 business days, depending on whether you use a wire or ACH.\n\n#### Note\n\nMulti FA beta If enrolled in the Multi FA beta, you can use `OutboundTransfer`\nto send funds over `stripe` network rails to another financial account\nassociated with the same connected account. Funds arrive in the destination\nfinancial account within minutes.\n\nFor more information, see the [Money movement\ntimelines](https://docs.stripe.com/treasury/money-movement/timelines#outboundpayment-and-outboundtransfer-transactions)\nguide.\n\n`OutboundTransfers` support the `us_bank_account` type of payment method.\nAlternatively, you can use an existing\n[BankAccount](https://docs.stripe.com/payments/ach-direct-debit/migrating-from-charges)\nthat belongs to the merchant as an\n[ExternalAccount](https://docs.stripe.com/api/external_accounts).\n\n## Create an OutboundTransfer\n\nUse `POST /v1/treasury/outbound_transfers` to create an\n[OutboundTransfer](https://docs.stripe.com/api/treasury/outbound_transfers/create)\nfor the financial account with the associated ID. Among the request’s possible\nparameters, four are required:\n\n- `amount`: Amount of transfer in cents.\n- `currency`: Three-letter ISO currency code.\n- `financial_account`: Source financial account ID to pull funds from.\n- `destination_payment_method`: Destination `PaymentMethod` ID or `BankAccount`\nID to receive funds.\n- `destination_payment_method_data`: Financial account to receive funds.\n\n```\n{\n // The source financial account to pull funds from.\n \"financial_account\": \"{{FINANCIAL_ACCOUNT_ID}}\",\n // The amount to send. 10.00 USD in this case.\n \"amount\": 1000,\n \"currency\": \"usd\",\n // The destination PaymentMethod or BankAccount.\n // This should be nil if destination_payment_method is set.\n destination_payment_method_data: {\n type: \"financial_account\", // us_bank_account is not supported\n financial_account: \"{{FINANCIAL_ACCOUNT_ID}}\",\n },\n\n // This should be nil if destination_payment_method_data is set.\n\"destination_payment_method\": \"{{PAYMENT_METHOD_ID}}\" | \"{{BANK_ACCOUNT_ID}}\",\n // Optionally, to explicitly specify a network, override the `network` value\n // This should be nil if destination_payment_method_data is set.\n \"destination_payment_method_options\": {\n \"us_bank_account\": {\n \"network\": \"ach\" | \"us_domestic_wire\"\n }\n },\n // A description visible on the external bank statement.\n \"statement_descriptor\": \"Bank xfer\",\n // An optional internal description to identify this OutboundTransfer\n \"description\": \"Transfer to my external account\",\n // Stripe does not support updating originated transfers after creation.\n // You can only set metadata at creation.\n \"metadata\": nil | Hash,\n}\n```\n\nThe following request creates an `OutboundTransfer` on an account-attached\n`PaymentMethod` with the source of funds coming from the identified financial\naccount.\n\n```\ncurl https://api.stripe.com/v1/treasury/outbound_transfers \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -H \"Stripe-Account: {{CONNECTED_ACCOUNT_ID}}\" \\\n -d financial_account={{FINANCIAL_ACCOUNT_ID}} \\\n -d amount=1000 \\\n -d currency=usd \\\n -d destination_payment_method={{PAYMENT_METHOD_ID}} \\\n -d statement_descriptor=\"Test xfer\" \\\n -d \"destination_payment_method_options[us_bank_account][network]\"=ach\n```\n\nIf successful, the response returns the newly created `OutboundTransfer` object.\n\n```\n{\n \"id\": \"{{OUTBOUND_TRANSFER_ID}}\",\n \"object\": \"outbound_transfer\",\n \"amount\": 1000,\n \"cancelable\": true,\n \"created\": 1648479987,\n \"currency\": \"usd\",\n \"description\": null,\n \"destination_payment_method\": \"{{PAYMENT_METHOD_ID}}\" | null,\n \"destination_payment_method_details\": {\n```\n\nSee all 45 lines\n### Same-day ACH\n\n#### Private preview\n\nSame-day ACH is currently in preview with limited availability, subject to\nStripe review and approval. To request access, email\n[treasury-support@stripe.com](mailto:treasury-support@stripe.com).\n\nIf you don’t have access, API calls that include same-day ACH features or\nparameters return an error.\n\nUsing same-day ACH enables sending funds that arrive the same business day if\nthe `OutboundTransfer` call successfully completes before the [cutoff\ntime](https://docs.stripe.com/treasury/money-movement/timelines#evolve-bank-and-trust--outbound).\nTo use same-day ACH, set the\n`destination_payment_method_options.us_bank_account.network` parameter to `ach`\nand the `destination_payment_method_options.us_bank_account.ach.submission`\nparameter to `same_day`.\n\n### Wire transfer: routing numbers\n\nSome banks might use a separate wire transfer routing number that differs from\nACH. Consequently, you might receive an error during wire creation if the\nrouting number on the payment method doesn’t support wire transfers. If you\nreceive this error, you need to add a new payment method with your bank’s wire\nrouting number.\n\n### Wire transfer: recipient address\n\nWire transfers require ACH metadata plus recipient name and billing address. The\naddress is the address of the account holder receiving the wire, not the address\nof their bank.\n\nWhen entering the `billing_details.address` for a payment method, all address\nfields must be complete. Attempting to send a wire with incomplete fields on the\n`billing_details.address` results in an error.\n\n#### Note\n\nWhen sending a wire using an `OutboundTransfer`, if you don’t fill out any\naddress fields, Stripe defaults to the legal entity of the primary Stripe\naccount holder.\n\n## Retrieve an OutboundTransfer\n\nUse `GET /v1/treasury/outbound_transfers/{{OUTBOUND_TRANSFER_ID}}` to retrieve\ndetails for the `OutboundTransfer` with the associated ID.\n\nThe following request retrieves the `OutboundTransfer` with the associated ID,\nexpanding the details of the `Transaction`.\n\n```\ncurl -G\nhttps://api.stripe.com/v1/treasury/outbound_transfers/{{OUTBOUND_TRANSFER_ID}} \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -H \"Stripe-Account: {{CONNECTED_ACCOUNT_ID}}\" \\\n -d \"expand[]\"=transaction\n```\n\nIf successful, the response returns the `OutboundTransfer` object with the\nassociated ID. Some of the parameters in the response have additional details\nthat are only returned when you add them as values to the `expand[]` parameter.\nThe fields that you can expand have an “Expandable” comment in the following\nresponse example. See [Expanding\nResponses](https://docs.stripe.com/api/expanding_objects) to learn more about\nexpanding object responses.\n\n```\n{\n \"id\": \"{{OUTBOUND_TRANSFER_ID}}\",\n \"object\": \"outbound_transfer\",\n \"livemode\": Boolean,\n \"created\": Timestamp,\n \"financial_account\": \"{{FINANCIAL_ACCOUNT_ID}}\", // Expandable\n \"amount\": 1000,\n \"currency\": \"usd\",\n \"destination_payment_method\": \"{{PAYMENT_METHOD_ID}}\",\n \"description\": \"Transfer to my external account\",\n```\n\nSee all 101 lines\n## Cancel an OutboundTransfer\n\nUse `POST /v1/treasury/outbound_transfers/{{OUTBOUND_TRANSFER_ID}}/cancel` to\ncancel the `OutboundTransfer` with the associated ID. The `OutboundTransfer`\nobject includes a `cancelable` parameter with a Boolean value to indicate\nwhether you can cancel the transfer. After an `OutboundTransfer` submits to the\nnetwork, the `cancelable` value becomes `false` and you receive an error from\nthis endpoint for that transfer.\n\n```\ncurl -X POST\nhttps://api.stripe.com/v1/treasury/outbound_transfers/{{OUTBOUND_TRANSFER_ID}}/cancel\n\\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -H \"Stripe-Account: {{CONNECTED_ACCOUNT_ID}}\"\n```\n\nIf successful, the response returns the `OutboundTransfer` object with a status\nof `canceled`.\n\n```\n{\n \"id\": \"{{OUTBOUND_TRANSFER_ID}} \",\n \"object\": \"outbound_transfer\",\n \"amount\": 1000,\n \"cancelable\": false,\n \"created\": 1648487177,\n \"currency\": \"usd\",\n ...\n \"status\": \"canceled\",\n \"status_transitions\": {\n \"canceled_at\": 1648487198,\n \"failed_at\": null,\n \"posted_at\": null,\n \"returned_at\": null\n },\n \"transaction\": \"{{TRANSACTION_ID}}\"\n}\n```\n\n## List OutboundTransfers\n\nUse `GET /v1/treasury/outbound_transfers` to list the `OutboundTransfers` sent\nfrom the financial account with the ID of the `financial_account` parameter. You\ncan filter the list with the standard list parameters or by `status`.\n\n```\n{\n // Standard list parameters\n \"limit\", \"starting_after\", \"ending_before\",\n // Filter by status\n \"status\": \"processing\" | \"posted\" | \"failed\" | \"returned\" | \"canceled\",\n // Filter by FinancialAccount (Required)\n \"financial_account\": \"{{FINANCIAL_ACCOUNT_ID}}\",\n}\n```\n\nThe following request retrieves `OutboundTransfers` from the financial account\nidentified. The included parameters limit the response to the first three\ntransfers after the `OutboundTransfer` with the provided ID.\n\n```\ncurl -G https://api.stripe.com/v1/treasury/outbound_transfers \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -H \"Stripe-Account: {{CONNECTED_ACCOUNT_ID}}\" \\\n -d financial_account={{FINANCIAL_ACCOUNT_ID}} \\\n -d limit=3 \\\n -d starting_after={{OUTBOUND_TRANSFER_ID}}\n```\n\nIf successful, the response returns a list of [OutboundTransfer\nobjects](https://docs.stripe.com/api/treasury/outbound_transfers/object) that\nsatisfy any filtering conditions.\n\n## OutboundTransfer states\n\nThe following table describes each `status` for `OutboundTransfers` and what the\npossible transition states are.\n\nSTATUSDESCRIPTIONTRANSITIONS TO STATE`processing`The `OutboundTransfer` starting\nstate. Funds are allotted to a pending transaction (but are still part of the\ncurrent balance). The user can cancel the `OutboundTransfer` while the value of\nthe `cancelable` parameter is `true`.`posted`, `canceled`, `failed``canceled`\n(terminal)A user canceled the `OutboundTransfer` before posting. Stripe voids\nthe pending transaction and returns the funds to the user.N/A`posted`The\n`OutboundTransfer` has been sent to the network and funds have left the account\n(with the transaction posting).`returned``returned` (terminal)The\n`OutboundTransfer` failed to successfully arrive at the destination (for\nexample, due to incorrect account details). Stripe returns the funds to the user\nwith `returned_details[transaction]`.N/A`failed` (terminal)The\n`OutboundTransfer` failed to be sent to the network. Stripe voids the pending\ntransaction and returns the funds to the user. Stripe might use this state to\nindicate internal errors.N/A\n## Test OutboundTransfers\n\nIn test mode, you can specify the `destination_payment_method` as a test mode\npayment method. You can create your own test mode\n[PaymentMethods](https://docs.stripe.com/api/payment_methods) or use our test\nIDs when testing your integration.\n\nTYPEOUTCOMEPAYMENT METHOD`us_bank_account`Default, transitions to\n`posted`.`pm_usBankAccount``us_bank_account`Transitions to `posted`, adds one\nday to the original\n`expected_arrival_date`.`pm_usBankAccount_expectedArrivalDateUpdated``us_bank_account`Remains\nin `processing`.`pm_usBankAccount_processing``us_bank_account`Transitions to\n`canceled`.`pm_usBankAccount_canceledByUser``us_bank_account`Transitions to\n`failed`.`pm_usBankAccount_internalFailure``us_bank_account`Transitions to\n`returned` with\n`returned_details.code=\"no_account\"`.`pm_usBankAccount_noAccount``us_bank_account`Transitions\nto `returned` with\n`returned_details.code=\"account_closed\"`.`pm_usBankAccount_accountClosed``us_bank_account`Transitions\nto `returned` with\n`returned_details.code=\"invalid_account_number\"`.`pm_usBankAccount_invalidAccountNumber`\nIn all cases, the `OutboundTransfer` response is in the `processing` state.\nStripe triggers [webhooks](https://docs.stripe.com/webhooks) for the relevant\nstate transitions, and fetching the `OutboundTransfer` after creation returns\nthe expected state.\n\n### OutboundTransfer test helper endpoints\n\nStripe provides endpoints to help you test `OutboundTransfers` in different\nstates. After creating an `OutboundTransfer`, use these endpoints to move the\n`OutboundTransfer` directly to a new state of `posted`, `failed`, `canceled`, or\n`returned`.\n\n- Use the [test post\nendpoint](https://docs.stripe.com/api/treasury/outbound_transfers/test_mode_post)\nto move the identified `OutboundTransfer` from `processing` to `posted`.\n\n`POST\n/v1/test_helpers/treasury/outbound_transfers/{{OUTBOUND_TRANSFER_ID}}/post`\n- Use the [test fail\nendpoint](https://docs.stripe.com/api/treasury/outbound_transfers/test_mode_fail)\nto move the identified `OutboundTransfer` from `processing` to `failed`.\n\n`POST\n/v1/test_helpers/treasury/outbound_transfers/{{OUTBOUND_TRANSFER_ID}}/fail`\n- Use the [test return\nendpoint](https://docs.stripe.com/api/treasury/outbound_transfers/test_mode_return)\nto move the identified `OutboundTransfer` from `posted` to `returned`.\n\n`POST\n/v1/test_helpers/treasury/outbound_transfers/{{OUTBOUND_TRANSFER_ID}}/return`\n\nThese endpoints are particularly useful when testing error scenarios, such as\nreturns, which would otherwise require outside action.\n\nFor the `return` endpoint, include the optional `returned_details.code`\nparameter in the body to indicate why the transfer was returned. If not\nprovided, the transfer defaults to the `declined` return code.\n\n```\n{\n \"returned_details\": {\n \"code\": \"account_closed\" |\n \"account_frozen\" |\n \"bank_account_restricted\" |\n \"bank_ownership_changed\" |\n \"could_not_process\" |\n \"invalid_account_number\" |\n \"incorrect_account_holder_name\" |\n \"invalid_currency\" |\n \"no_account\" |\n \"declined\"\n }\n}\n```\n\nWe also provide a [test update\nendpoint](https://docs.stripe.com/api/treasury/outbound_transfers/test_mode_update)\nto simulate the posting of tracking details on a test mode `Outbound Transfer`.\nThe `tracking_details` field can only be set for test mode objects.\n\nIn all cases, Stripe triggers [webhooks](https://docs.stripe.com/webhooks) for\neach relevant state transition, and fetching the `OutboundTransfer` after\ntransition returns the expected state.\n\n## OutboundTransfer webhooks\n\nStripe emits the following `OutboundTransfer` events to your\n[webhook](https://docs.stripe.com/webhooks) endpoint:\n\n- `treasury.outbound_transfer.created` on OutboundTransfer creation.\n- `treasury.outbound_transfer.{{new_status}}` when an OutboundTransfer changes\nstatus. Available status value options include:-\n`treasury.outbound_transfer.posted`\n- `treasury.outbound_transfer.failed`\n- `treasury.outbound_transfer.returned`\n- `treasury.outbound_transfer.canceled`\n- `treasury.outbound_transfer.expected_arrival_date_updated` when the\n`expected_arrival_date` of an OutboundTransfer changes.\n- `treasury.outbound_transfer.tracking_details_updated` when the tracking\ndetails for an `OutboundTransfer` are updated.\n\n## Links\n\n- [Money movement\ntimelines](https://docs.stripe.com/treasury/money-movement/timelines#outboundpayment-and-outboundtransfer-transactions)\n-\n[BankAccount](https://docs.stripe.com/payments/ach-direct-debit/migrating-from-charges)\n- [ExternalAccount](https://docs.stripe.com/api/external_accounts)\n-\n[OutboundTransfer](https://docs.stripe.com/api/treasury/outbound_transfers/create)\n- [cutoff\ntime](https://docs.stripe.com/treasury/money-movement/timelines#evolve-bank-and-trust--outbound)\n- [Expanding Responses](https://docs.stripe.com/api/expanding_objects)\n- [OutboundTransfer\nobjects](https://docs.stripe.com/api/treasury/outbound_transfers/object)\n- [PaymentMethods](https://docs.stripe.com/api/payment_methods)\n- [webhooks](https://docs.stripe.com/webhooks)\n- [test post\nendpoint](https://docs.stripe.com/api/treasury/outbound_transfers/test_mode_post)\n- [test fail\nendpoint](https://docs.stripe.com/api/treasury/outbound_transfers/test_mode_fail)\n- [test return\nendpoint](https://docs.stripe.com/api/treasury/outbound_transfers/test_mode_return)\n- [test update\nendpoint](https://docs.stripe.com/api/treasury/outbound_transfers/test_mode_update)",
  "metadata": {
    "title": "Moving money with Treasury using OutboundTransfer objects | Stripe Documentation",
    "description": "Learn how to transfer money out of Treasury financial accounts to external accounts.",
    "sourceURL": "https://docs.stripe.com/treasury/moving-money/financial-accounts/out-of/outbound-transfers"
  }
}