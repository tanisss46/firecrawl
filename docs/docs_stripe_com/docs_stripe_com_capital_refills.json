{
  "content": "# RefillsPrivate preview\n\n## Learn how to enable refills for your Capital program.\n\nRefills are additional financing offers sent to customers who have made\nsubstantial repayment progress towards their in-progress loans. If approved,\nrefill offers pay down the remaining balance on the in-progress loan.\n\nThis guide assumes you have completed [the API set-up\nguide](https://docs.stripe.com/capital/api-integration).\n\n#### Private preview\n\nRefills aren’t enabled by default for [Capital\nAPI](https://docs.stripe.com/api/capital/financing_offers) platforms. After\nyou’ve updated your integration to support refills, [contact\nus](mailto:capital-review@stripe.com) to enable refill offers for your platform.\n\n## Refill offer lifecycle\n\n- Stripe evaluates active Capital users daily for refill financing eligibility,\njust like standard financing offers.\n- When a refill offer is created, you receive a\n`capital.financing_offer.created` [webhook](https://docs.stripe.com/webhooks)\nwhich contains `\"product_type\": \"refill\"` to indicate it’s a refill offer.\n- Depending on the `product_type` and `offered_terms.campaign_type` fields, use\napproved messaging to communicate the financing offer to the customer.\n- The customer accesses the refill application with the same Account Link setup\nfrom the [API set up\nguide](https://docs.stripe.com/capital/api-integration#send-offer-email). The\ncustomer can adjust a custom slider up to the max qualified offer amount.\n\n!\n\nRefill application\n\n!\n\nRefill application\n- Customers who accept the refill offer are offered a discount, taken as a\npercentage on the remaining premium of their existing loan. This discount rate\nis exposed as `previous_financing_fee_discount_rate` under `offered_terms`.\n- If the customer accepts the refill offer, we send a\n`capital.financing_offer.accepted` [webhook](https://docs.stripe.com/webhooks).\nThe webhook payload contains an `accepted_terms` field containing the amounts\nthe customer selected. The field `previous_financing_fee_discount_amount` will\nbe `null` until the previous financing has been fully repaid and we’ve\ndetermined the discount amount.\n\nExample webhook:\n\n```\n{\n \"type\": \"capital.financing_offer.accepted\",\n \"api_version\": \"2022-02-28\",\n \"created\": 123456789,\n \"data\": {\n \"object\": {\n \"id\": \"financingoffer_abcdef123456\",\n \"object\": \"capital.financing_offer\",\n \"account\": \"acct_abcdef123456\",\n \"created_at\": 123456789,\n \"expires_after\": 123456789,\n \"livemode\": true,\n \"status\": \"accepted\",\n \"accepted_terms\": {\n \"currency\": \"usd\",\n \"advance_amount\": 100000,\n \"fee_amount\": 10000,\n \"withhold_rate\": 0.15,\n \"previous_financing_fee_discount_amount\": null\n },\n \"financing_type\": \"flex_loan\",\n \"offered_terms\": {\n \"currency\": \"usd\",\n \"advance_amount\": 100000,\n \"fee_amount\": 10000,\n \"withhold_rate\": 0.15,\n \"campaign_type\": \"repeat_user\",\n \"previous_financing_fee_discount_rate\": 0.5\n },\n \"product_type\": \"refill\"\n }\n }\n}\n```\n- The new loan will first repay and close out the customer’s active loan. The\ncustomer receives the difference. This new loan payout will send the\n`capital.financing_offer.paid_out` webhook, at which point the\n`previous_financing_fee_discount_amount` field will be set.\n- [Retrieve the financing\nsummary](https://docs.stripe.com/api/capital/financing_summary) to see the\ndetails of the customer’s `paid_out` financing.\n\nExample response:\n\n```\n{\n \"object\": \"capital.financing_summary\",\n \"details\": {\n \"currency\": \"usd\",\n \"advance_amount\": 1000000,\n \"fee_amount\": 100000,\n \"withhold_rate\": 0.2,\n \"remaining_amount\": 0,\n \"paid_amount\": 0,\n \"current_repayment_interval\": {\n \"due_at\": 123456789,\n \"remaining_amount\": 50,\n \"paid_amount\": 50\n },\n \"repayments_begin_at\": 123456789,\n \"advance_paid_out_at\": 123456789\n }\n }\n```\n- Details about the refill and original financing are also available on the\nfinancing reporting page.\n\n!\n\nHosted reporting of original loan\n\n!\n\nHosted reporting of newly refilled loan\n\n## Links\n\n- [the API set-up guide](https://docs.stripe.com/capital/api-integration)\n- [Capital API](https://docs.stripe.com/api/capital/financing_offers)\n- [webhook](https://docs.stripe.com/webhooks)\n- [API set up\nguide](https://docs.stripe.com/capital/api-integration#send-offer-email)\n- [Retrieve the financing\nsummary](https://docs.stripe.com/api/capital/financing_summary)",
  "metadata": {
    "title": "Refills | Stripe Documentation",
    "description": "Learn how to enable refills for your Capital program.",
    "sourceURL": "https://docs.stripe.com/capital/refills"
  }
}