{
  "content": "# Subscription orders\n\n## Learn about syncing your subscription orders between Salesforce and Stripe.\n\nThe Stripe Billing Connector for Salesforce CPQ creates a subscription schedule\nin Stripe for every activated order in Salesforce that has a subscription type.\nIn a Salesforce order, each order line creates a subscription item (for a\nrecurring product) or an invoice item in Stripe. Order lines can’t be split into\nmultiple line items in Stripe.\n\nBy default, each subscription schedule in Stripe doesn’t automatically renew. To\nrenew a subscription, do either of the following:\n\n- Create an order amendment with a new subscription start date and term.\n- Configure your integration to auto-renew all subscriptions.\n\n#### Note\n\nThe “native” quote object–distinct from the `CPQ Quote` object–in Salesforce\nisn’t used. The connector uses orders generated from the `CPQ Quote` object.\n\n## Determine which orders to sync\n\nThe connector checks Salesforce every 90 seconds for updated orders since the\nlast successful order sync.\n\nThe connector attempts to sync all orders that meet the following conditions:\n\n- The order status is activated. You can remove or customize this default\ncondition.\n- The order type is new.\n- At least one of the order lines is a subscription product. This means it’s set\nto `SBQQ_SubscriptionType_c`.\n\nIf all order lines are one-time purchase items, the connector creates a one-time\ninvoice instead of a subscription.\n\n### Order dates\n\nWhen you set up the connector, you can choose a backfill date for orders. Only\norders created after this date sync to Stripe.\n\nYou can backdate subscription start dates, which is the order start date used in\nStripe. To prevent errors when activating the order, you must provide a start\ndate on the quote and related order.\n\nYou can optionally provide a trial end date. If you don’t set a trial date, the\ncustomer won’t receive a trial period.\n\n### Order sync conditions\n\nYou can add custom conditions to the default sync conditions. These conditions\nare described using standard SOQL syntax.\n\nTo add custom conditions or remove default conditions, navigate to **Stripe\nBilling Setup** > **Sync Preferences** > **Custom Order Sync Conditions**.\n\n### Limitations\n\nThe connector can’t sync orders with more than 100 recurring line items. An\nerror appears in Salesforce if an order has more than 100 recurring lines.\n\nYou must specify quantities as an integer in Salesforce. Stripe doesn’t allow\ndecimal quantities. An error appears in Salesforce if an order has a decimal\nquantity.\n\nAll line items in an order must have the same interval count and interval type.\nThe interval count maps from `Billing Frequency`, by default. The interval type\nis daily or monthly. Stripe doesn’t allow different billing frequencies in the\nsame order, which means you can’t have one line item billed every other month\nand another line item billed every month.\n\n### Exclude line items\n\nBy default, all line items (including zeroed line items) sync from Salesforce to\nStripe. You can exclude certain line items from the subscription schedule that’s\ncreated in Stripe. For example, you can exclude line items that are for\ninformational purposes only that you don’t want to display on the recurring\ninvoice in Stripe.\n\nTo exclude line items, set `Skip Line Item in Stripe` on the order item to\n`true`.\n\nWhen this field is set to `true`, the connector skips the order item and\nexcludes it from the line items of the subscription schedule phase in Stripe.\nThe internal field name is `Skip_Line_Item__c` (not excluding the package\nprefix).\n\n## Subscription schedule mapping\n\nAn activated order in Salesforce creates a subscription schedule in Stripe. The\nfields map as follows.\n\nSalesforce order fieldStripe subscription schedule fieldNotesRequiredQuote,\nStart date (`SBQQ_StartDate_c`)[Start\ndate](https://docs.stripe.com/api/subscription_schedules/create#create_subscription_schedule-start_date)Quote,\nSubscription term[Phases,\nIterations](https://docs.stripe.com/api/subscription_schedules/create#create_subscription_schedule-phases-iterations)[End\nbehavior](https://docs.stripe.com/api/subscription_schedules/object#subscription_schedule_object-end_behavior)The\ndefault value is `cancel`. If you want the subscription to auto-renew, you can\nconfigure this mapping in the data mapper.Payment term\n(`SBQQ_PaymentTerm_c`)Default settings, Invoice_settings, [Days until\ndue](https://docs.stripe.com/api/subscription_schedules/object#subscription_schedule_object-default_settings-invoice_settings-days_until_due)\n## Line item mapping\n\nEach line item of an activated order in Salesforce maps as follows. These fields\nare required.\n\nIf the unit price for an order item is different from the pricebook unit price,\nthe connector uses the order item price and creates a new Stripe price.\n\nSalesforce field (OrderItem object)Stripe line item fieldNotesPricebook Entry,\nUnitPrice[Price](https://docs.stripe.com/api/invoices/line_item#invoice_line_item_object-price)The\nStripe price contains the exact unit amount specified on the pricebook item. If\nyou use a custom field to represent the recurring price billed to the customer,\nyou can configure this mapping.OrderItem,\nUnitPrice[Price](https://docs.stripe.com/api/invoices/line_item#invoice_line_item_object-price)The\nStripe price contains the exact unit amount specified on the order line item. If\nyou use a custom field to represent the recurring price billed to the customer,\nyou can configure this mapping.Quantity\n(`OrderItem.SBQQ_OrderedQuantity_c`)[Quantity](https://docs.stripe.com/api/invoices/line_item#invoice_line_item_object-quantity)You\nmust specify the quantity as an integer; otherwise, the quantity is forced to\n`1` and the price adjusts to represent the net amount of the line item cost. If\nthe billing type is `arrears` (metered billing), the quantity isn’t set on the\nline item. Instead, you must report the quantity to Stripe before the end of the\ncustomer’s billing period.\n## Subscription changes\n\nYou can’t update an activated order in Salesforce, and any changes you make to\nan order in Salesforce won’t sync to Stripe. To adjust or partially cancel a\nsubscription mid-cycle, you can use an [order\namendment](https://docs.stripe.com/connectors/salesforce-cpq/subscription-order-amendments).\n\nBy default, subscription schedules won’t automatically renew. To update the\nrenewal information, create an [order\namendment](https://docs.stripe.com/connectors/salesforce-cpq/subscription-order-amendments)\nthat’s associated with the original contract.\n\nYou can also customize this functionality to auto-renew by default, or manage\nthe renew logic directly in Stripe.\n\n## See also\n\n- [Field defaults and custom\nmappings](https://docs.stripe.com/connectors/salesforce-cpq/field-mappings)\n- [Order\namendments](https://docs.stripe.com/connectors/salesforce-cpq/subscription-order-amendments)\n- [Evergreen\norders](https://docs.stripe.com/connectors/salesforce-cpq/evergreen-orders)\n\n## Links\n\n- [Start\ndate](https://docs.stripe.com/api/subscription_schedules/create#create_subscription_schedule-start_date)\n- [Phases,\nIterations](https://docs.stripe.com/api/subscription_schedules/create#create_subscription_schedule-phases-iterations)\n- [End\nbehavior](https://docs.stripe.com/api/subscription_schedules/object#subscription_schedule_object-end_behavior)\n- [Days until\ndue](https://docs.stripe.com/api/subscription_schedules/object#subscription_schedule_object-default_settings-invoice_settings-days_until_due)\n-\n[Price](https://docs.stripe.com/api/invoices/line_item#invoice_line_item_object-price)\n-\n[Quantity](https://docs.stripe.com/api/invoices/line_item#invoice_line_item_object-quantity)\n- [order\namendment](https://docs.stripe.com/connectors/salesforce-cpq/subscription-order-amendments)\n- [Field defaults and custom\nmappings](https://docs.stripe.com/connectors/salesforce-cpq/field-mappings)\n- [Evergreen\norders](https://docs.stripe.com/connectors/salesforce-cpq/evergreen-orders)",
  "metadata": {
    "title": "Subscription orders | Stripe Documentation",
    "description": "Learn about syncing your subscription orders between Salesforce and Stripe.",
    "sourceURL": "https://docs.stripe.com/connectors/salesforce-cpq/subscriptions"
  }
}