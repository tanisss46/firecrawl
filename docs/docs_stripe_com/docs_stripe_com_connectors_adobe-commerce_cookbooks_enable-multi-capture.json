{
  "content": "# Enable multicapture\n\n## Capture the same authorization multiple times.\n\nPartially capturing an authorization releases the remaining amount by default.\nTo capture the remaining order amount after the initial capture, you must create\na new payment, which might not succeed. You can use the Stripe multicapture\nfeature to capture multiple installments against the same payment authorization.\n\n#### IC+ feature\n\nMulticapture is an\n[IC+](https://support.stripe.com/questions/understanding-blended-interchange-pricing)\nfeature. If you’re on blended Stripe pricing and want access to this feature,\ncontact [Stripe Support](https://support.stripe.com/).\n\nThe Stripe module supports multicapture by default. This guide describes how to\nenable it through a customization.\n\n## Create a new module\n\nCreate a new module with the following directory structure. Replace `Vendor`\nwith your vendor name.\n\n```\napp/code/Vendor/StripeCustomizations/\n├── etc/\n│ ├── module.xml\n│ └── config.xml\n├── registration.php\n\n```\n\nInside `registration.php`, register your module with Magento.\n\n```\n<?php\n\\Magento\\Framework\\Component\\ComponentRegistrar::register(\n \\Magento\\Framework\\Component\\ComponentRegistrar::MODULE,\n 'Vendor_StripeCustomizations',\n __DIR__\n);\n```\n\nInside `etc/module.xml`, define the module and set up dependencies to make sure\nit loads after the Stripe module.\n\n```\n<?xml version=\"1.0\"?>\n<config xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:noNamespaceSchemaLocation=\"urn:magento:framework:Module/etc/module.xsd\">\n <module name=\"Vendor_StripeCustomizations\" setup_version=\"1.0.0\">\n <sequence>\n <module name=\"StripeIntegration_Payments\"/>\n </sequence>\n </module>\n</config>\n```\n\nInside `etc/config.xml`, override the following settings from the Stripe module:\n\n```\n<?xml version=\"1.0\"?>\n<config xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:noNamespaceSchemaLocation=\"urn:magento:module:Magento_Store:etc/config.xsd\">\n <default>\n <stripe_settings>\n <multicapture_enabled>1</multicapture_enabled>\n </stripe_settings>\n </default>\n</config>\n```\n\nEnable the module:\n\n```\nphp bin/magento module:enable Vendor_StripeCustomizations\nphp bin/magento setup:upgrade\nphp bin/magento cache:clean\nphp bin/magento cache:flush\n\n```\n\n## Links\n\n-\n[IC+](https://support.stripe.com/questions/understanding-blended-interchange-pricing)\n- [Stripe Support](https://support.stripe.com/)\n-\n[http://www.w3.org/2001/XMLSchema-instance](http://www.w3.org/2001/XMLSchema-instance)",
  "metadata": {
    "title": "Enable multicapture | Stripe Documentation",
    "description": "Capture the same authorization multiple times.",
    "sourceURL": "https://docs.stripe.com/connectors/adobe-commerce/cookbooks/enable-multi-capture"
  }
}