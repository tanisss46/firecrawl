{
  "content": "# Export data to Azure Blob Storage\n\n## Automate recurring data exports from Stripe to your Azure Blob Storage container.\n\n# Azure Blob Storage destination\n\nThe Azure Blob Storage destination delivers copies of all your Stripe data as\nParquet files into your Azure Blob Storage account. It contains a directory of\nfiles for each table, delivered and updated every 6 hours.\n\n[Prerequisites](https://docs.stripe.com/stripe-data/access-data-in-warehouse/cloud-storage/azure-blob-storage#prerequisites)\nBefore starting the integration, make sure you have access to:\n\n- Create a new Azure App Registration.\n- Create a new Azure Storage account.\n- Create a new Azure Storage container.\n- Access the Stripe Dashboard as an admin.\n[Create a new Azure App\nRegistration](https://docs.stripe.com/stripe-data/access-data-in-warehouse/cloud-storage/azure-blob-storage#create-app-registration)-\nOn the [App\nregistrations](https://portal.azure.com/#view/Microsoft_AAD_RegisteredApps/ApplicationsListBlade)\npage, click **+ New Registration**.\n- Enter a name for this application and click **Register**.\n#### Note\n\nDon’t make any changes to either the **Supported account types** field or the\n**Redirect URI** field.\n- Make a note of the Application (client) ID and Directory (tenant) ID values\nfrom the Overview page of created app registration.\n- Click **Add a certificate or secret link** in the same section or click\n**Manage** > **Certificates & secrets**.\n- Click **+ New Client Secret** and enter a description and set `Expires` to 730\ndays (24 months).\n- Click the ** to clipboard** icon to copy the Value field (client secret\nvalue) and make a note of it.\n[Create a new Azure Storage\naccount](https://docs.stripe.com/stripe-data/access-data-in-warehouse/cloud-storage/azure-blob-storage#storage-account)-\nOn the [Storage\naccounts](https://portal.azure.com/#view/HubsExtension/BrowseResource/resourceType/Microsoft.Storage%2FStorageAccounts)\npage, click **+ Create**.\n- Choose a Subscription and Resource group.\n- Enter a Storage account name that’s unique across all Storage accounts in\nAzure (for example, “stripeuniquename” or “stripeasd5dwju8awkwe”).\n- Choose a Region. \n#### Caution\n\nWe don’t support data regions in India. Let us know if you have questions about\nsupport for your desired region.\n- Choose a **Performance** level and **Redundancy** option.\n- Click **Review + create**.\n- Review your settings and click **Create**.\n- After creating the account, click **Go to resource**. Resource creation\ntypically completes within 15 seconds.\n- Make a note of Resource group value and Subscription ID values as shown in the\nOverview section.\n[Create a new Azure Storage\ncontainer](https://docs.stripe.com/stripe-data/access-data-in-warehouse/cloud-storage/azure-blob-storage#create-storage-container)-\nClick **Data storage** > **Containers** in the left pane.\n- Click **+ Container**.\n- Choose a name for your container (for example, “stripe-data”).\n- Set anonymous access level to **Private (no anonymous access)**.\n- Click **Create**.\n- Click the created container and go to **Settings** > **Properties** in the\nleft pane.\n- Make a note of the container URL field.\n[Grant permissions on Storage\naccount](https://docs.stripe.com/stripe-data/access-data-in-warehouse/cloud-storage/azure-blob-storage#grant-permissions)-\nNavigate to your created Storage account page.\n- Click **Access Control (IAM)** in the left menu.\n- Click **Add** then **Add role assignment**\n- Search for the **Storage Blob Data Contributor** role and select it, then\nclick next.\n- Click **+ Select members** and search with the application name created in\nstep 2.2\n- Select the corresponding application shown in the dropdown and click select.\n- Click **Review + assign**.\n- Verify if the role and application name display correctly, and Click **Review\n+ assign**. The role assignment completes after it processes.\n- Follow the same steps from 1-7 and search for and select the **Reader and Data\nAccess** role in step 4 instead.\n- By following these instructions, you grant both the `Storage Blob Data\nContributor` and `Reader and Data Access` roles to your registered application\nfor the storage account.\n[OptionalGenerate encryption\nkeys](https://docs.stripe.com/stripe-data/access-data-in-warehouse/cloud-storage/azure-blob-storage#generate-encryption-key)[Establishing\nYour Azure Blob Storage\nConnection](https://docs.stripe.com/stripe-data/access-data-in-warehouse/cloud-storage/azure-blob-storage#establishing-connection)-\nVisit the [Data Pipeline\nDashboard](https://dashboard.stripe.com/settings/stripe-data-pipeline).\n- Click **Get started**.\n- Select the Microsoft Azure warehouse.\n- Enter the Client ID, tenant ID and Client secret generated in step 2.\n- Enter the Subscription ID and Resource group values generated in step 3.\n- Enter the Container URL generated in step 4.\n- Select your data encryption option. If you chose to use a customer managed\nkey, upload your public key.\n- Click **Next**. Clicking **Next** sends test data to the container on the\nstorage account you provided, but not production data.\n- When you confirm test data delivery, go to your container on the Azure Storage\naccount.\n- Open the container, navigate to the penny_test directory, and open the acct_\nprefixed sub-directory to locate the delivered account_validation.csv test file.\n- Click the **account_validation.csv** file\n- Click **DOWNLOAD**.\n- Click **Upload file** in the Stripe Dashboard and upload the downloaded\naccount_validation.csv file.\n- When the file shows as verified, click **Subscribe**. This subscribes you to\nthe product and schedules the initial full load of data for delivery to your\ncontainer on the Azure Storage account, a process that can take 6-12 hours.\n\n## Links\n\n- [App\nregistrations](https://portal.azure.com/#view/Microsoft_AAD_RegisteredApps/ApplicationsListBlade)\n- [Storage\naccounts](https://portal.azure.com/#view/HubsExtension/BrowseResource/resourceType/Microsoft.Storage%2FStorageAccounts)\n- [Data Pipeline\nDashboard](https://dashboard.stripe.com/settings/stripe-data-pipeline)",
  "metadata": {
    "title": "Export data to Azure Blob Storage | Stripe Documentation",
    "description": "Automate recurring data exports from Stripe to your Azure Blob Storage container.",
    "sourceURL": "https://docs.stripe.com/stripe-data/access-data-in-warehouse/cloud-storage/azure-blob-storage"
  }
}