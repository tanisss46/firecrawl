{
  "content": "# Setting subscription quantities\n\n## Vary the cost of a subscription by subscribing a customer to multiple quantities of a product.\n\nBy default, each subscription is for one product, but Stripe allows you to\nsubscribe a customer to multiple quantities of an item. For example, say you run\na hosting company and your customers host sites through it at a cost of 9.99 USD\nper site, per month. Most customers host a single site, while some host many.\nYou could create prices for one site (9.99 USD), two sites (19.98 USD), and so\nforth, but a better approach is to subscribe customers to a quantity with a 9.99\nUSD unit price.\n\nSubscriptions have two kinds of usage-based billing: metered billing, and\nper-seat licensing. You can enable these billing models by setting the value of\nthe `recurring[usage_type]` attribute when creating a price. You can only\nspecify a quantity when creating a subscription with a `recurring[usage_type]`\nof `licensed`. If you want to have granular billing for usage that fluctuates\nwithin a billing interval, consider using [metered\nbilling](https://docs.stripe.com/products-prices/pricing-models#usage-based-pricing)\ninstead of quantities.\n\n## Setting multiple quantities\n\nTo set the quantity on a subscription, provide a `quantity` value when\n[creating](https://docs.stripe.com/api#create_subscription) or\n[updating](https://docs.stripe.com/api#update_subscription) the subscription:\n\n```\ncurl https://api.stripe.com/v1/subscriptions \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d customer=cus_4fdAW5ftNQow1a \\\n -d \"items[0][price]\"=price_CBb6IXqvTLXp3f \\\n -d \"items[0][quantity]\"=5\n```\n\nYou still bill multiple quantities using one\n[invoice](https://docs.stripe.com/api/invoices), and you\n[prorate](https://docs.stripe.com/billing/subscriptions/prorations) them when\nthe subscription changes. This includes when you change subscription quantities.\n\n## Charging different amounts based on quantity\n\nIn some cases, you might want to adjust the cost per seat based on the number of\nseats in a subscription. For example, you could offer volume licensing discounts\nfor subscriptions that exceed certain quantity thresholds. You can use\n[tiers](https://docs.stripe.com/products-prices/pricing-models#tiered-pricing)\nto adjust per-seat pricing.\n\n## Quantity transformation\n\nWhen you bill your customers, you might want to track usage at a different\ngranularity than you bill. For example, consider a productivity software suite\nthat charges 10 USD for every 5 users (or portion thereof) using the product.\nWithout quantity transformation, they would need to increase the `quantity` of\nthe subscription item by 1 for every 5 users.\n\nNumber of UsersSubscription Item Quantity Reported to StripeTotal1110 USD3110\nUSD5110 USD6220 USD7220 USD\nWith the `transform_quantity` parameter, you can instruct Stripe to transform\nthe quantity before applying the per unit cost. The following subscription\nallows you to naturally report the current number of users as the subscription\nitem `quantity`—Stripe’s billing system divides the quantity by 5 and rounds up\nbefore calculating by the unit cost.\n\n```\ncurl https://api.stripe.com/v1/prices \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d nickname=\"Standard Cost Per 5 Users\" \\\n -d \"transform_quantity[divide_by]\"=5 \\\n -d \"transform_quantity[round]\"=up \\\n -d unit_amount=1000 \\\n -d currency=usd \\\n -d \"recurring[interval]\"=month \\\n -d \"recurring[usage_type]\"=licensed \\\n -d product={{PRODUCTIVITY_SUITE_ID}}\n```\n\nCurrently, the only available transformation is division, using the `divide_by`\nparameter in conjunction with the `round` parameter.\n\nYou can only use `transform_quantity` with `billing_scheme=per_unit`—it’s\nincompatible with tiered pricing.\n\n### Rounding\n\nThe previous example showed a subscription that charges for every 5 users\nrounding up, that is, 6 divided by 5 results in a quantity of 2. For use cases\nwhere you don’t want to charge for a portion of usage, like charging for every\nfull gigabyte of usage of a broadband internet service, you can also pass `down`\nas the value of `round`.\n\n### Metered usage\n\nYou can also apply `transform_quantity` in conjunction with metered billing.\nThis transformation applies to prices with `recurring[usage_type]=metered` at\nthe end of a billing period in the same way it applies to `quantity` for prices\nwith `recurring[usage_type]=licensed`.\n\nA marketing email service that creates a metered price to charge 0.10 USD for\nevery full 1000 emails sent might look something like this:\n\n```\ncurl https://api.stripe.com/v1/prices \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d nickname=\"Metered Emails\" \\\n -d \"transform_quantity[divide_by]\"=1000 \\\n -d \"transform_quantity[round]\"=down \\\n -d unit_amount=10 \\\n -d currency=usd \\\n -d \"recurring[interval]\"=month \\\n -d \"recurring[usage_type]\"=metered \\\n -d product={{MARKETING_EMAILS_ID}}\n```\n\nWith this subscription, usage can be reported per email and you can bill the\ncustomer 0.10 USD for every 1000 emails they send.\n\n## See also\n\n- [Change subscriptions](https://docs.stripe.com/billing/subscriptions/change)\n- [Multiple\nsubscriptions](https://docs.stripe.com/billing/subscriptions/multiple-products)\n- [Subscriptions API](https://docs.stripe.com/api#subscriptions)\n\n## Links\n\n- [metered\nbilling](https://docs.stripe.com/products-prices/pricing-models#usage-based-pricing)\n- [creating](https://docs.stripe.com/api#create_subscription)\n- [updating](https://docs.stripe.com/api#update_subscription)\n- [invoice](https://docs.stripe.com/api/invoices)\n- [prorate](https://docs.stripe.com/billing/subscriptions/prorations)\n- [tiers](https://docs.stripe.com/products-prices/pricing-models#tiered-pricing)\n- [Change subscriptions](https://docs.stripe.com/billing/subscriptions/change)\n- [Multiple\nsubscriptions](https://docs.stripe.com/billing/subscriptions/multiple-products)\n- [Subscriptions API](https://docs.stripe.com/api#subscriptions)",
  "metadata": {
    "title": "Setting subscription quantities | Stripe Documentation",
    "description": "Vary the cost of a subscription by subscribing a customer to multiple quantities of a product.",
    "sourceURL": "https://docs.stripe.com/billing/subscriptions/quantities"
  }
}