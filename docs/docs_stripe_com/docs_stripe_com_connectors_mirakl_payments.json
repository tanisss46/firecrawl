{
  "content": "# Payments using the Mirakl connector\n\n## Accept payments using Stripe processing on Mirakl.\n\nWe categorize [payment\nmethods](https://docs.stripe.com/payments/payment-methods/overview) into seven\nfamilies. Each family has similar features, a single integration, and common\ncheckout experiences.\n\nYou can use one of our [existing connectors](https://docs.stripe.com/connectors)\nor [build your own integration](https://docs.stripe.com/payments) to accept\npayments.\n\n#### Note\n\nWhen implementing payments, don’t use any of the\n[Connect](https://docs.stripe.com/connect) charge types. The connector takes\ncare of [splitting the\nfunds](https://docs.stripe.com/connectors/mirakl/payments#payment-split) based\non your Mirakl orders.\n\n## Payment creation\n\nChoose the payment method families according to the order workflow most adapted\nto your use case.\n\nFamilyPay on acceptance Pay on delivery Pay on due date\n[Cards](https://docs.stripe.com/payments/accept-a-payment)[Bank\ndebits](https://docs.stripe.com/payments/bank-debits)[Bank\nredirects](https://docs.stripe.com/payments/bank-redirects)[Credit\ntransfers](https://docs.stripe.com/payments/sources/credit-transfers)[Buy now,\npay\nlater](https://docs.stripe.com/payments/buy-now-pay-later)[Vouchers](https://docs.stripe.com/payments/vouchers)[Wallets](https://docs.stripe.com/payments/wallets)\nBelow are some additional guidelines for adapting your payment integration to\nyour workflows.\n\n### Pay on acceptance\n\nFor cards, set the value of\n[capture_method](https://docs.stripe.com/api/payment_intents/create#create_payment_intent-capture_method)\noption to `manual` when completing the PaymentIntent to authorize only. The\nconnector [captures the funds\nautomatically](https://docs.stripe.com/connectors/mirakl/payments#payment-validation)\nas soon as all sellers have accepted or refused their respective orders. The\norders must be accepted or refused within 7 days, the validity period of an\nauthorization.\n\nBecause the payment confirmation is immediate for bank redirects, wallets and\nbuy now, pay later, we recommend setting up your orders to be accepted\nautomatically and using refunds when sellers can’t fulfill their order.\n\n### Pay on delivery\n\nFor cards, you can authorize only during checkout if you have business rules in\nplace to capture the payment within 7 days. Otherwise, [save the\ncard](https://docs.stripe.com/payments/save-and-reuse) at checkout and authorize\nlater.\n\nFor bank debits, you can save the bank account at checkout and initiate the\npayment after the seller accepts their order.\n\n### Pay on due date\n\nYou can use Stripe Billing to [send an\ninvoice](https://docs.stripe.com/invoicing/dashboard) to your customers who can\nthen pay using our [hosted invoice\npage](https://docs.stripe.com/invoicing/hosted-invoice-page).\n\n## Payment validation\n\nTo handle the payment validation of your Mirakl orders, you can rely on the\nbuilt-in job or call the\n[PA01](https://help.mirakl.net/help/api-doc/operator/mmp.html#PA01) API yourself\nif you have specific needs such as offering coupons.\n\nTo enable the built-in job, you have to first map the Mirakl order with the\nsuccessful Charge by updating the metadata:\n\n```\ncurl https://api.stripe.com/v1/charges/ch_1Hmloy2eZvKYlo2C2Tx3W00V \\\n -u sk_test_BQokikJOvBiI2HlWgH4olfQ2: \\\n -d \"metadata[mirakl_commercial_order_id]\"=123\n```\n\nThe workflow starts when a seller accepts their logistic order.\n\n- The [payment validation\njob](https://docs.stripe.com/connectors/mirakl/reference#payment-validation)\nfetches newly accepted Mirakl orders.\n- The connector validates the payment in Mirakl.\n- For cards, the payment is captured when all the logistic orders are accepted\nor refused.\n\n!\n\n## Payment split\n\nThe workflow starts when the payment is validated on Mirakl and captured on\nStripe.\n\n- The [payment split\njob](https://docs.stripe.com/connectors/mirakl/reference#payment-split) fetches\nnewly validated Mirakl orders.\n- The connector transfers the order amount to the seller after deducting your\ncommission.\n\n!\n\n## Payment refund\n\nThe workflow starts when you request a refund on a Mirakl order.\n\n- The [payment refund\njob](https://docs.stripe.com/connectors/mirakl/reference#payment-refund) fetches\nnewly refunded Mirakl orders.\n- The connector creates a refund on Stripe, validates the refund on Mirakl, and\nthen reverses the transfer used to split the payment.\n\n!\n\n## See also\n\n- [Integration\nsteps](https://docs.stripe.com/connectors/mirakl#integration-steps).\n\n## Links\n\n- [payment methods](https://docs.stripe.com/payments/payment-methods/overview)\n- [existing connectors](https://docs.stripe.com/connectors)\n- [build your own integration](https://docs.stripe.com/payments)\n- [Connect](https://docs.stripe.com/connect)\n- [Cards](https://docs.stripe.com/payments/accept-a-payment)\n- [Bank debits](https://docs.stripe.com/payments/bank-debits)\n- [Bank redirects](https://docs.stripe.com/payments/bank-redirects)\n- [Credit transfers](https://docs.stripe.com/payments/sources/credit-transfers)\n- [Buy now, pay later](https://docs.stripe.com/payments/buy-now-pay-later)\n- [Vouchers](https://docs.stripe.com/payments/vouchers)\n- [Wallets](https://docs.stripe.com/payments/wallets)\n-\n[capture_method](https://docs.stripe.com/api/payment_intents/create#create_payment_intent-capture_method)\n- [save the card](https://docs.stripe.com/payments/save-and-reuse)\n- [send an invoice](https://docs.stripe.com/invoicing/dashboard)\n- [hosted invoice page](https://docs.stripe.com/invoicing/hosted-invoice-page)\n- [PA01](https://help.mirakl.net/help/api-doc/operator/mmp.html#PA01)\n- [payment validation\njob](https://docs.stripe.com/connectors/mirakl/reference#payment-validation)\n- [payment split\njob](https://docs.stripe.com/connectors/mirakl/reference#payment-split)\n- [payment refund\njob](https://docs.stripe.com/connectors/mirakl/reference#payment-refund)\n- [Integration\nsteps](https://docs.stripe.com/connectors/mirakl#integration-steps)",
  "metadata": {
    "title": "Payments using the Mirakl connector | Stripe Documentation",
    "description": "Accept payments using Stripe processing on Mirakl.",
    "sourceURL": "https://docs.stripe.com/connectors/mirakl/payments"
  }
}