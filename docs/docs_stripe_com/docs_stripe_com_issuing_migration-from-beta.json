{
  "content": "# Issuing beta migration guide\n\n## Learn how to migrate from the Issuing beta.\n\nStripe Issuing recently became generally available for all US businesses. When\nwe exited our beta, we released pricing and changes to our API, which include\nfeatures and updates to support its long-term evolution. Depending on your\nintegration, some of these API changes will be breaking, so pay extra attention\nto every item in this guide.\n\nWe will be discontinuing the beta API on March 1, 2021. Below we have outlined\nall the changes to the API to help with your migration. Please contact\n[support](mailto:support-issuing@stripe.com) with any questions.\n\n## Compatibility\n\n#### Caution\n\nAs noted in each section, we recommend supporting both the old and new API until\nyou’ve officially switched over. We also recommend creating a new Issuing\naccount to test out the new API before switching over on your main account.\n\n### Attributes\n\nFor beta users, both legacy and new attributes are currently available on all\nIssuing objects. Renamed attributes point to the same backend value as their\nlegacy counterpart. When the beta is discontinued, only the new attributes will\nbe available.\n\nTo prepare, we recommend switching reads to support both the old and new\nattribute until you have successfully switched over to the new API.\n\n### Parameters\n\nFor renamed parameters, either the legacy or new name can be used but not both.\nWhen the beta is discontinued, only the new parameters will be accepted.\n\nTo prepare, we recommend switching writes to support both the old and new param\nuntil you have successfully switched over to the new API.\n\n### Enums\n\nTransitioning to new enum values will be slightly more complicated. New values\ncan be written and read back but old, existing values will continue to be\nreturned until the beta is officially discontinued.\n\nFor example, the Cardholder\n[type](https://docs.stripe.com/api/issuing/cardholders/object#issuing_cardholder_object-type)\nof `business_entity` has been renamed `company`. Existing cardholder objects\nwill continue to show the old value, `business_entity`. New objects can be\ncreated with `business_entity` or `company` and whichever value is provided will\nbe returned when read back.\n\nTo prepare, we recommend switching writes to the new value (for example, when\ncreating a new cardholder set `type` to `company`) and handling either value on\nreads.\n\n## API Changes\n\n### Authorization\n\n- Replaced `held_amount` with `amount`. `amount` will always be the total sum\nauthorized or denied for capture in the cardholder currency. Unlike\n`held_amount`, it will not drop to zero upon capture.- Amount held by an\nauthorization can be obtained by sum of its\n[balance_transactions](https://docs.stripe.com/api/issuing/authorizations/object#issuing_authorization_object-balance_transactions)\namounts.\n- Renamed `held_currency` to `currency`.\n- Replaced `authorized_amount` with `merchant_amount`. `merchant_amount` will\nalways be the total sum authorized or denied for capture in the merchant\ncurrency. Unlike `authorized_amount`, `merchant_amount` can be reduced by\nreversals.\n- Renamed `authorized_currency` to `merchant_currency`.\n- Renamed `held_amount` to `amount` in the [approve an\nauthorization](https://docs.stripe.com/api/issuing/authorizations/approve)\nendpoint.\n- Added a\n[pending_request](https://docs.stripe.com/api/issuing/authorizations/object#issuing_authorization_object-pending_request)\nhash. This will only be populated during a [synchronous\nwebhook](https://docs.stripe.com/issuing/controls/real-time-authorizations)\nrequest for real-time authorizations.- Replaced `pending_held_amount` with\n`pending_request.amount`.\n- Replaced `pending_authorized_amount` with `pending_request.merchant_amount`.\n- Replaced `is_held_amount_controllable` with\n`pending_request.is_amount_controllable`.\n- Renamed attributes of hashes in\n[request_history](https://docs.stripe.com/api/issuing/authorizations/object#issuing_authorization_object-request_history):-\nRenamed `request_history.held_amount` to `request_history.amount`.\n- Renamed `request_history.held_currency` to `request_history.currency`.\n- Renamed `request_history.authorized_amount` to\n`request_history.merchant_amount`.\n- Renamed `request_history.authorized_currency` to\n`request_history.merchant_currency`.\n- Removed `request_history.violated_authorization_controls`.\n- Discontinued several values for\n[request_history.reason](https://docs.stripe.com/api/issuing/authorizations/object#issuing_authorization_object-request_history-reason).-\n`authentication_failed`, `incorrect_cvc`, and `incorrect_expiry` have been\nconsolidated into `verification_failed`. For more detail, use\n[authorization.verification_data](https://docs.stripe.com/api/issuing/authorizations/object#issuing_authorization_object-verification_data).\n- `account_compliance_disabled` and `account_inactive` have been replaced with\n`account_disabled`.\n- `authorization_controls` was renamed `spending_controls` to be consistent with\nthe renamed attributes in the\n[Card](https://docs.stripe.com/api/issuing/cards/object#issuing_card_object-spending_controls)\nand\n[Cardholder](https://docs.stripe.com/api/issuing/cardholders/object#issuing_cardholder_object-spending_controls)\nresources.\n- Discontinued `verification_data.authentication` enum in favor of the more\ndescriptive `verification_data.three_d_secure` hash.- `three_d_secure.result`,\nwhich replaces `authentication`, contains more values than before. A full\noverview of the new values can be found\n[here](https://docs.stripe.com/issuing/3d-secure#prevent-fraud).\n- This attribute will only be visible to users enrolled in the 3D Secure\nfeature.\n- Renamed `verification_data.address_zip_check` to\n[verification_data.address_postal_code_check](https://docs.stripe.com/api/issuing/authorizations/object#issuing_authorization_object-verification_data-address_postal_code_check).\n- Renamed `wallet_provider` attribute to `wallet`.\n\n### Transaction\n\n- Removed the following\n[type](https://docs.stripe.com/api/issuing/transactions/object#issuing_transaction_object-type)\nvalues since they were uncommon and can be represented in other ways:-\n`cash_withdrawal` (now `capture`)\n- `refund_reversal` (now `refund` with negative `amount`)\n- `dispute` and `dispute_loss`. A Disputes API is under development.\n- Stopped creating a second `Transaction` of type `dispute` to represent a won\n`Dispute`’s money movement. Instead, we will add `balance_transactions` directly\nto the `Dispute`.- Consequently, there will be no `issuing_transaction.created`\nevent for `Dispute` money movement. Instead, we’ll have a new event which will\nsend the updated `Dispute` with `balance_transactions`.\n- Removed `dispute` query param from [list all\ntransactions](https://docs.stripe.com/api/issuing/transactions/list) endpoint.\n- Restricted `settlement` query param from [list all\ntransactions](https://docs.stripe.com/api/issuing/transactions/list) endpoint to\nSettlement feature users.\n- Added `purchase_details` for enhanced transaction data.\n\n### Cardholder\n\n- Removed the `is_default` attribute. As a consequence, `cardholder` is a\nrequired parameter when creating a new card. The [list all\ncardholders](https://docs.stripe.com/api/issuing/cardholders/list) endpoint no\nlonger accepts `is_default` as a query parameter.\n- Renamed\n[type](https://docs.stripe.com/api/issuing/cardholders/object#issuing_cardholder_object-type)\nfrom `business_entity` to `company` to better align with hashes that contain\nadditional information.\n- Removed `billing.name` since it’s always the same as the top-level `name`\nattribute on the resource.\n- Renamed `authorization_controls` to\n[spending_controls](https://docs.stripe.com/api/issuing/cardholders/object#issuing_cardholder_object-spending_controls).\n\n### Card\n\n- Removed `lost` and `stolen` card statuses. These are represented as\n[canceled](https://docs.stripe.com/api/issuing/cards/object#issuing_card_object-status)\nwith an optional\n[cancellation_reason](https://docs.stripe.com/api/issuing/cards/object#issuing_card_object-cancellation_reason)\nprovided.\n- Renamed `authorization_controls` to\n[spending_controls](https://docs.stripe.com/api/issuing/cards/object#issuing_card_object-spending_controls).\ncurlRubyPythonPHPJavaJavaScriptGo.NETBeforeAfter\n```\ncurl https://api.stripe.com/v1/issuing/cards/ic_1CoYuRKEl2ztzE5GIEDjQiUI \\\n -u sk_test_BQokikJOvBiI2HlWgH4olfQ2: \\\n -d \"status=lost\"\n```\n\n```\ncurl https://api.stripe.com/v1/issuing/cards/ic_1CoYuRKEl2ztzE5GIEDjQiUI \\\n -u sk_test_BQokikJOvBiI2HlWgH4olfQ2: \\\n -d \"status=canceled\" \\\n -d \"cancellation_reason=lost\"\n```\n\n- Renamed\n[replacement_reason](https://docs.stripe.com/api/issuing/cards/object#issuing_card_object-replacement_reason)\nvalues:- `loss` to `lost`\n- `theft` to `stolen`\n- `damage` to `damaged`\n- `expiration` to `expired`\n- Removed `name`. Please refer to\n[cardholder.name](https://docs.stripe.com/api/issuing/cards/object#issuing_card_object-cardholder)\ninstead.\n- Renamed `shipping.speed` enum to\n[shipping.service](https://docs.stripe.com/api/issuing/cards/object#issuing_card_object-shipping-service).\nThe `overnight` value has been renamed `priority`.\n- Added\n[replaced_by](https://docs.stripe.com/api/issuing/cards/object#issuing_card_object-replaced_by),\nto point to the card that replaced the current card.\n- Renamed `authorization_controls` to\n[spending_controls](https://docs.stripe.com/api/issuing/cards/object#issuing_card_object-spending_controls)\nand removed `max_approvals`, `max_amount` , and `currency`. We recommend using\n`amount`-based limits for more accurate control over card spend.\n- `merchant_data.url` will only be available to users enrolled in 3D Secure\nfeature.\n- `pin` will only be available to users enrolled in PIN management feature.\n- The [list all cards](https://docs.stripe.com/api/issuing/cards/list) endpoint\nwill no longer accept `source` and `name` parameters.\n- The [retrieve card\ndetails](https://docs.stripe.com/api/issuing/cards/retrieve_details) endpoint\nhas been discontinued. Instead,\n[number](https://docs.stripe.com/api/issuing/cards/object#issuing_card_object-number)\nand\n[cvc](https://docs.stripe.com/api/issuing/cards/object#issuing_card_object-cvc)\ncan be expanded from the\n[retrieve](https://docs.stripe.com/api/issuing/cards/retrieve) endpoint.\n\n### Disputes\n\n- Renamed `disputed_transaction` to `transaction`.\n- Added `balance_transactions` which will contain all\n[BalanceTransactions](https://docs.stripe.com/api/balance_transactions)\nassociated with a `Dispute`.- Each `BalanceTransaction` will have a new `type`,\n`source`, `description` and `reporting_category` corresponding to an Issuing\n`Dispute` as follows:- `type: \"issuing_dispute\"`\n- `source: \"idp_1FMjf1GprvsjVv9gffmDmLGx\"`\n- `description: \"Issuing dispute\"`\n- `reporting_category: \"Issuing Dispute\"`\n- We will send a new event, `issuing_dispute.funds_reinstated`, with the updated\n`Dispute` and new `BalanceTransaction` when a `Dispute` has been won.\n\n### Events\n\n- The following events are restricted to users enrolled in the Settlement\nfeature:- `issuing_settlement.created`\n- `issuing_settlement.updated`\n\n### Balances\n\n- The `issuing.pending` balance has been removed from the\n[Balance](https://docs.stripe.com/api/balance/balance_object#balance_object)\nobject. Please refer to the\n[issuing.available](https://docs.stripe.com/api/balance/balance_object#balance_object-issuing-available)\nbalance instead.\n\n## Links\n\n-\n[type](https://docs.stripe.com/api/issuing/cardholders/object#issuing_cardholder_object-type)\n-\n[balance_transactions](https://docs.stripe.com/api/issuing/authorizations/object#issuing_authorization_object-balance_transactions)\n- [approve an\nauthorization](https://docs.stripe.com/api/issuing/authorizations/approve)\n-\n[pending_request](https://docs.stripe.com/api/issuing/authorizations/object#issuing_authorization_object-pending_request)\n- [synchronous\nwebhook](https://docs.stripe.com/issuing/controls/real-time-authorizations)\n-\n[request_history](https://docs.stripe.com/api/issuing/authorizations/object#issuing_authorization_object-request_history)\n-\n[request_history.reason](https://docs.stripe.com/api/issuing/authorizations/object#issuing_authorization_object-request_history-reason)\n-\n[authorization.verification_data](https://docs.stripe.com/api/issuing/authorizations/object#issuing_authorization_object-verification_data)\n-\n[Card](https://docs.stripe.com/api/issuing/cards/object#issuing_card_object-spending_controls)\n-\n[Cardholder](https://docs.stripe.com/api/issuing/cardholders/object#issuing_cardholder_object-spending_controls)\n- [here](https://docs.stripe.com/issuing/3d-secure#prevent-fraud)\n-\n[verification_data.address_postal_code_check](https://docs.stripe.com/api/issuing/authorizations/object#issuing_authorization_object-verification_data-address_postal_code_check)\n-\n[type](https://docs.stripe.com/api/issuing/transactions/object#issuing_transaction_object-type)\n- [list all transactions](https://docs.stripe.com/api/issuing/transactions/list)\n- [list all cardholders](https://docs.stripe.com/api/issuing/cardholders/list)\n-\n[canceled](https://docs.stripe.com/api/issuing/cards/object#issuing_card_object-status)\n-\n[cancellation_reason](https://docs.stripe.com/api/issuing/cards/object#issuing_card_object-cancellation_reason)\n-\n[replacement_reason](https://docs.stripe.com/api/issuing/cards/object#issuing_card_object-replacement_reason)\n-\n[cardholder.name](https://docs.stripe.com/api/issuing/cards/object#issuing_card_object-cardholder)\n-\n[shipping.service](https://docs.stripe.com/api/issuing/cards/object#issuing_card_object-shipping-service)\n-\n[replaced_by](https://docs.stripe.com/api/issuing/cards/object#issuing_card_object-replaced_by)\n- [list all cards](https://docs.stripe.com/api/issuing/cards/list)\n- [retrieve card\ndetails](https://docs.stripe.com/api/issuing/cards/retrieve_details)\n-\n[number](https://docs.stripe.com/api/issuing/cards/object#issuing_card_object-number)\n-\n[cvc](https://docs.stripe.com/api/issuing/cards/object#issuing_card_object-cvc)\n- [retrieve](https://docs.stripe.com/api/issuing/cards/retrieve)\n- [BalanceTransactions](https://docs.stripe.com/api/balance_transactions)\n- [Balance](https://docs.stripe.com/api/balance/balance_object#balance_object)\n-\n[issuing.available](https://docs.stripe.com/api/balance/balance_object#balance_object-issuing-available)",
  "metadata": {
    "title": "Issuing beta migration guide | Stripe Documentation",
    "description": "Learn how to migrate from the Issuing beta.",
    "sourceURL": "https://docs.stripe.com/issuing/migration-from-beta"
  }
}