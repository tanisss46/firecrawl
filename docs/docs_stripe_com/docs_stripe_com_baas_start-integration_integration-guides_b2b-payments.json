{
  "content": "# B2B Payments integration guide\n\n## Build a B2B Payments integration with Issuing.\n\nBuild a US B2B Payments integration by using Stripe\n[Issuing](https://docs.stripe.com/issuing/how-issuing-works) to create cards for\nyour business, employees, or contractors to make purchases on your behalf.\n\nBy the end of this guide, you’ll know how to:\n\n- Fund your Issuing Balance\n- Create virtual cards for your own business\n- Use these cards to spend funds from your Issuing Balance\n\n## Before you begin\n\n- Sign up for a [Stripe account](https://dashboard.stripe.com/register).\n- [Activate Issuing test\nmode](https://dashboard.stripe.com/test/issuing/overview) in the Dashboard.\n[Add\nfunds](https://docs.stripe.com/baas/start-integration/integration-guides/b2b-payments#add-funds)\nTo spend money using cards, add funds to the Issuing balance on your account.\nThis balance represents funds reserved for Issuing and is safely separated from\nyour earnings, payouts, and funds from other Stripe products.\n\nYou can add funds from your\n[Dashboard](https://dashboard.stripe.com/balance/overview#issuing-summary) or\nusing the [create top-up](https://docs.stripe.com/api/topups/create) endpoint.\n\n```\ncurl https://api.stripe.com/v1/topups \\\n -u sk_test_BQokikJOvBiI2HlWgH4olfQ2: \\\n -d destination_balance=issuing \\\n -d amount=2000 \\\n -d currency=usd \\\n -d description=\"Top-up for Issuing, March 9, 2025\" \\\n -d statement_descriptor=Top-up\n```\n\n[Create cardholders and\ncards](https://docs.stripe.com/baas/start-integration/integration-guides/b2b-payments#create-cardholders-cards)\n### Create a cardholder\n\nThe [Cardholder](https://docs.stripe.com/api/#issuing_cardholder_object) is the\ncompany or business entity that’s authorized to use card funding by the Issuing\nbalance. The `Cardholder` object includes relevant details, such as a\n[name](https://docs.stripe.com/api/issuing/cardholders/object#issuing_cardholder_object-name)\nto display on cards and a\n[billing](https://docs.stripe.com/api/issuing/cardholders/object#issuing_cardholder_object-billing)\naddress, which is usually the business address.\n\nThe following API call creates a new `Cardholder`:\n\n```\ncurl https://api.stripe.com/v1/issuing/cardholders \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d name=\"Company Card\" \\\n --data-urlencode email=\"company@example.com\" \\\n --data-urlencode phone_number=\"+18008675309\" \\\n -d status=active \\\n -d type=company \\\n -d \"billing[address][line1]\"=\"123 Main Street\" \\\n -d \"billing[address][city]\"=\"San Francisco\" \\\n -d \"billing[address][state]\"=CA \\\n -d \"billing[address][postal_code]\"=94111 \\\n -d \"billing[address][country]\"=US\n```\n\nStripe returns a `Cardholder` object that contains the information you provided\nand sends the `issuing_cardholder.created` webhook event.\n\n### Create a card\n\nCreate a card and attach it to the `Cardholder` that you want to make the\nauthorized user of the card.\n\nIn the following examples, we show you how to create a [virtual\ncard](https://docs.stripe.com/issuing/cards/virtual). You can, however, create\n[physical cards](https://docs.stripe.com/issuing/cards/physical) and ship them\nto cardholders in live mode.\n\n```\ncurl https://api.stripe.com/v1/issuing/cards \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d currency=usd \\\n -d type=virtual \\\n -d cardholder={{CARDHOLDER_ID}}\n```\n\nStripe returns a `Card` object on creation, and sends the `issuing_card.created`\nwebhook event:\n\n```\n{\n \"id\": \"ic_1NvPjF2SSJdH5vn2OVbE7r0b\",\n \"object\": \"issuing.card\",\n \"brand\": \"Visa\",\n ...\n \"status\": \"inactive\",\n \"type\": \"virtual\"\n}\n```\n\nYou need to activate the card before a user can use it. While you can activate\nvirtual cards in the same API call you used to create it, you must activate\nphysical cards separately. When ready, activate the card by marking the `status`\nas `active`:\n\n```\ncurl https://api.stripe.com/v1/issuing/cards/ic_1NvPjF2SSJdH5vn2OVbE7r0b \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d status=active\n```\n\nAt this point, there’s now an active card attached to a cardholder. See the\n[Issuing page](https://dashboard.stripe.com/issuing/overview) to view the card\nand cardholder information.\n\n```\n{\n \"id\": \"ic_1NvPjF2SSJdH5vn2OVbE7r0b\",\n \"object\": \"issuing.card\",\n \"brand\": \"Visa\",\n ...\n \"status\": \"active\",\n \"type\": \"virtual\",\n}\n```\n\nTo learn more, see:\n\n- [Virtual cards](https://docs.stripe.com/issuing/cards/virtual)\n- [Physical cards](https://docs.stripe.com/issuing/cards/physical)\n- [Use the Dashboard for Issuing with\nConnect](https://docs.stripe.com/issuing/connect#using-dashboard-issuing)\n- [Create cards with the API](https://docs.stripe.com/api/issuing/cards)\n[Use the\ncard](https://docs.stripe.com/baas/start-integration/integration-guides/b2b-payments#use-card)\n### Create an authorization\n\nTo observe the impact of card activity on the associated balance, generate a\ntest authorization. You can do this in the **Issuing page** of the Dashboard, or\nwith the following call to the [Authorization\nAPI](https://docs.stripe.com/api/issuing/authorizations):\n\n```\ncurl https://api.stripe.com/v1/test_helpers/issuing/authorizations \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d card={{CARD_ID}} \\\n -d amount=1000 \\\n -d authorization_method=chip \\\n -d \"merchant_data[category]\"=taxicabs_limousines \\\n -d \"merchant_data[city]\"=\"San Francisco\" \\\n -d \"merchant_data[country]\"=US \\\n -d \"merchant_data[name]\"=\"Rocket Rides\" \\\n -d \"merchant_data[network_id]\"=1234567890 \\\n -d \"merchant_data[postal_code]\"=94107 \\\n -d \"merchant_data[state]\"=CA\n```\n\nAfter approval, Stripe creates an `Authorization` in a `pending` state while it\nwaits for [capture](https://docs.stripe.com/issuing/purchases/transactions).\nNote the authorization `id` that you’ll use to capture the funds:\n\n```\n{\n \"id\": \"iauth_1NvPyY2SSJdH5vn2xZQE8C7k\",\n \"object\": \"issuing.authorization\",\n \"amount\": 1000,\n ...\n \"status\": \"pending\",\n \"transactions\": [],\n}\n```\n\n### Capture the funds\n\nCapture the funds using the following code:\n\n```\ncurl -X POST\nhttps://api.stripe.com/v1/test_helpers/issuing/authorizations/{{AUTHORIZATION_ID}}/capture\n\\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\"\n```\n\nAfter the authorization is captured, Stripe creates an Issuing\n[Transaction](https://docs.stripe.com/issuing/purchases/transactions), the\n`status` of the authorization is set to `closed`.\n\n## See also\n\n- [Handling real-time auth\nwebhooks](https://docs.stripe.com/issuing/controls/real-time-authorizations)\n- [Spending\ncontrols](https://docs.stripe.com/issuing/controls/spending-controls)\n- [Issuing\nauthorizations](https://docs.stripe.com/issuing/purchases/authorizations)\n- [Issuing transactions](https://docs.stripe.com/issuing/purchases/transactions)\n- [Testing Issuing](https://docs.stripe.com/issuing/testing)\n- [Working with Stripe Issuing cards and\nTreasury](https://docs.stripe.com/treasury/account-management/issuing-cards)\n- [Manage transaction fraud](https://docs.stripe.com/issuing/manage-fraud)\n- [Issue regulated customer\nnotices](https://docs.stripe.com/issuing/compliance-us/issuing-regulated-customer-notices)\n\n## Links\n\n- [BaaS for SaaS\nPlatforms](https://stripe.com/guides/introduction-to-banking-as-a-service)\n- [Issuing](https://docs.stripe.com/issuing/how-issuing-works)\n- [Stripe account](https://dashboard.stripe.com/register)\n- [Activate Issuing test\nmode](https://dashboard.stripe.com/test/issuing/overview)\n- [Dashboard](https://dashboard.stripe.com/balance/overview#issuing-summary)\n- [create top-up](https://docs.stripe.com/api/topups/create)\n- [Cardholder](https://docs.stripe.com/api/#issuing_cardholder_object)\n-\n[name](https://docs.stripe.com/api/issuing/cardholders/object#issuing_cardholder_object-name)\n-\n[billing](https://docs.stripe.com/api/issuing/cardholders/object#issuing_cardholder_object-billing)\n- [virtual card](https://docs.stripe.com/issuing/cards/virtual)\n- [physical cards](https://docs.stripe.com/issuing/cards/physical)\n- [Issuing page](https://dashboard.stripe.com/issuing/overview)\n- [Use the Dashboard for Issuing with\nConnect](https://docs.stripe.com/issuing/connect#using-dashboard-issuing)\n- [Create cards with the API](https://docs.stripe.com/api/issuing/cards)\n- [Authorization API](https://docs.stripe.com/api/issuing/authorizations)\n- [capture](https://docs.stripe.com/issuing/purchases/transactions)\n- [Handling real-time auth\nwebhooks](https://docs.stripe.com/issuing/controls/real-time-authorizations)\n- [Spending\ncontrols](https://docs.stripe.com/issuing/controls/spending-controls)\n- [Issuing\nauthorizations](https://docs.stripe.com/issuing/purchases/authorizations)\n- [Testing Issuing](https://docs.stripe.com/issuing/testing)\n- [Working with Stripe Issuing cards and\nTreasury](https://docs.stripe.com/treasury/account-management/issuing-cards)\n- [Manage transaction fraud](https://docs.stripe.com/issuing/manage-fraud)\n- [Issue regulated customer\nnotices](https://docs.stripe.com/issuing/compliance-us/issuing-regulated-customer-notices)",
  "metadata": {
    "title": "B2B Payments integration guide | Stripe Documentation",
    "description": "Build a B2B Payments integration with Issuing.",
    "sourceURL": "https://docs.stripe.com/baas/start-integration/integration-guides/b2b-payments"
  }
}