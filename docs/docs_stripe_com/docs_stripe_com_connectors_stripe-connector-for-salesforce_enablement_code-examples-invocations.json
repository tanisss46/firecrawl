{
  "content": "# Stripe Connector for Salesforce Platform invocations\n\nThis guide hands you actionable code examples, that walk you through essential\ntasks like creating Stripe customers, initiating checkout sessions, and listing\nexisting customers—all directly from Salesforce. Geared toward Salesforce\nadministrators, developers, and anyone interested in seamless Stripe-Salesforce\nintegrations, these examples utilize custom Apex classes for class based\ninvocations using Stripe API calls. Whether you’re building a new e-commerce\nsolution or upgrading your payment workflows, this guide equips you with the\ntools you need for efficient Stripe operations in Salesforce.\n\n## Create a Customer in Stripe\n\nThe following code example creates a Stripe\n[Customer](https://docs.stripe.com/api/customers) with a `name`, `email`, and\n`metadata` set.\n\n```\n// Step 1: Initialize an instance of the stripeGC.v01_CreateCustomers.V1 class\nstripeGC.CreateCustomers.V1 params = new stripeGC.CreateCustomers.V1();\nList<stripeGC.CreateCustomers.V1> paramsCollection = new\nList<stripeGC.CreateCustomers.V1>{\n params\n };\n// Step 2: Set the accountRecordId parameter to the record ID of the Stripe\nAccount you wish to connect to\nparams.accountRecordId = 'a028B0000029RhlQAE';\n\n// Step 3: Set the metadata field\nstripeGC.Metadata metadata = new stripeGC.Metadata();\nmetadata.listAdditionalStringField = new List<stripeGC.AdditionalString>{\n new stripeGC.AdditionalString('AccountID', 'abc123')\n};\nparams.metadata = metadata;\n\n// Step 4: Set the name field\nparams.name = 'Tim Smith';\n\n// Step 5: Set the email field\nparams.email = 'example@example.com';\n\n// Step 6: Call the stripeGC.v01_PostCustomers.postCustomers_2022_11_15 method\nList<stripeGC.Customer> customers =\nstripeGC.v01_CreateCustomers.createCustomers_2022_11_15(paramsCollection);\n```\n\n## Create a Checkout Session\n\nThe following code example creates a Checkout session in Stripe:\n\n```\n// Step 1: Initialize an instance of the stripeGC.v01_CreateCheckoutSessions.V1\nclass\nstripeGC.CreateCheckoutSessions.V1 params = new\nstripeGC.CreateCheckoutSessions.V1();\nList<stripeGC.CreateCheckoutSessions.V1> paramsCollection = new\nList<stripeGC.CreateCheckoutSessions.V1>{\n params\n };\n// Step 2: Set the accountRecordId parameter to the record ID of the Stripe\nAccount you wish to connect to\nparams.accountRecordId = 'a028B0000029RhlQAE';\n\n// Step 3: Set the checkout line items\nstripeGC.CreateCheckoutSessionsReqLineItem cliparams = new\nstripeGC.CreateCheckoutSessionsReqLineItem();\ncliparams.price = 'price_1NhcVkBSPQ8HL343ZNsBp'; //price id from Stripe.\ncliparams.quantity = 1;\nList<stripeGC.CreateCheckoutSessionsReqLineItem> cliparamlist = new\nList<stripeGC.CreateCheckoutSessionsReqLineItem>();\ncliparamlist.add(cliparams);\nparams.lineItems = cliparamlist;\n\n// Step 4: Set mode,successurl,client ref fields\nparams.mode = 'payment';\nparams.successUrl = 'https://stripe.com';\nparams.clientReferenceId = 'abcd123';\n\n// Step 5: Call the\nstripeGC.v01_CreateCheckoutSessions.CreateCheckoutSessions_2022_11_15 method\nList<stripeGC.CheckoutSession> results =\nstripeGC.v01_CreateCheckoutSessions.createCheckoutSessions_2022_11_15(paramsCollection);\n```\n\n### List Customers\n\nThe following code example lists all of your customers that are stored in\nStripe:\n\n```\n// Step 1: Initialize an instance of the stripeGC.v01_ListCustomers.V1 class\nstripeGC.ListCustomers.V1 params = new stripeGC.ListCustomers.V1();\nList<stripeGC.ListCustomers.V1> paramsCollection = new\nList<stripeGC.ListCustomers.V1>{\n params\n};\n\n// Step 2: Set the accountRecordId parameter to the record ID of the Stripe\nAccount you wish to connect to\nparams.accountRecordId = 'a028B0000029RhlQAE';\n\n// Step 3: Call the stripeGC.v01_ListCustomers.listCustomers_2022_11_15 method\nList<stripeGC.CustomerResourceCustomerList > results =\nstripeGC.v01_ListCustomers.listCustomers_2022_11_15(paramsCollection);\nSystem.debug(results[0]);\n```\n\n## See also\n\n- [Installation\nGuide](https://docs.stripe.com/plugins/stripe-connector-for-salesforce/installation-guide)\n- [Enablement\nVideos](https://docs.stripe.com/plugins/stripe-connector-for-salesforce/videos)\n- [Configure\nEvents](https://docs.stripe.com/plugins/stripe-connector-for-salesforce/configure-events)\n\n## Links\n\n- [Customer](https://docs.stripe.com/api/customers)\n- [https://stripe.com](https://stripe.com)\n- [Installation\nGuide](https://docs.stripe.com/plugins/stripe-connector-for-salesforce/installation-guide)\n- [Enablement\nVideos](https://docs.stripe.com/plugins/stripe-connector-for-salesforce/videos)\n- [Configure\nEvents](https://docs.stripe.com/plugins/stripe-connector-for-salesforce/configure-events)",
  "metadata": {
    "title": "Stripe Connector for Salesforce Platform invocations | Stripe Documentation",
    "description": "",
    "sourceURL": "https://docs.stripe.com/connectors/stripe-connector-for-salesforce/enablement/code-examples-invocations"
  }
}