{
  "content": "# Share payment methods across multiple accounts for direct charges\n\n## Save payment details on your platform and clone them to connected accounts for making direct charges.\n\nTo create direct charges on multiple connected accounts using the same saved\npayment information, use this approach. Otherwise, use [our guide for creating\ndirect charges](https://docs.stripe.com/connect/direct-charges).\n\n## Save payment details on your platform\n\nWhen collecting payment details from your customer, set them up for future use\nand save them on your platform account. You only need to set up each payment\nmethod once.\n\n### Create a customer on your platform\n\nOn your platform account, use the [Customers\nAPI](https://docs.stripe.com/api/customers) to create a Customer object\nrepresenting your customer.\n\n```\ncurl https://api.stripe.com/v1/customers \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d name=\"Jenny Rosen\"\n```\n\n### Create a SetupIntent on your platform\n\nWhen you collect the customer’s payment method details, use the [Setup Intents\nAPI](https://docs.stripe.com/api/setup_intents) to create a\n[SetupIntent](https://docs.stripe.com/api/setup_intents) on your platform and\nassociate it with the customer.\n\n```\ncurl https://api.stripe.com/v1/setup_intents \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d customer={{CUSTOMER_ID}}\n```\n\nIf your platform is in a different country than your connected accounts, the\nsetup performed on your platform might not be sufficient. For example, if your\nplatform is in the US, the setup process might not trigger the authentication\nrequired for direct charges in countries subject to [SCA\nenforcement](https://docs.stripe.com/strong-customer-authentication/sca-enforcement).\nTo make sure that your setup meets the requirements of the connected account’s\ncountry, you might need to use\n[on_behalf_of](https://docs.stripe.com/api/setup_intents/create#create_setup_intent-on_behalf_of)\nto specify a connected account in that country.\n\n#### Note\n\nYou can accept a payment on your platform (not a direct charge on the connected\naccount) when collecting payment details to save and clone to connected\naccounts. To do so, instead of creating a SetupIntent, create a PaymentIntent\nwith\n[setup_future_usage](https://docs.stripe.com/api/payment_intents/create#create_payment_intent-setup_future_usage).\nThe funds from the PaymentIntent on your platform account go directly to your\nplatform’s balance.\n\n### Confirm the SetupIntent\n\nSend the SetupIntent’s\n[client_secret](https://docs.stripe.com/api/setup_intents/object#setup_intent_object-client_secret)\nto your front end and use our client-side SDKs or UI components to collect\npayment details and confirm the SetupIntent. For example, you can [use the\nPayment Element to collect payment information and confirm the\nSetupIntent](https://docs.stripe.com/payments/save-and-reuse?platform=web&ui=elements#collect-payment-details).\n\nConfirming on the client allows the customer to go through any flows required to\nset up their payment details for future use, such as authentication with [3D\nSecure](https://docs.stripe.com/payments/3d-secure).\n\nA successful confirmation creates a\n[PaymentMethod](https://docs.stripe.com/api/payment_methods) and attaches it to\nthe customer for future use.\n\n## Clone the PaymentMethod and create direct charges on connected accounts\n\nAfter you have a PaymentMethod set up for future use on your platform, clone it\nto a connected account and create a direct charge.\n\n### Clone the PaymentMethod to the connected accounts\n\nUse the Payment Methods API to clone the PaymentMethod saved on your platform\naccount to each desired connected account, as shown in the following example.\nSpecify the connected account ID as the Stripe account, and pass the IDs of the\nCustomer and PaymentMethod saved on your platform.\n\n#### Note\n\nYou can clone only certain types of PaymentMethods. Cloning supports\nPaymentMethods that have `type` set to either `card` or `us_bank_account`.\n\n```\ncurl https://api.stripe.com/v1/payment_methods \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -H \"Stripe-Account: {{CONNECTED_ACCOUNT_ID}}\" \\\n -d customer={{PLATFORM_CUSTOMER_ID}} \\\n -d payment_method={{PAYMENT_METHOD_ID}}\n```\n\nThe cloned PaymentMethod is an independent object with a unique ID. It isn’t\nlinked to, or kept in sync with, the PaymentMethod on your platform. However,\nthe cloned PaymentMethod inherits the setup performed on your platform account,\nso you don’t need to set it up again on the connected account.\n\n### Create and confirm a PaymentIntent on a connected account\n\nUse the [Payment Intents API](https://docs.stripe.com/api/payment_intents) to\ncreate and confirm a\n[PaymentIntent](https://docs.stripe.com/payments/payment-intents) on a connected\naccount using the cloned PaymentMethod:\n\n```\ncurl https://api.stripe.com/v1/payment_intents \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -H \"Stripe-Account: {{CONNECTED_ACCOUNT_ID}}\" \\\n -d payment_method={{PAYMENT_METHOD_ID}} \\\n -d currency=USD \\\n -d amount=1099 \\\n -d off_session=true \\\n -d confirm=true\n```\n\nCreating a charge with the cloned PaymentMethod consumes it, because it’s not\nattached to a customer. However, consuming the clone doesn’t affect the original\nPaymentMethod saved on your platform. You can’t reuse the consumed clone, but\nyou can clone the platform PaymentMethod again and use the new clone for another\ncharge.\n\n### Set up recurring payments on a connected account\n\nTo use a cloned PaymentMethod for recurring direct charges on a connected\naccount, you must create a Customer object on the connected account and attach\nthe cloned PaymentMethod to it. Then, instead of creating PaymentIntents, create\na [Subscription](https://docs.stripe.com/billing/subscriptions/creating) using\nthe cloned PaymentMethod and attached Customer.\n\n#### Note\n\nThe Customer object you create on the connected account has no association with\nthe original Customer object stored on your platform account. If you update the\noriginal customer information and want to keep them synchronized, you must also\nupdate any corresponding customers saved on connected accounts.\n\n## Handle customer and payment updates\n\nIf you don’t collect recurring payments, you only need to update the customer\nand PaymentMethod on your platform account. You clone the PaymentMethod for each\ndirect charge, which ensures that you’re always using the newest version. The\ncustomer only exists on your platform account, so you don’t need to synchronize\ncustomer details across multiple accounts.\n\nIf you collect recurring payments, and you update the customer or PaymentMethod\non your platform account, you’re responsible for updating the corresponding\nobjects saved on any connected accounts. If you update the original\nPaymentMethod on your platform, clone it again and attach the new clone to the\ncustomer and subscription on the connected account. Repeat the process for each\nconnected account that stores a clone for recurring payments.\n\n## Links\n\n- [our guide for creating direct\ncharges](https://docs.stripe.com/connect/direct-charges)\n- [Customers API](https://docs.stripe.com/api/customers)\n- [Setup Intents API](https://docs.stripe.com/api/setup_intents)\n- [SCA\nenforcement](https://docs.stripe.com/strong-customer-authentication/sca-enforcement)\n-\n[on_behalf_of](https://docs.stripe.com/api/setup_intents/create#create_setup_intent-on_behalf_of)\n-\n[setup_future_usage](https://docs.stripe.com/api/payment_intents/create#create_payment_intent-setup_future_usage)\n-\n[client_secret](https://docs.stripe.com/api/setup_intents/object#setup_intent_object-client_secret)\n- [use the Payment Element to collect payment information and confirm the\nSetupIntent](https://docs.stripe.com/payments/save-and-reuse?platform=web&ui=elements#collect-payment-details)\n- [3D Secure](https://docs.stripe.com/payments/3d-secure)\n- [PaymentMethod](https://docs.stripe.com/api/payment_methods)\n- [Payment Intents API](https://docs.stripe.com/api/payment_intents)\n- [PaymentIntent](https://docs.stripe.com/payments/payment-intents)\n- [Subscription](https://docs.stripe.com/billing/subscriptions/creating)",
  "metadata": {
    "title": "Share payment methods across multiple accounts for direct charges | Stripe Documentation",
    "description": "Save payment details on your platform and clone them to connected accounts for making direct charges.",
    "sourceURL": "https://docs.stripe.com/connect/direct-charges-multiple-accounts"
  }
}