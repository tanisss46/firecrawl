{
  "content": "# Status transitions and finalization\n\n## Learn about invoice status transitions and finalization.\n\nThe following graphic shows the different ways that an invoice can transition\nfrom status to status:\n\n!\n\nStatus transitions and finalization\n\n## Transitions and endpoints\n\nThe following table outlines the status transitions and their endpoints. It also\nlists the [webhooks](https://docs.stripe.com/webhooks) that are emitted by the\nendpoint, and the resulting status for each:\n\nStatusAPI EndpointEmitted WebhookEnd Status`draft`[DELETE\n/v1/invoices/:id](https://docs.stripe.com/api/invoices/delete)`invoice.deleted`(Deleted)`draft`[POST\n/v1/invoices/:id/finalize](https://docs.stripe.com/api/invoices/finalize)`invoice.finalized``open``open`[POST\n/v1/invoices/:id/pay](https://docs.stripe.com/api/invoices/pay)`invoice.paid``paid``open`[POST\n/v1/invoices/:id/pay](https://docs.stripe.com/api/invoices/pay)`invoice.payment_failed``open``open`[POST\n/v1/invoices/:id/send](https://docs.stripe.com/api/invoices/send)`invoice.sent``open``open`[POST\n/v1/invoices/:id/void](https://docs.stripe.com/api/invoices/void)`invoice.voided``void``open`[POST\n/v1/invoices/:id/mark_uncollectible](https://docs.stripe.com/api/invoices/mark_uncollectible)`invoice.marked_uncollectible``uncollectible``uncollectible`[POST\n/v1/invoices/:id/pay](https://docs.stripe.com/api/invoices/pay)`invoice.paid``paid``uncollectible`[POST\n/v1/invoices/:id/pay](https://docs.stripe.com/api/invoices/pay)`invoice.payment_failed``uncollectible``uncollectible`[POST\n/v1/invoices/:id/void](https://docs.stripe.com/api/invoices/void)`invoice.voided``void`\n## Finalize draft invoices\n\nWhen you enable [automatic\ncollection](https://docs.stripe.com/invoicing/integration/automatic-advancement-collection),\nStripe automatically finalizes, and begins automatic collection of the\n[invoice](https://docs.stripe.com/billing/invoices/subscription). We wait 1 hour\nafter receiving a successful response to the `invoice.created` event from all\nlistening webhooks before attempting payment. If we don’t receive a successful\nresponse within 72 hours, we attempt to finalize and send the invoice. [You can\nconfigure a longer grace\nperiod](https://docs.stripe.com/billing/subscriptions/usage-based/configure-grace-period).\n\nInvoices are initially created with `status=draft`, and you can only edit them\nwhile they’re in this state. When an invoice is ready to be paid, finalize it.\nFinalizing an invoice sets `status=open` on the invoice. You can manually\nfinalize an invoice in the\n[Dashboard](https://docs.stripe.com/invoicing/dashboard) or by using the\n[Finalize](https://docs.stripe.com/api/invoices/finalize) endpoint. If you’ve\nconfigured [webhook](https://docs.stripe.com/webhooks) endpoints, you receive an\n`invoice.finalized` event when an invoice finalizes.\n\n```\ncurl -X POST https://api.stripe.com/v1/invoices/{{INVOICE_ID}}/finalize \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\"\n```\n\nIn live mode, if your webhook endpoint doesn’t [respond\nproperly](https://docs.stripe.com/webhooks), Stripe continues retrying the\nwebhook notification for up to 3 days with an exponential back off. In test\nmode, we retry three times over a few hours. During that time, we won’t attempt\nto charge the customer unless we receive a successful response. We also send you\nan email to notify you that the webhook is failing.\n\nThis behavior applies to all webhook endpoints defined on your account,\nincluding cases where a [Connect application](https://stripe.com/works-with) or\nother third-party service is having trouble handling incoming webhooks.\n\n[You can configure a longer grace\nperiod](https://docs.stripe.com/billing/subscriptions/usage-based/configure-grace-period).\n\n## Post-finalization\n\nFinalizing an invoice does the following:\n\n- It allows the invoice to be paid.\n- It ensures that an invoice number is present.\n- It makes certain properties\n[immutable](https://docs.stripe.com/invoicing/integration/workflow-transitions#immutable)\non the invoice.\n- It creates an incomplete payment intent for the invoice.\n- It generates a unique URL where someone can pay the invoice, and a link to\ndownload a [PDF of the\ninvoice](https://docs.stripe.com/api/invoices/object#invoice_object-invoice_pdf).\n\n#### Caution\n\nIf an invoice isn’t finalized, you can’t collect payment.\n\n### Finalized invoice restrictions\n\nAfter you finalize an invoice, you can’t change certain fields that pertain to\nthe amount and customer. This is to satisfy the common tax-compliance\nrequirement that finalized invoices be retained—as they were finalized—for a\nlegally required minimum time period.\n\nIn some jurisdictions, editing fields that modify the total amount due on an\ninvoice could render the invoice invalid. These are typically fields associated\nwith your account, customer, line items, or taxes. It’s your responsibility to\nmake sure that the invoices you create comply with all applicable laws.\n\nIf you require updates to the invoice amount after it finalizes, use [credit\nnotes](https://docs.stripe.com/invoicing/dashboard/credit-notes). Credit notes\nallow you to modify the invoice amount by specifying an adjustment in money owed\nby the customer. You can issue credit notes for any invoice in an `open` or\n`paid` status. Finalizing the invoice copies the following customer fields to it\nand makes them immutable:\n\n-\n[invoice.customer_address](https://docs.stripe.com/api/invoices/object#invoice_object-customer_address)\n-\n[invoice.customer_email](https://docs.stripe.com/api/invoices/object#invoice_object-customer_email)\n-\n[invoice.customer_name](https://docs.stripe.com/api/invoices/object#invoice_object-customer_name)\n-\n[invoice.customer_phone](https://docs.stripe.com/api/invoices/object#invoice_object-customer_phone)\n-\n[invoice.customer_shipping](https://docs.stripe.com/api/invoices/object#invoice_object-customer_shipping)\n-\n[invoice.customer_tax_exempt](https://docs.stripe.com/api/invoices/object#invoice_object-customer_tax_exempt)\n-\n[invoice.customer_tax_ids](https://docs.stripe.com/api/invoices/object#invoice_object-customer_tax_ids)\n\nIf you want to change a customer-related property on an invoice:\n\n- Void the current invoice.\n- [Duplicate](https://docs.stripe.com/invoicing/dashboard#modify-invoice) the\nvoided invoice.\n- Update the customer information on the new invoice.\n\n### Emails after finalization\n\nBy default, Stripe automatically sends invoices when you set\n[collection_method](https://docs.stripe.com/api/invoices/object#invoice_object-collection_method)\nto `send_invoice`. Stripe doesn’t email invoices in the following cases:\n\n- When [charged\nautomatically](https://docs.stripe.com/invoicing/automatic-charging).\n- When [automatic\ncollection](https://docs.stripe.com/invoicing/integration/automatic-advancement-collection)\nis turned off for the invoice.\n- When the [Email finalized invoices to\ncustomers](https://dashboard.stripe.com/settings/billing/automatic) option is\nturned off.\n\n#### Note\n\nIf you turn off the **Email finalized invoices to customers** option, automatic\nor manual finalization doesn’t send an invoice.\n\n## Asynchronous payments\n\nSome payment methods require customer interaction to complete the payment—for\nexample, a European card or bank transfer may require [Strong Customer\nAuthentication](https://docs.stripe.com/strong-customer-authentication) (SCA).\n\nUse the invoice’s\n[payment_intent](https://docs.stripe.com/api/invoices/object#invoice_object-payment_intent)\nparameter to choose how to handle the response from the payment attempt, which\nmay be either `success` or `requires_action`.\n\nWhen the status of the PaymentIntent is `requires_action`, you must have your\nuser complete a [3D Secure\nauthentication](https://docs.stripe.com/billing/migration/strong-customer-authentication#scenario-4)\nto complete the payment.\n\nInstead of building this yourself, you can rely on Stripe to handle it for you.\n[Enable reminder\nemails](https://dashboard.stripe.com/settings/billing/automatic) in the\nDashboard so that Stripe can automatically send emails to your customers\nwhenever `requires_action` occurs. These emails include a link to the [Hosted\nInvoice Page](https://docs.stripe.com/invoicing/hosted-invoice-page), where a\ncustomer can perform all of the actions required to pay the invoice. To learn\nmore about these emails and how to customize them, see [Sending email\nreminders](https://docs.stripe.com/invoicing/send-email).\n\n## Links\n\n- [webhooks](https://docs.stripe.com/webhooks)\n- [DELETE /v1/invoices/:id](https://docs.stripe.com/api/invoices/delete)\n- [POST\n/v1/invoices/:id/finalize](https://docs.stripe.com/api/invoices/finalize)\n- [POST /v1/invoices/:id/pay](https://docs.stripe.com/api/invoices/pay)\n- [POST /v1/invoices/:id/send](https://docs.stripe.com/api/invoices/send)\n- [POST /v1/invoices/:id/void](https://docs.stripe.com/api/invoices/void)\n- [POST\n/v1/invoices/:id/mark_uncollectible](https://docs.stripe.com/api/invoices/mark_uncollectible)\n- [automatic\ncollection](https://docs.stripe.com/invoicing/integration/automatic-advancement-collection)\n- [invoice](https://docs.stripe.com/billing/invoices/subscription)\n- [You can configure a longer grace\nperiod](https://docs.stripe.com/billing/subscriptions/usage-based/configure-grace-period)\n- [Dashboard](https://docs.stripe.com/invoicing/dashboard)\n- [Connect application](https://stripe.com/works-with)\n- [PDF of the\ninvoice](https://docs.stripe.com/api/invoices/object#invoice_object-invoice_pdf)\n- [credit notes](https://docs.stripe.com/invoicing/dashboard/credit-notes)\n-\n[invoice.customer_address](https://docs.stripe.com/api/invoices/object#invoice_object-customer_address)\n-\n[invoice.customer_email](https://docs.stripe.com/api/invoices/object#invoice_object-customer_email)\n-\n[invoice.customer_name](https://docs.stripe.com/api/invoices/object#invoice_object-customer_name)\n-\n[invoice.customer_phone](https://docs.stripe.com/api/invoices/object#invoice_object-customer_phone)\n-\n[invoice.customer_shipping](https://docs.stripe.com/api/invoices/object#invoice_object-customer_shipping)\n-\n[invoice.customer_tax_exempt](https://docs.stripe.com/api/invoices/object#invoice_object-customer_tax_exempt)\n-\n[invoice.customer_tax_ids](https://docs.stripe.com/api/invoices/object#invoice_object-customer_tax_ids)\n- [Duplicate](https://docs.stripe.com/invoicing/dashboard#modify-invoice)\n-\n[collection_method](https://docs.stripe.com/api/invoices/object#invoice_object-collection_method)\n- [charged automatically](https://docs.stripe.com/invoicing/automatic-charging)\n- [Email finalized invoices to\ncustomers](https://dashboard.stripe.com/settings/billing/automatic)\n- [Payment Intents API](https://docs.stripe.com/payments/payment-intents)\n- [3D Secure](https://docs.stripe.com/payments/3d-secure)\n- [3D Secure\nguide](https://docs.stripe.com/payments/3d-secure/authentication-flow#when-to-use-3d-secure)\n- [Strong Customer\nAuthentication](https://docs.stripe.com/strong-customer-authentication)\n-\n[payment_intent](https://docs.stripe.com/api/invoices/object#invoice_object-payment_intent)\n- [3D Secure\nauthentication](https://docs.stripe.com/billing/migration/strong-customer-authentication#scenario-4)\n- [Hosted Invoice Page](https://docs.stripe.com/invoicing/hosted-invoice-page)\n- [Sending email reminders](https://docs.stripe.com/invoicing/send-email)",
  "metadata": {
    "title": "Status transitions and finalization | Stripe Documentation",
    "description": "Learn about invoice status transitions and finalization.",
    "sourceURL": "https://docs.stripe.com/invoicing/integration/workflow-transitions"
  }
}