{
  "content": "# Manage limited inventory\n\n## Prevent customers from holding inventory in carts by expiring Checkout Sessions.\n\nStripe-hosted pageEmbedded formEmbedded componentsPublic preview\nFor some types of limited-inventory businesses, it’s necessary to prevent\ncustomers from reserving items for a long time without completing the purchase.\nFor example, an event ticket seller wants to allow customers only a few minutes\nto buy their selected tickets before cancelling the sale and making those\ntickets available again. You can cancel a pending sale by expiring the [Checkout\nSession](https://docs.stripe.com/api/checkout/sessions).\n\nCheckout supports both manual and timed session expiration. When a Checkout\nSession expires, its [status\nproperty](https://docs.stripe.com/api/checkout/sessions/object#checkout_session_object-status)\nchanges to `expired`.\n\n## Manual expiration\n\nTo immediately expire an open Checkout Session and cancel any pending purchase,\nuse the [expire](https://docs.stripe.com/api/checkout/sessions/expire) endpoint.\n\n```\ncurl -X POST https://api.stripe.com/v1/checkout/sessions/{{SESSION_ID}}/expire \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\"\n```\n\n## Set an expiration time\n\nWhen you create a Checkout Session, specify an expiration timestamp by setting\nthe\n[expires_at](https://docs.stripe.com/api/checkout/sessions/create#create_checkout_session-expires_at)\nparameter. The value must be between 30 minutes and 24 hours after the current\ntime. If you don’t specify `expires_at`, the default value is 24 hours after the\ncurrent time.\n\n```\ncurl https://api.stripe.com/v1/checkout/sessions \\\n -u sk_test_BQokikJOvBiI2HlWgH4olfQ2: \\\n -d customer={{CUSTOMER_ID}} \\\n -d \"line_items[0][price]\"={{PRICE_ID}} \\\n -d \"line_items[0][quantity]\"=1 \\\n -d mode=payment \\\n -d success_url=\"https://example.com/success\" \\\n -d expires_at=\"{{NOW_PLUS_TWO_HOURS}}\"\n```\n\n## Return items to your inventory\n\nWhen a [Checkout Session](https://docs.stripe.com/api/checkout/sessions)\nexpires, Stripe sends the `checkout.session.expired` event. Configure your\nwebhook endpoint to listen for this event so your webhook handler can return to\ninventory any items reserved in the expired session. For more information, see\n[Expire a Session](https://docs.stripe.com/api/checkout/sessions/expire).\n\n## Links\n\n- [Checkout Session](https://docs.stripe.com/api/checkout/sessions)\n- [status\nproperty](https://docs.stripe.com/api/checkout/sessions/object#checkout_session_object-status)\n- [expire](https://docs.stripe.com/api/checkout/sessions/expire)\n-\n[expires_at](https://docs.stripe.com/api/checkout/sessions/create#create_checkout_session-expires_at)",
  "metadata": {
    "title": "Manage limited inventory | Stripe Documentation",
    "description": "Prevent customers from holding inventory in carts by expiring Checkout Sessions.",
    "sourceURL": "https://docs.stripe.com/payments/checkout/managing-limited-inventory"
  }
}