{
  "content": "# Upgrade and downgrade subscriptions\n\n## Learn how to upgrade and downgrade subscriptions by changing the price.\n\nWhen a customer changes their subscription, you must change the subscription\nitem to reflect the new selection. For example, a customer might upgrade to a\npremium tier or downgrade to a basic tier, prompting you to replace the\nunderlying price of that subscription item. You can do this using a few\ndifferent methods.\n\n## Retrieve the identifiers\n\nRegardless of the method you choose, you’ll need to provide identifiers for the\nobjects you’re updating. Use the [list\nsubscriptions](https://docs.stripe.com/api/subscriptions/list) method with a\nrelevant filter (such as the customer ID) to find the subscription and item to\nupdate.\n\n```\ncurl -G https://api.stripe.com/v1/subscriptions \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d customer={{CUSTOMER_ID}}\n```\n\nThe returns the set of subscriptions for the specified customer, from which you\ncan retrieve the subscription ID (`id`), any subscription item IDs\n(`items.data.id`) and the subscription items price ID (`items.data.price.id`).\n\n```\n{\n \"object\": \"list\",\n \"url\": \"/v1/subscriptions\",\n \"has_more\": false,\n \"data\": [\n {\n \"id\": \"su_1NXPiE2eZvKYlo2COk9fohqA\",\n \"object\": \"subscription\",\n \"application\": null,\n \"application_fee_percent\": null,\n \"automatic_tax\": {\n \"enabled\": false\n },\n \"items\": {\n \"object\": \"list\",\n \"data\": [\n {\n \"id\": \"si_OK3pbS1dvdQYJP\",\n \"object\": \"subscription_item\",\n \"billing_thresholds\": null,\n \"created\": 1690208774,\n \"metadata\": {},\n \"price\": {\n \"id\": \"price_1NOhvg2eZvKYlo2CqkpQDVRT\",\n \"object\": \"price\"\n }\n }\n ]\n }\n }\n ]\n}\n```\n\n## Update the subscription\n\n[Update a subscription](https://docs.stripe.com/api#update_subscription)\nincluding the following parameters:\n\n- `item ID`: You must specify the subscription item to replace the current price\nwith the new price. Otherwise, updating the subscription with a new price *adds*\na new subscription item so both prices are active for the subscription.\n- `item price`: Provide the identifier for the replacement price.\n- `item quantity`: Updating a subscription price automatically reverts the\nquantity to the default value of `1`. If the existing subscription quantity is\nanything other than `1` and you want to preserve that value, you must include it\nin the update.\n\n```\ncurl https://api.stripe.com/v1/subscriptions/sub_xxxxxxxxx \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d \"items[0][id]\"={{SUB_ITEM_ID}} \\\n -d \"items[0][price]\"={{NEW_PRICE_ID}}\n```\n\n#### Common mistake\n\nYou must specify the subscription item to replace the current price with the new\nprice. Failing to do so results in *adding* the new price so both prices are\nactive for the subscription.\n\nAlternatively, you can delete the current subscription item and create a new\nsubscription item with the updated price.\n\n```\ncurl https://api.stripe.com/v1/subscriptions/sub_xxxxxxxxx \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d \"items[0][id]\"={{SUB_ITEM_ID}} \\\n -d \"items[0][deleted]\"=true \\\n -d \"items[1][price]\"={{NEW_PRICE_ID}}\n```\n\n## Update the subscription item\n\n[Update a subscription](https://docs.stripe.com/api/subscription_items/update)\nusing the following parameter:\n\n- `item price`: Provide the identifier for the replacement price.\n- `item quantity`: Updating a subscription price automatically reverts the\nquantity to the default value of `1`. If the existing subscription quantity is\nanything other than `1` and you want to preserve that value, you must include it\nin the update.\n\nUse this option if you don’t need to make any other changes at the subscription\nlevel.\n\n```\ncurl https://api.stripe.com/v1/subscription_items/si_xxxxxxxxx \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d price={{NEW_PRICE_ID}}\n```\n\n## Billing periods\n\nIf both prices have the same billing periods (combination of `interval` and\n`interval_count`), the subscription retains the same billing dates. If the\nprices have different billing periods, the new price is billed at the new\ninterval, starting on the day of the change. For example, switching a customer\nfrom one monthly subscription to another doesn’t change the billing dates.\nHowever, switching a customer from a monthly subscription to a yearly\nsubscription moves the billing date to the date of the switch. Switching a\ncustomer from one monthly subscription to another monthly subscription while\nintroducing a trial period also moves the billing date (to the conclusion of the\ntrial).\n\n### Subscription schedules\n\nIf you’re changing a subscription at the end of its billing cycle, consider\nusing a [subscription\nschedule](https://docs.stripe.com/billing/subscriptions/subscription-schedules/use-cases#changing-subscriptions)\nto manage the transition. When using subscription schedules, be sure to follow\n[best\npractices](https://docs.stripe.com/billing/subscriptions/subscription-schedules#subscription-schedule-sub-updates)\nto prevent unexpected subscription overwrites.\n\n## Metered billing with Billing Meters\n\nDetails on mid-cycle updates for prices attached to a Billing Meter are\ndescribed in the [pricing\nmodels](https://docs.stripe.com/billing/subscriptions/usage-based/manage-billing-setup#mid-cycle-updates)\nsection. Passing `clear_usage` when updating a price with a Billing Meter has no\neffect.\n\n## Metered billing with Usage Records Legacy\n\nIf you have a metered price backed by legacy usage records and update to a new\nusage records price, the usage is transferred to the new price.\n\n```\ncurl https://api.stripe.com/v1/subscriptions/sub_xxxxxxxxx \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d \"items[0][id]\"={{SUB_ITEM_ID}} \\\n -d \"items[0][price]\"={{NEW_PRICE_ID}} \\\n -d \"items[0][clear_usage]\"=true\n```\n\n## Proration\n\nChanging a subscription often results in a\n[proration](https://docs.stripe.com/billing/subscriptions/prorations) to apply\nthe new price to the remaining days in the billing period. You can prepare your\ncustomer for any additional expense resulting from a price change by [previewing\na\nproration](https://docs.stripe.com/billing/subscriptions/prorations#preview-proration).\nAlternatively, you can [disable\nprorations](https://docs.stripe.com/billing/subscriptions/prorations#disable-prorations).\n\n### Immediate payment\n\nStripe immediately attempts payment for these subscription changes:\n\n- From a subscription that doesn’t require payment (for example, due to a trial\nor free subscription) to a paid subscription\n- When the billing period changes\n\nWhen billing is performed immediately, but the required payment fails, the\nsubscription change request succeeds and the subscription transitions to\n`past_due`.\n\nTo bill a customer immediately for a change to a subscription on the same\nbilling cycle, set `proration_behavior` to `always_invoice`. This calculates the\nproration, then immediately generates an\n[invoice](https://docs.stripe.com/api/invoices) after making the switch. Combine\nthis setting with [pending\nupdates](https://docs.stripe.com/billing/subscriptions/pending-updates) so the\nsubscription doesn’t update unless payment succeeds on the new invoice.\n\n### Credits for downgrades\n\nWhen invoicing immediately for a downgrade, the customer might be owed a credit,\nwhich is added to their credit balance to be applied to future invoices. To\nrefund your customer, issue [refunds](https://docs.stripe.com/refunds#issuing)\nand then [adjust their account\nbalance](https://docs.stripe.com/billing/customer/balance#modifying) back to\nzero. Learn more about customer refunds on our [dedicated support\npage](https://support.stripe.com/questions/refunding-credit-balance-to-customer-after-subscription-downgrade-or-cancellation).\n\n### Handling zero-amount prices and quantities\n\nIf you’ve subscribed a customer to a zero-amount price (for example, as a\ntrial), changing the price to a non-zero amount generates an invoice and resets\nthe [billing\nperiod](https://docs.stripe.com/billing/subscriptions/upgrade-downgrade#billing-periods)\nto the date of the change.\n\nIf you’ve subscribed a customer to a price with a non-zero amount and a\nzero-amount quantity, changing the quantity to a non-zero amount does not\ngenerate an invoice or reset the billing period.\n\n## See also\n\n- [Billing cycle](https://docs.stripe.com/billing/subscriptions/billing-cycle)\n- [Canceling and pausing](https://docs.stripe.com/billing/subscriptions/cancel)\n- [Update Subscription API](https://docs.stripe.com/api#update_subscription)\n\n## Links\n\n- [customer portal](https://docs.stripe.com/customer-management)\n- [list subscriptions](https://docs.stripe.com/api/subscriptions/list)\n- [Update a subscription](https://docs.stripe.com/api#update_subscription)\n- [Update a subscription](https://docs.stripe.com/api/subscription_items/update)\n- [subscription\nschedule](https://docs.stripe.com/billing/subscriptions/subscription-schedules/use-cases#changing-subscriptions)\n- [best\npractices](https://docs.stripe.com/billing/subscriptions/subscription-schedules#subscription-schedule-sub-updates)\n- [pricing\nmodels](https://docs.stripe.com/billing/subscriptions/usage-based/manage-billing-setup#mid-cycle-updates)\n- [proration](https://docs.stripe.com/billing/subscriptions/prorations)\n- [previewing a\nproration](https://docs.stripe.com/billing/subscriptions/prorations#preview-proration)\n- [disable\nprorations](https://docs.stripe.com/billing/subscriptions/prorations#disable-prorations)\n- [invoice](https://docs.stripe.com/api/invoices)\n- [pending\nupdates](https://docs.stripe.com/billing/subscriptions/pending-updates)\n- [refunds](https://docs.stripe.com/refunds#issuing)\n- [adjust their account\nbalance](https://docs.stripe.com/billing/customer/balance#modifying)\n- [dedicated support\npage](https://support.stripe.com/questions/refunding-credit-balance-to-customer-after-subscription-downgrade-or-cancellation)\n- [Billing cycle](https://docs.stripe.com/billing/subscriptions/billing-cycle)\n- [Canceling and pausing](https://docs.stripe.com/billing/subscriptions/cancel)",
  "metadata": {
    "title": "Upgrade and downgrade subscriptions | Stripe Documentation",
    "description": "Learn how to upgrade and downgrade subscriptions by changing the price.",
    "sourceURL": "https://docs.stripe.com/billing/subscriptions/upgrade-downgrade"
  }
}