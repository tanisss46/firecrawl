{
  "content": "# Moving money with Treasury using DebitReversal objects\n\n## Learn how you can retrieve funds taken out of a Treasury financial account from an external account holder.\n\nReturning the funds from a\n[ReceivedDebit](https://docs.stripe.com/api/treasury/received_debits) creates a\n[DebitReversal](https://docs.stripe.com/api/treasury/debit_reversals). You can\nget the funds back from a `ReceivedDebit` in only some scenarios (detailed in\nthe following table). Whether you can return the funds of a `ReceivedDebit`\ndepends on the network and source flow.\n\nThe `reversal_details` sub-hash on the `ReceivedDebit` resource can have the\nfollowing combination of values, which determines whether you can return the\n`ReceivedDebit` funds.\n\nRESTRICTED REASONDEADLINE (EPOCH TIMESTAMP)EXAMPLE SCENARIO`null`7940828047A\n`ReceivedDebit` that you can return funds from, but only until the timestamp in\n`deadline`. ACH `ReceivedDebits` have a deadline that determines how long you\nhave to return them.`deadline_passed`1629480538A `ReceivedDebit` whose funds\nwere returnable before the timestamp in `deadline`, but is no longer returnable\nusing the API because the `deadline` has passed. ACH `ReceivedDebits` have a\nlimited time of when they’re returnable using the API after they’re\ncreated.`already_reversed`nullA `ReceivedDebit` that’s already been returned. It\nmight have a non-null `deadline` value.`source_flow_restricted`nullA\n`ReceivedDebit` that can’t be returned because its `source_flow` isn’t\nreversible.\n## Return deadlines\n\nYou have approximately 1 business day to return ACH debits using the API after\nreceipt. After this time, ACH debit funds might still be returnable but funds\nreturn isn’t guaranteed. Contact support to request a return of funds if the\nreversal deadline has passed.\n\nTo create returns of `ReceivedDebit` funds produced by activity on `Issuing`\ncards, see the [Issuing\ndisputes](https://docs.stripe.com/issuing/purchases/disputes) guide.\n\n## Create a DebitReversal\n\nUse `POST /v1/treasury/debit_reversals` to create a `DebitReversal`. Specify the\nID of the `ReceivedDebit` to reverse with the `received_debit` parameter in the\nbody of the request.\n\n#### Note\n\nYou can’t update `DebitReversals`, so you must set any optional\n[metadata](https://docs.stripe.com/api/treasury/debit_reversals/object#debit_reversal_object-metadata)\non creation.\n\nThe following request creates a `DebitReversal` based on the `ReceivedDebit` ID\nvalue on the required `received_debit` parameter. The request also sets an\noptional metadata value.\n\n```\ncurl https://api.stripe.com/v1/treasury/debit_reversals \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -H \"Stripe-Account: {{CONNECTED_ACCOUNT_ID}}\" \\\n -d received_debit={{RECEIVED_DEBIT_ID}} \\\n -d \"metadata[reason]\"=Because\n```\n\nIf successful, the response returns the new `DebitReversal` object.\n\n```\n{\n \"id\": \"{{DEBIT_REVERSAL_ID}}\",\n \"object\": \"debit_reversal\",\n \"amount\": 1000,\n \"currency\": \"usd\",\n \"financial_account\": \"{{FINANCIAL_ACCOUNT_ID}}\",\n\"hosted_regulatory_receipt_url\":\n\"https://payments.stripe.com/regulatory-receipt/{{URL_ID}}\",\n \"linked_flows\": null,\n \"livemode\": false,\n \"metadata\": {},\n \"network\": \"ach\",\n \"received_debit\": \"{{RECEIVED_DEBIT_ID}}\",\n \"resolution\": null,\n \"status\": \"processing\",\n \"status_transitions\": {\n \"completed_at\": null\n },\n \"transaction\": \"{{TRANSACTION_ID}}\"\n}\n```\n\n## Retrieve a DebitReversal\n\nUse `GET /v1/treasury/debit_reversals/{{DEBIT_REVERSAL_ID}}` to retrieve the\n`DebitReversal` with the associated ID.\n\n```\ncurl https://api.stripe.com/v1/treasury/debit_reversals/{{DEBIT_REVERSAL_ID}} \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -H \"Stripe-Account: {{CONNECTED_ACCOUNT_ID}}\"\n```\n\nIf successful, the response returns the identified `DebitReversal`.\n\n```\n{\n \"id\": \"{{DEBIT_REVERSAL_ID}}\",\n \"object\": \"debit_reversal\",\n \"livemode\": true | false,\n \"created\": \"{{Timestamp}}\",\n \"financial_account\": \"{{FINANCIAL_ACCOUNT_ID}}\",\n \"amount\": 1000,\n \"currency\": \"usd\",\n // the ReceivedDebit being returned\n \"received_debit\": \"{{RECEIVED_DEBIT_ID}}\",\n```\n\nSee all 25 lines\n## List DebitReversals\n\nUse `GET /v1/treasury/debit_reversals` to retrieve a list of `DebitReversals`\nfor the financial account with the ID provided in the required\n`financial_account` parameter. You can filter the list by standard list\nparameters, `status`, or by `ReceivedDebit` ID using the `received_debit`\nparameter.\n\n```\n{\n // Standard list parameters\n \"limit\", \"starting_after\", \"ending_before\",\n // Filter by financial account (Required)\n \"financial_account\": \"{{FINANCIAL_ACCOUNT_ID}}\",\n // Filter by `status`\n \"status\": \"processing\" | \"canceled\" | \"completed\"\n // Filter by ReceivedDebit\n \"received_debit\": \"{{RECEIVED_DEBIT_ID}}\",\n}\n\n```\n\nThe following request retrieves the last three [DebitReversal\nobjects](https://docs.stripe.com/api/treasury/debit_reversals/object) for the\nidentified financial account.\n\n```\ncurl -G https://api.stripe.com/v1/treasury/debit_reversals \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -H \"Stripe-Account: {{CONNECTED_ACCOUNT_ID}}\" \\\n -d financial_account={{FINANCIAL_ACCOUNT_ID}} \\\n -d limit=3\n```\n\n## Test DebitReversals\n\nTo test `DebitReversals`, you must first create a [test mode\nReceivedDebit](https://docs.stripe.com/treasury/moving-money/financial-accounts/out-of/debit-reversals#test-received-debit).\nAfterwards, use `POST /v1/treasury/debit_reversals` and specify the test mode\n`ReceivedDebit` ID in the `received_debit` parameter to create a test mode\n`DebitReversal`.\n\n## DebitReversal webhooks\n\nStripe emits the following `DebitReversal` events to your\n[webhook](https://docs.stripe.com/webhooks) endpoint:\n\n- `treasury.debit_reversal.created` on `DebitReversal` creation.\n- `treasury.debit_reversal.completed` when the `DebitReversal` completes.\n\n## Links\n\n- [ReceivedDebit](https://docs.stripe.com/api/treasury/received_debits)\n- [DebitReversal](https://docs.stripe.com/api/treasury/debit_reversals)\n- [Issuing disputes](https://docs.stripe.com/issuing/purchases/disputes)\n-\n[metadata](https://docs.stripe.com/api/treasury/debit_reversals/object#debit_reversal_object-metadata)\n- [DebitReversal\nobjects](https://docs.stripe.com/api/treasury/debit_reversals/object)\n- [webhook](https://docs.stripe.com/webhooks)",
  "metadata": {
    "title": "Moving money with Treasury using DebitReversal objects | Stripe Documentation",
    "description": "Learn how you can retrieve funds taken out of a Treasury financial account from an external account holder.",
    "sourceURL": "https://docs.stripe.com/treasury/moving-money/financial-accounts/out-of/debit-reversals"
  }
}