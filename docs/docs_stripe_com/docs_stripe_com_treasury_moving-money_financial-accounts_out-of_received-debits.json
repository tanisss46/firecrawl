{
  "content": "# Moving money with Treasury using ReceivedDebit objects\n\n## Learn how external account holders can pull funds from a Treasury financial account.\n\nCertain processes initiated outside of Stripe Treasury result in money being\npulled out of a Treasury financial account. This includes:\n\n- Spending money on a card through [Stripe\nIssuing](https://docs.stripe.com/issuing/purchases/transactions#using-with-stripe-treasury)\n- Pulling money out of a financial account into an external account using ACH\ndebits\n- Pulling money out of a platform’s financial account into that platform’s\nStripe Payments balance using\n[top-ups](https://docs.stripe.com/treasury/moving-money/payouts#top-ups)\n\nThese money movements result in the creation of `ReceivedDebit` objects. You\ndon’t create `ReceivedDebits` directly, rather you observe `ReceivedDebit`\nobject creation with webhooks. If there are insufficient funds in the account,\nthe `ReceivedDebit` fails in most cases.\n\n## Retrieve a ReceivedDebit\n\nUse `GET /v1/treasury/received_debits/{{RECEIVED_DEBIT_ID}}` to retrieve the\n`ReceivedDebit` with the associated ID.\n\n```\ncurl https://api.stripe.com/v1/treasury/received_debits/{{RECEIVED_DEBIT_ID}} \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -H \"Stripe-Account: {{CONNECTED_ACCOUNT_ID}}\"\n```\n\nIf successful, the response returns the `ReceivedDebit` object with the\nassociated ID. Some of the parameters in the response have additional details\nthat are only returned when you add them as values to the `expand[]` parameter.\nThe fields that you can expand have an “Expandable” comment in the following\nresponse example. See [Expanding\nResponses](https://docs.stripe.com/api/expanding_objects) to learn more about\nexpanding object responses.\n\n```\n{\n \"id\": \"{{RECEIVED_DEBIT_ID}}\",\n \"object\": \"received_debit\",\n \"livemode\": Boolean,\n \"created\": Timestamp,\n // The FinancialAccount funds have been pulled from\n \"financial_account\": \"{{FINANCIAL_ACCOUNT_ID}}\", // Expandable\n \"amount\": 1000,\n \"currency\": \"usd\",\n \"description\": \"Testing\",\n```\n\nSee all 71 lines\n## List ReceivedDebits\n\nUse `GET /v1/treasury/received_debits` to retrieve all `ReceivedDebits` for a\nfinancial account. You must specify a financial account ID for the\n`financial_account` parameter. You can filter the results by the standard list\nparameters or by `status`.\n\n```\n{\n // Standard list parameters\n \"limit\", \"starting_after\", \"ending_before\",\n // Filter by FinancialAccount (Required)\n \"financial_account\": \"{{FINANCIAL_ACCOUNT_ID}}\",\n // Filter by status\n \"status\": \"succeeded\" | \"failed\"\n}\n```\n\nThe following request retrieves the last successful [ReceivedDebit\nobject](https://docs.stripe.com/api/treasury/received_debits/object) that\noccurred before the provided `ReceivedDebit` for the financial account\nidentified.\n\n```\ncurl -G https://api.stripe.com/v1/treasury/received_debits \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -H \"Stripe-Account: {{CONNECTED_ACCOUNT_ID}}\" \\\n -d financial_account={{FINANCIAL_ACCOUNT_ID}} \\\n -d limit=1 \\\n -d ending_before={{RECEIVED_DEBIT_ID}}\n```\n\n## Test ReceivedDebits\n\nStripe Treasury provides test endpoints for `ReceivedDebit` objects. Use `POST\n/v1/test_helpers/treasury/received_debits` to simulate `ReceivedDebit` creation\nin test mode. You can’t create `ReceivedDebit` objects in live mode, so using\nthis endpoint enables you to test the flow of funds when a third party initiates\ncreation of a `ReceivedDebit`. Set `financial_account` to the ID of the\nfinancial account to send money from. Set `network` to `ach` and optionally\nprovide the ABA financial address details for the `source_details.aba`\nparameter. As in live mode, test mode `ReceivedDebits` fail if there are\ninsufficient funds available.\n\n## ReceivedDebit webhooks\n\nStripe emits the following `ReceivedDebit` events to your\n[webhook](https://docs.stripe.com/webhooks) endpoint:\n\n- `treasury.received_debit.created` on `ReceivedDebit` creation.\n\n## Links\n\n- [Stripe\nIssuing](https://docs.stripe.com/issuing/purchases/transactions#using-with-stripe-treasury)\n- [top-ups](https://docs.stripe.com/treasury/moving-money/payouts#top-ups)\n- [Expanding Responses](https://docs.stripe.com/api/expanding_objects)\n- [ReceivedDebit\nobject](https://docs.stripe.com/api/treasury/received_debits/object)\n- [webhook](https://docs.stripe.com/webhooks)",
  "metadata": {
    "title": "Moving money with Treasury using ReceivedDebit objects | Stripe Documentation",
    "description": "Learn how external account holders can pull funds from a Treasury financial account.",
    "sourceURL": "https://docs.stripe.com/treasury/moving-money/financial-accounts/out-of/received-debits"
  }
}