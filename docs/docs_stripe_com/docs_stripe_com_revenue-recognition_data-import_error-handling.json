{
  "content": "# Error handling for data import\n\n## Learn how to handle and recover from errors received when importing revenue recognition data.\n\nYou might encounter errors when importing revenue recognition data. The\nfollowing list describes data import errors and how to resolve them. In most\ncases, you need to reimport the data to recover from the error.\n\n## General imports\n\nThe following list contains errors you might encounter with general imports and\nhow you can resolve them.\n\n### CSV file errors\n\nThe table below describes the errors related to the CSV file and how to handle\nthem.\n\nErrorDescriptionRecommendationEmpty fileThe CSV file doesn’t contain any lines\n(rows) or a header. It’s a zero-length file.[Download the CSV\ntemplate](https://dashboard.stripe.com/revenue-recognition/data-import) from the\nStripe Dashboard and add your transaction data. See [Importing\ndata](https://docs.stripe.com/revenue-recognition/data-import#general-import)\nfor data format details.\nInvalid data\n\nA line in the CSV file contains invalid data.\n\nMake sure each line includes:\n\n- a `transaction_id`\n- a date in the YYYY-MM-DD format\n- a valid amount\n- the currency’s three-letter ISO format\n\nIf you’re managing your data with Microsoft Excel, check that it didn’t\nautomatically change the date format before you import the data. The date must\nbe in the YYYY-MM-DD format.\n\nSee [Importing\ndata](https://docs.stripe.com/revenue-recognition/data-import#general-import)\nfor data format details.\n\nInvalid fileCouldn’t read the CSV file.[Download the CSV\ntemplate](https://dashboard.stripe.com/revenue-recognition/data-import) from the\nStripe Dashboard and add your transaction data. See [Importing\ndata](https://docs.stripe.com/revenue-recognition/data-import#general-import)\nfor data format details.Unknown failureThe CSV file failed to import due to\nunknown reasons. Some transactions might not have been imported.Please [contact\nStripe support](https://support.stripe.com/contact) for help.\n### Transaction ID errors\n\nThe table below describes the errors related to transaction IDs when doing\ngeneral imports and how to handle them.\n\nErrorDescriptionRecommendation\nInvalid transaction ID\n\nThe transaction ID doesn’t refer to any Stripe transaction.\n\nMake sure the ID is correct.\n\nIf you’re importing third-party transactions, you must change the source to a\ndifferent identifier than `Stripe`. See [Importing\ndata](https://docs.stripe.com/revenue-recognition/data-import#general-import)\nfor data format details.\n\nOverriding a charge linked to an invoiceA charge is linked to an invoice.A\ncharge that’s linked to an invoice can’t be overridden. Instead, override the\ninvoice.Transaction doesn’t existThe transaction ID couldn’t be found in test or\nlive mode.Make sure the ID is correct. If it does exist, switch to the\nappropriate mode ([test or live](https://docs.stripe.com/keys#test-live-modes))\nand reimport the transaction.Unsupported characterThe tilde (`~`) character is\nreserved for Stripe internal usage only.Use another character in the transaction\nID.\n### Split transaction ID errors\n\nThe table below describes the errors related to split transaction IDs and how to\nhandle them.\n\nErrorDescriptionRecommendation\nDuplicate split transaction IDs\n\nThere are duplicate split transaction IDs.\n\nIf you’re overriding the service period for an invoice line item, make sure the\ninvoice line item IDs are correct.\n\nIf you’re splitting a transaction, use unique identifiers for each split\ntransaction.\n\nMissing split transaction ID\n\nA split transaction ID is missing.\n\nIf you’re overriding the service period for an invoice line item, use the\ninvoice line item ID.\n\nIf you’re splitting a charge, use unique identifiers for each split transaction.\n\nSplit transaction doesn’t existThe split transaction ID couldn’t be found in\ntest or live mode.Make sure the ID is correct. If it does exist, switch to the\nappropriate mode ([test or live](https://docs.stripe.com/keys#test-live-modes))\nand reimport the transaction.\nSplit transaction mismatch\n\nThere’s a split transaction mismatch.\n\nCheck the split transaction ID and see that it matches what was imported.\n\nIf you want to resplit the transaction, delete the existing transactions and\nreimport it.\n\nUnsupported characterThe tilde (`~`) character is reserved for Stripe internal\nusage only.Use another character in the split transaction ID.\n### Booked date errors\n\nThe table below describes the errors related to booked dates and how to handle\nthem.\n\nErrorDescriptionRecommendationMissing booked dateA booked date is missing from a\nthird-party transaction.Check and see if there’s a booked date for the\ntransaction.Nonempty booked dateThere is a booked date for a Stripe invoice when\nnone is expected.The booked date of a Stripe invoice can’t be overridden. The\nfield must be empty.\n### Recognition date errors\n\nThe table below describes the errors related to recognition start and end dates\nand how to handle them.\n\nErrorDescriptionRecommendationMissing recognition end dateA recognition end date\nis missing from a third-party transaction.Check and see if there’s a recognition\nend date for the transaction. If you’re overriding a Stripe transaction, you\nmust provide both the recognition start date and end date.Missing recognition\nstart dateA recognition start date is missing from a third-party\ntransaction.Check and see if there’s a recognition start date for the\ntransaction. If you’re overriding a Stripe transaction, you must provide both\nthe recognition start date and end date.Recognition end date is earlier than\nstart dateThe recognition end date can’t be earlier than the start date.Make\nsure the start and end dates are correct.\n### Amount errors\n\nThe table below describes the errors related to transaction amounts and how to\nhandle them.\n\nErrorDescriptionRecommendationAmount mismatchThe amount doesn’t match the actual\namount of the transaction.The amount of a Stripe transaction can’t be\noverridden. The field must be empty.Missing amountAn amount is missing from a\nthird-party transaction.Check and see if there’s an amount for the\ntransaction.Total amount mismatchThe amounts of all split transactions don’t sum\nup to the total amount of the split charge.Check that all amounts match.\n### Currency errors\n\nThe table below describes the errors related to currency and how to handle them.\n\nErrorDescriptionRecommendationCurrency mismatchThe currency doesn’t match the\nactual currency of the transaction.The currency of a Stripe transaction can’t be\noverridden. The field must be empty.Missing currencyCurrency is missing from a\nthird-party transaction.Check and see if there’s currency for the transaction.\nMake sure to use the currency’s three-letter ISO format.Unsupported currencyThe\ncurrency you provided is not supported for your account.Convert it to one of the\ncurrencies listed in the error message. See [Supported\ncurrencies](https://docs.stripe.com/currencies) for more details.\n## Exclusion imports\n\nThe following list contains errors you might encounter with exclusion imports\nand how you can resolve them.\n\n## Transaction ID errors\n\nThe table below describes the errors related to transaction IDs when doing\nexclusion imports and how to handle them.\n\nErrorDescriptionRecommendationInvalid transaction IDThe transaction ID doesn’t\nrefer to a Stripe transaction.Make sure the ID is correct, according to the\n[data format\nrequirements](https://docs.stripe.com/revenue-recognition/data-import#general-import).Unsupported\nexclusion for charge or payment with an invoiceYou can’t exclude a charge or\npayment that’s linked to an invoice. Instead, exclude the invoice.Find the\ninvoice ID for the charge or payment and exclude the invoice ID.\n\n## Links\n\n- [Download the CSV\ntemplate](https://dashboard.stripe.com/revenue-recognition/data-import)\n- [Importing\ndata](https://docs.stripe.com/revenue-recognition/data-import#general-import)\n- [contact Stripe support](https://support.stripe.com/contact)\n- [test or live](https://docs.stripe.com/keys#test-live-modes)\n- [Supported currencies](https://docs.stripe.com/currencies)",
  "metadata": {
    "title": "Error handling for data import | Stripe Documentation",
    "description": "Learn how to handle and recover from errors received when importing revenue recognition data.",
    "sourceURL": "https://docs.stripe.com/revenue-recognition/data-import/error-handling"
  }
}