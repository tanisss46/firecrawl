{
  "content": "# ReplacementsPrivate preview\n\n## Learn how to handle financing offer replacements.\n\n#### Private preview\n\nFinancing offer replacements aren’t enabled by default. After updating your\nintegration to support replacements, you must [contact\nus](mailto:capital-review@stripe.com) to enable them.\n\nThe Capital financing application provides connected account users the option of\nlinking third-party data to receive updated offer terms, such as a higher loan\namount. Financing offer replacements give a platform visibility into its users’\noffer history.\n\nWithout replacements, when an account receives an offer with new terms, Stripe\nupdates the existing\n[FinancingOffer](https://docs.stripe.com/api/capital/connect_financing_object).\nThe platform can’t access any record of previous offers.\n\nWith replacements enabled, Stripe instead creates a `FinancingOffer` object\nrepresenting the new offer. The platform can access both the existing and new\noffers.\n\nThe following example illustrates how a user might receive a replacement offer:\n\n- Stripe creates an undelivered financing offer for the user with a maximum loan\namount of $5,000.\n- Your platform sends the user an offer email and marks the offer as delivered.\n- The user navigates to the Capital financing application and links their bank\naccount.\n- Stripe determines the user is eligible for a new maximum loan amount of\n$10,000.\n- Stripe replaces the user’s original $5,000 offer with a new $10,000 offer.\n\nThis guide covers how to handle offer replacements. It assumes you’ve completed\n[the API set-up guide](https://docs.stripe.com/capital/api-integration).\n\n[Create a delivered offer in test\nmode](https://docs.stripe.com/capital/replacements#create-delivered-offer)\nFrom the [Dashboard](https://dashboard.stripe.com/test/connect/capital), create\na new financing offer with status delivered in test mode.\n\n[Replace the offer](https://docs.stripe.com/capital/replacements#replace-offer)\nClick the overflow menu () next to the delivered offer, and select **Replace\noffer**.\n\n#### Note\n\n**Replace offer** only appears for offers that have never been replaced before\nand have status undelivered or delivered.\n\nClick **Replace** at the bottom of the modal to replace the offer.\n\nStripe sends the `capital.financing_offer.replacement_created` webhook after a\nreplacement [financing\noffer](https://docs.stripe.com/api/capital/connect_financing_object) is created.\nThe body of the webhook contains details about the replacement financing offer.\n\n```\n{\n \"type\": \"capital.financing_offer.replacement_created\",\n \"data\": {\n \"object\": {\n \"id\": \"financingoffer_xyz456\",\n \"object\": \"capital.financing_offer\",\n \"account\": \"acct_efg678\",\n \"status\": \"delivered\",\n \"financing_type\": \"flex_loan\",\n \"offered_terms\": {\n \"currency\": \"usd\",\n \"advance_amount\": 100000,\n \"fee_amount\": 10000,\n \"withhold_rate\": 0.15,\n },\n \"replacement_for\": \"financingoffer_abc123\",\n ...\n }\n }\n}\n```\n\nNotice that the replacement offer has status delivered. When a user receives a\nreplacement offer, it becomes their current active offer.\n\nUpdate your [webhook](https://docs.stripe.com/webhooks) integration to handle\nthe `capital.financing_offer.replacement_created` webhook. If your internal data\nmodels store the user’s active financing offer ID, make sure you update the ID\nto the user’s replacement offer.\n\n[Retrieve the replaced\noffer](https://docs.stripe.com/capital/replacements#retrieve-replaced-offer)\nAfter replacing the offer, you’re redirected to a page with details about the\nreplacement offer. The events table contains an event **Account acct_egg678 has\na replacement financing offer for financingoffer_abc123**, providing a reference\nto the user’s original offer ID.\n\n[Retrieve](https://docs.stripe.com/api/capital/financing_offers/retrieve#retrieve_financing_offer)\n`financingoffer_abc123`. Notice that it has status replaced, and the\n`replacement` attribute has value `financingoffer_xyz456`, indicating that\n`financingoffer_xyz456` replaced `financingoffer_abc123`.\n\n```\n{\n \"id\": \"financingoffer_abc123\",\n \"object\": \"capital.financing_offer\",\n \"status\": \"replaced\",\n \"replacement\": \"financingoffer_xyz456\",\n ...\n}\n```\n\nReplaced is a terminal state. If the user accepts their replacement offer, all\nfuture offer state transitions affect the replacement offer.\n\n## Links\n\n- [FinancingOffer](https://docs.stripe.com/api/capital/connect_financing_object)\n- [the API set-up guide](https://docs.stripe.com/capital/api-integration)\n- [Dashboard](https://dashboard.stripe.com/test/connect/capital)\n- [webhook](https://docs.stripe.com/webhooks)\n-\n[Retrieve](https://docs.stripe.com/api/capital/financing_offers/retrieve#retrieve_financing_offer)",
  "metadata": {
    "title": "Replacements | Stripe Documentation",
    "description": "Learn how to handle financing offer replacements.",
    "sourceURL": "https://docs.stripe.com/capital/replacements"
  }
}