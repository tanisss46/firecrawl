{
  "content": "# Payment Element integration best practices\n\n## Build your Payment Element integration using best practices.\n\nUse the checklist on this page to make sure you build your Payment Element\nintegration for optimal performance. The following features enable you to access\nadditional integration options. For example, if you use [Dynamic payment\nmethods](https://docs.stripe.com/payments/payment-methods/dynamic-payment-methods),\nyou can use [payment method\nrules](https://docs.stripe.com/payments/payment-method-rules) to present payment\nmethods with custom criteria.\n\n## Integration checklist\n\n- Choose a layout\nChoose the Payment Element’s\n[layout](https://docs.stripe.com/payments/payment-element#layout) to match the\nstyle of your site, then run an A/B test to confirm the best choice. If you have\nover 4 payment methods, we recommend the accordion layout.\n- Add styling\n[Style the Payment\nElement](https://docs.stripe.com/payments/payment-element#appearance) to match\nthe visual design of your website using the Appearance API. You can apply this\nstyle to any element you add to your integration.\n- Choose how to collect a payment\nConsider if you want to [collect a\npayment](https://docs.stripe.com/payments/accept-a-payment-deferred?type=payment)\nbefore you create the PaymentIntent API call. To [accept a\npayment](https://docs.stripe.com/payments/accept-a-payment?platform=web&ui=elements),\nyou must create a PaymentIntent that contains an amount and currency, and\nconfirm that payment to trigger Stripe to make a charge. However, you can\nalternate the order that you collect the payment and create the PaymentIntent.\nWe recommend that you [collect the payment\nfirst](https://docs.stripe.com/payments/accept-a-payment-deferred?type=payment).\n- Send metadata\nSend\n[metadata](https://docs.stripe.com/api/payment_intents/create#create_payment_intent-metadata)\nin your PaymentIntent to allow metadata to show up in your reports. This indexes\nyour metadata to make sure that it’s searchable in the Stripe Dashboard. You can\nuse this metadata to find and reference transactions.\n- Make sure to use the latest API\nCheck to make sure your PaymentIntent uses the [latest API\nversion](https://docs.stripe.com/upgrades#api-versions).\n- Select the payment methods you want to display\nUse [Dynamic payment\nmethods](https://docs.stripe.com/payments/payment-methods/dynamic-payment-methods)\nas part of the default Stripe integration to dynamically display eligible\npayment methods to each customer. Stripe orders the payment methods by\nconversion probability based on factors such as the amount, currency, and\nlocation. Dynamic payment methods allow you to:\n\n- Choose the [payment methods](https://stripe.com/guides/payment-methods-guide)\nthat your customers can use from the\n[Dashboard](https://dashboard.stripe.com/settings/payment_methods).\n- Use additional features, such as [payment method\nrules](https://docs.stripe.com/payments/payment-method-rules), which allows you\nto present payment methods using custom criteria.\n- Test payment methods\nWhen your integration is complete, test and [view how payment methods appear to\ncustomers](https://dashboard.stripe.com/settings/payment_methods/review). From\nthe **Review displayed payment methods** form, enter a [PaymentIntent\nID](https://docs.stripe.com/api/payment_intents/object#payment_intent_object-id)\nto learn which payment methods were and weren’t available for that specific\ntransaction. You can also simulate which payment methods display in a given\nscenario by changing factors such as the amount, currency, capture method, and\nfuture usage.\n- Avoid iframes\nThe Payment Element contains an iframe that securely sends payment information\nto Stripe over an HTTPS connection. Avoid placing the Payment Element within\nanother iframe because some payment methods require a redirect to another page\nfor payment confirmation. For more information on iframe considerations, see\n[Collect payment\ndetails](https://docs.stripe.com/payments/accept-a-payment?platform=web&ui=elements#web-collect-payment-details).\n\n## Additional features checklist\n\n- Enable Link\nAfter you integrate your UI and dynamic payment methods, enable\n[Link](https://docs.stripe.com/payments/link/payment-element-link) in the\n[Payment Method settings\npage](https://dashboard.stripe.com/settings/payment_methods). Link securely\nsaves and fills in customer payment and shipping details. It supports various\npayment methods, including credit cards, debit cards, and US bank accounts. For\nlogged-in customers that already use Link, this feature prefills their\ninformation, regardless of whether they initially saved it on the checkout page\nof another business.\n- Add the Link Authentication Element\nTo collect and prefill shipping addresses and sell physical goods, we recommend\nusing the [Link Authentication\nElement](https://docs.stripe.com/payments/elements/link-authentication-element)\nto create a single email input field for both email collection and Link\nauthentication.\n- Add the Address Element\nThe Address Element streamlines collection of shipping and billing information\nduring checkout. It integrates with other elements and prefills addresses with\nLink. It supports auto-suggestions for new address entry using free Google\nAutocomplete support.\n\n- In `shipping` mode, customers have the option to use their shipping address as\ntheir billing address.\n- In `billing` mode, Stripe hides billing fields within the Payment Element to\nmake sure that customers only need to enter their details once.\n- Add the Payment Method Messaging Element\nIf you choose to offer BNPLs, we recommend that you promote them ahead of\ncheckout to help drive awareness, increase order value, and positively impact\nconversion using the [Payment Method Messaging\nElement](https://docs.stripe.com/payments/payment-method-messaging).\n\n- You can display this unified embeddable component on product detail, cart, and\npayment pages.\n- This element includes support for\n[Affirm](https://docs.stripe.com/payments/affirm),\n[Afterpay](https://docs.stripe.com/payments/afterpay-clearpay), and\n[Klarna](https://docs.stripe.com/payments/klarna).\n- Add the Express Checkout Element\nUse the [Express Checkout\nElement](https://docs.stripe.com/elements/express-checkout-element) to show\ncustomers multiple one-click payment buttons in a single UI component, including\n[Apple Pay](https://docs.stripe.com/apple-pay), [Google\nPay](https://docs.stripe.com/google-pay),\n[PayPal](https://docs.stripe.com/payments/paypal), and\n[Link](https://docs.stripe.com/payments/link/express-checkout-element-link).\n\n## See also\n\n- [Accept a\npayment](https://docs.stripe.com/payments/accept-a-payment?platform=web&ui=elements)\n\n## Links\n\n- [Dynamic payment\nmethods](https://docs.stripe.com/payments/payment-methods/dynamic-payment-methods)\n- [payment method rules](https://docs.stripe.com/payments/payment-method-rules)\n- [layout](https://docs.stripe.com/payments/payment-element#layout)\n- [Style the Payment\nElement](https://docs.stripe.com/payments/payment-element#appearance)\n- [collect a\npayment](https://docs.stripe.com/payments/accept-a-payment-deferred?type=payment)\n- [accept a\npayment](https://docs.stripe.com/payments/accept-a-payment?platform=web&ui=elements)\n-\n[metadata](https://docs.stripe.com/api/payment_intents/create#create_payment_intent-metadata)\n- [latest API version](https://docs.stripe.com/upgrades#api-versions)\n- [payment methods](https://stripe.com/guides/payment-methods-guide)\n- [Dashboard](https://dashboard.stripe.com/settings/payment_methods)\n- [view how payment methods appear to\ncustomers](https://dashboard.stripe.com/settings/payment_methods/review)\n- [PaymentIntent\nID](https://docs.stripe.com/api/payment_intents/object#payment_intent_object-id)\n- [Collect payment\ndetails](https://docs.stripe.com/payments/accept-a-payment?platform=web&ui=elements#web-collect-payment-details)\n- [Link](https://docs.stripe.com/payments/link/payment-element-link)\n- [Link Authentication\nElement](https://docs.stripe.com/payments/elements/link-authentication-element)\n- [Payment Method Messaging\nElement](https://docs.stripe.com/payments/payment-method-messaging)\n- [Affirm](https://docs.stripe.com/payments/affirm)\n- [Afterpay](https://docs.stripe.com/payments/afterpay-clearpay)\n- [Klarna](https://docs.stripe.com/payments/klarna)\n- [Express Checkout\nElement](https://docs.stripe.com/elements/express-checkout-element)\n- [Apple Pay](https://docs.stripe.com/apple-pay)\n- [Google Pay](https://docs.stripe.com/google-pay)\n- [PayPal](https://docs.stripe.com/payments/paypal)\n- [Link](https://docs.stripe.com/payments/link/express-checkout-element-link)",
  "metadata": {
    "title": "Payment Element integration best practices | Stripe Documentation",
    "description": "Build your Payment Element integration using best practices.",
    "sourceURL": "https://docs.stripe.com/payments/payment-element/best-practices"
  }
}