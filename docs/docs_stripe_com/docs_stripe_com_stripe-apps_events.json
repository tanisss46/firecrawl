{
  "content": "# Listen for events\n\n## Listen for events on your installed users accounts\n\nApps can use [Webhooks](https://docs.stripe.com/webhooks) to get alerts about\nevents happening on their users’ accounts. This helps app developers keep\ninformation in sync or trigger actions within their app when something changes.\n\n## Get started\n\n- [Handle webhook events in your app’s back\nend](https://docs.stripe.com/webhooks#webhook-endpoint-def).\n- [Register a webhook\nendpoint](https://docs.stripe.com/webhooks#webhooks-summary) in the Stripe\nDashboard, and select **Listen to events on Connected accounts**.\n- Register a test mode webhook endpoint in the Stripe Dashboard. Apps can be\ninstalled in both live and [test\nmode](https://docs.stripe.com/stripe-apps/build-backend#event-behavior-depends-on-install-mode).\nWe also recommend setting up a test mode endpoint to handle test mode events.\nRecommended\n- Add the required permissions to your app by running `stripe apps grant\npermission` for each one.\n```\nstripe apps grant permission \"PERMISSION_NAME\" \"EXPLANATION\"\n```\n\nReplace:- `PERMISSION_NAME` with the permission name.\n- `EXPLANATION` with an explanation for enabling access. Users see this\nexplanation when they install your app.\n\nYou must add the `event_read` permission, plus any permissions associated with\nthe specific events you want to handle. For information about which permissions\na particular event requires, see [Event\npermissions](https://docs.stripe.com/stripe-apps/reference/permissions#event).\n\nFor example, if you want to handle the `payment_intent.succeeded` and\n`setup_intent.succeeded` events, run the following commands:\n\n```\nstripe apps grant permission \"event_read\" \"Read webhook event data\"\nstripe apps grant permission \"checkout_session_read\" \"Read Checkout Session data\nin webhook events\"\nstripe apps grant permission \"payment_intent_read\" \"Read PaymentIntent data in\nwebhook events\"\nstripe apps grant permission \"setup_intent_read\" \"Read SetupIntent data in\nwebhook events\"\n```\n\nAfter you run those commands, your app manifest file might look like this:\n\n```\n{\n \"id\": \"com.example.app\",\n \"version\": \"1.2.3\",\n \"name\": \"Example App\",\n \"icon\": \"./example_icon_32.png\",\n \"permissions\": [\n {\n \"permission\": \"event_read\",\n \"purpose\": \"Read webhook event data\"\n }\n {\n \"permission\": \"checkout_session_read\",\n \"purpose\": \"Read Checkout Session data in webhook events\"\n }\n {\n \"permission\": \"payment_intent_read\",\n \"purpose\": \"Read PaymentIntent data in webhook events\"\n }\n {\n \"permission\": \"setup_intent_read\",\n \"purpose\": \"Read SetupIntent data in webhook events\"\n }\n ],\n}\n```\n\n## Listen for events on your account\n\nTo receive events for an app that’s private to users on your account only:\n\n- Handle [webhook events](https://docs.stripe.com/webhooks#webhook-endpoint-def)\nin your app’s back end.\n- [Register a webhook\nendpoint](https://docs.stripe.com/webhooks#webhooks-summary) in the Stripe\nDashboard.\n\n## Receive event notifications about your app\n\nListen for events (such as user installs or uninstalls) on your Stripe app using\nincoming [webhooks](https://docs.stripe.com/webhooks) so your integration can\nautomatically trigger reactions in your back end such as:\n\n- Creating user accounts\n- Updating permissions\n- Disabling a user’s account and removing data\n\nIn addition to the [types of events Stripe\nsupports](https://docs.stripe.com/api/events/types), Stripe Apps also supports\nthe following events:\n\nMerchant actionResulting webhook event sent to the app’s backendConnect or\ninstall your\napp[account.application.authorized](https://docs.stripe.com/api/events/types#event_types-account.application.authorized)Disconnect\nor uninstall your\napp[account.application.deauthorized](https://docs.stripe.com/api/events/types#event_types-account.application.deauthorized)\n## Test webhooks locally\n\nYou can test webhooks locally for:\n\n- An app that’s only available to all users on your account and listens to\nevents on your own account\n- An app that’s available on the Stripe App Marketplace and listens to events on\naccounts that have installed your app\n\nTo test webhooks locally:\n\n- [Install the Stripe CLI](https://docs.stripe.com/stripe-cli).\n- Authenticate your account:\n\n```\nstripe login\n```\n- Open two terminal windows:\n\n- In one terminal window, [Set up event\nforwarding](https://docs.stripe.com/webhooks#local-listener):\n\nPublic listing on App MarketplacePrivate to your account only\n```\nstripe listen --forward-connect-to localhost:{{PORT}}/webhook\n```\n- In the other terminal window, [Trigger events to test your webhooks\nintegration](https://docs.stripe.com/webhooks#trigger-test-events):\n\nPublic listing on App MarketplacePrivate to your account only\n```\nstripe trigger --stripe-account {{EVENT_NAME}}\n```\n\nFor more information, see our docs on [testing a webhook\nendpoint](https://docs.stripe.com/webhooks#local-listener).\n\n## See also\n\n- [Server-side logic](https://docs.stripe.com/stripe-apps/build-backend)\n- [Permissions\nreference](https://docs.stripe.com/stripe-apps/reference/permissions)\n- [API Authentication\nTypes](https://docs.stripe.com/stripe-apps/api-authentication)\n- [Event destinations](https://docs.stripe.com/event-destinations)\n- [Webhooks](https://docs.stripe.com/webhooks)\n\n## Links\n\n- [Webhooks](https://docs.stripe.com/webhooks)\n- [Handle webhook events in your app’s back\nend](https://docs.stripe.com/webhooks#webhook-endpoint-def)\n- [Register a webhook\nendpoint](https://docs.stripe.com/webhooks#webhooks-summary)\n- [test\nmode](https://docs.stripe.com/stripe-apps/build-backend#event-behavior-depends-on-install-mode)\n- [Event\npermissions](https://docs.stripe.com/stripe-apps/reference/permissions#event)\n- [types of events Stripe supports](https://docs.stripe.com/api/events/types)\n-\n[account.application.authorized](https://docs.stripe.com/api/events/types#event_types-account.application.authorized)\n-\n[account.application.deauthorized](https://docs.stripe.com/api/events/types#event_types-account.application.deauthorized)\n- [Install the Stripe CLI](https://docs.stripe.com/stripe-cli)\n- [Set up event forwarding](https://docs.stripe.com/webhooks#local-listener)\n- [Trigger events to test your webhooks\nintegration](https://docs.stripe.com/webhooks#trigger-test-events)\n- [Server-side logic](https://docs.stripe.com/stripe-apps/build-backend)\n- [Permissions\nreference](https://docs.stripe.com/stripe-apps/reference/permissions)\n- [API Authentication\nTypes](https://docs.stripe.com/stripe-apps/api-authentication)\n- [Event destinations](https://docs.stripe.com/event-destinations)",
  "metadata": {
    "title": "Listen for events | Stripe Documentation",
    "description": "Listen for events on your installed users accounts",
    "sourceURL": "https://docs.stripe.com/stripe-apps/events"
  }
}