{
  "content": "# Preview an invoice\n\n## Learn how to create a preview of an invoice.\n\nYou can create a preview of an invoice for your customer while they’re\nconsidering a purchase. [Create a\npreview](https://docs.stripe.com/api/invoices/create_preview) to calculate the\ntotal invoice amount, retrieve each invoice line, and include any relevant taxes\nor discounts. Creating a preview allows you to show the total payment amount to\nyour customer without the need to create an invoice.\n\nFor example, if you operate a company that provides repair services to\nbusinesses, you might present your customers with multiple items that each have\ndifferent prices and billing schedules:\n\n- Item 1: 299 USD one-time service fee\n- Item 2: 29 USD repair material A\n- Item 3: 99 USD repair material B\n- Item 4: 49 USD per month support plan\n\nCustomers might want to know how much different combinations of your goods and\nservices cost. If they intend to purchase items 1 and 3 while applying the\n`WINTERSALE` promo code for 15% off, run the following API call:\n\n```\ncurl https://api.stripe.com/v1/invoices/create_preview \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d \"invoice_items[0][price]\"=price_item_1 \\\n -d \"invoice_items[0][quantity]\"=1 \\\n -d \"invoice_items[1][price]\"=price_item_3 \\\n -d \"invoice_items[1][quantity]\"=1 \\\n -d \"discounts[0][promotion_code]\"=promo_WINTERSALE\n```\n\nStripe returns an [invoice](https://docs.stripe.com/api/invoices/object) preview\nwith each of the lines, with the discount applied, and the total amount:\n\n```\n{\n \"id\": \"upcoming_in_1OujwkClCIKljWvsq5v2ICAN\",\n \"object\": \"invoice\",\n \"account_country\": \"US\",\n \"account_name\": \"Stripe Docs\",\n \"account_tax_ids\": null,\n \"amount_due\": 39800,\n \"amount_paid\": 0,\n \"amount_remaining\": 39800,\n \"amount_shipping\": 0,\n```\n\nSee all 230 lines\nAdditionally, the resulting invoice preview can be retrieved via the\n[/v1/invoices/:id](https://docs.stripe.com/api/invoices/retrieve) endpoint for\nthe following 72 hours:\n\n```\ncurl https://api.stripe.com/v1/invoices/upcoming_in_1OujwkClCIKljWvsq5v2ICAN \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\"\n```\n\n## Include Stripe Tax\n\nTo preview tax amounts from Stripe Tax, set `automatic_tax[enabled] = true` and\npass the customer’s address in `customer_details[address]`:\n\n```\ncurl https://api.stripe.com/v1/invoices/create_preview \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d \"customer_details[address][line1]\"=\"920 5th Ave\" \\\n -d \"customer_details[address][city]\"=Seattle \\\n -d \"customer_details[address][state]\"=WA \\\n -d \"customer_details[address][postal_code]\"=98104 \\\n -d \"customer_details[address][country]\"=US \\\n -d \"automatic_tax[enabled]\"=true \\\n -d \"invoice_items[0][price]\"=price_item_1 \\\n -d \"invoice_items[0][quantity]\"=1 \\\n -d \"invoice_items[1][price]\"=price_item_3 \\\n -d \"invoice_items[1][quantity]\"=1 \\\n -d \"discounts[0][promotion_code]\"=promo_WINTERSALE\n```\n\n## Preview invoices with subscriptions\n\nTo preview the first invoice with a recurring price, use the\n[subscription_details.items](https://docs.stripe.com/api/invoices/create_preview#create_create_preview-subscription_details-items)\nparameter:\n\n```\ncurl https://api.stripe.com/v1/invoices/create_preview \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d \"subscription_details[items][0][price]\"=price_recurring_4 \\\n -d \"subscription_details[items][0][quantity]\"=1 \\\n -d \"invoice_items[0][price]\"=price_item_1 \\\n -d \"invoice_items[0][quantity]\"=1 \\\n -d \"invoice_items[1][price]\"=price_item_3 \\\n -d \"invoice_items[1][quantity]\"=1 \\\n -d \"discounts[0][promotion_code]\"=promo_WINTERSALE\n```\n\nTo preview changes to an existing subscription, provide the [subscription or\nsubscription schedule\nID](https://docs.stripe.com/billing/subscriptions/subscription-schedules#preview-an-invoice).\n\n## Preview the recurring charges only\n\nYour customer might want a recurring subscription along with one-time items, or\ntemporary credits or discounts to use with their purchase. If they want to know\nwhat the recurring charges are after any adjustments, use the\n[preview_mode](https://docs.stripe.com/api/invoices/create_preview#create_create_preview-preview_mode)\nparameter to offer them a preview of the total.\n\nFor example, if `WINTERSALE` is a one-time 15% discount and the customer wants\nto purchase items 1, 3, and 4, you can retrieve the recurring charge amount with\nthis API call:\n\n```\ncurl https://api.stripe.com/v1/invoices/create_preview \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d preview_mode=recurring \\\n -d \"subscription_details[items][0][price]\"=price_recurring_4 \\\n -d \"subscription_details[items][0][quantity]\"=1 \\\n -d \"invoice_items[0][price]\"=price_item_1 \\\n -d \"invoice_items[0][quantity]\"=1 \\\n -d \"invoice_items[1][price]\"=price_item_3 \\\n -d \"invoice_items[1][quantity]\"=1 \\\n -d \"discounts[0][promotion_code]\"=promo_WINTERSALE\n```\n\nThe resulting invoice only contains the 49 USD per month support plan with no\ndiscounts. Similarly, you can combine `preview_mode` with `subscription` or\n`subscription_schedule` to display the expected recurring charge, excluding\none-off items and discounts.\n\n## Invoice Line pagination\n\nFor invoices with more than 10 lines, you can [retrieve a paginated view of the\nlines](https://docs.stripe.com/api/invoices/invoice_lines):\n\n```\ncurl\nhttps://api.stripe.com/v1/invoices/upcoming_in_1OujwkClCIKljWvsq5v2ICAN/lines \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\"\n```\n\n## Links\n\n- [Create a preview](https://docs.stripe.com/api/invoices/create_preview)\n- [invoice](https://docs.stripe.com/api/invoices/object)\n- [/v1/invoices/:id](https://docs.stripe.com/api/invoices/retrieve)\n-\n[subscription_details.items](https://docs.stripe.com/api/invoices/create_preview#create_create_preview-subscription_details-items)\n- [subscription or subscription schedule\nID](https://docs.stripe.com/billing/subscriptions/subscription-schedules#preview-an-invoice)\n-\n[preview_mode](https://docs.stripe.com/api/invoices/create_preview#create_create_preview-preview_mode)\n- [retrieve a paginated view of the\nlines](https://docs.stripe.com/api/invoices/invoice_lines)",
  "metadata": {
    "title": "Preview an invoice | Stripe Documentation",
    "description": "Learn how to create a preview of an invoice.",
    "sourceURL": "https://docs.stripe.com/invoicing/preview"
  }
}