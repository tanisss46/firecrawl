{
  "content": "# Diagnose connection issues with cloud storage\n\n## Check common cloud storage configuration points.\n\nIf you have issues with your Stripe Data Pipeline connection to your cloud\nstorage, use this guide to check common configuration points. Select your cloud\nstorage provider below for specific troubleshooting steps.\n\n## Google Cloud Storage\n\nFirst, confirm that the bucket and project names match those in the Data\nPipeline Dashboard:\n\n- Navigate to the [Data Pipeline\nDashboard](https://dashboard.stripe.com/settings/stripe-data-pipeline).\n- Save the bucket and project listed for your Google Cloud Storage connection.\n- Open the [Cloud Storage\nbucket](https://console.cloud.google.com/storage/browser) page under the correct\nGoogle Cloud Project.\n- Confirm that the bucket listed in your Dashboard appears in your console.\n\nTo confirm that the roles and permissions are correct:\n\n- Navigate to your [Cloud Storage\nbucket](https://console.cloud.google.com/storage/browser) details, then click\nthe Permissions tab.\n- Confirm that your [Service\nAccount](https://console.cloud.google.com/iam-admin/serviceaccounts) includes\nthe following roles: `Storage Object User`, `Storage Object Creator`, and\n`Storage Insights Collector Service`.\n\nMake sure that you continue to confirm the [Google Cloud Status\nDashboard](https://status.cloud.google.com/) for any ongoing issues with Google\nCloud Storage. [Contact us](mailto:data-pipeline@stripe.com) if these steps\ndon’t resolve your connection issues.\n\n## Azure\n\nFirst, confirm that the container is correct:\n\n- Navigate to the [Storage\nAccounts](https://portal.azure.com/#view/HubsExtension/BrowseResource/resourceType/Microsoft.Storage%2FStorageAccounts)\npage.\n- Click **Storage browser** > **Data storage** > **Containers**.\n- Confirm that your container from the [Data Pipeline\nDashboard](https://dashboard.stripe.com/settings/stripe-data-pipeline) appears\non the Azure Containers page.\n\nTo confirm that the access key still exists:\n\n- Navigate to the [Storage\nAccounts](https://portal.azure.com/#view/HubsExtension/BrowseResource/resourceType/Microsoft.Storage%2FStorageAccounts)\npage.\n- Click **Security + networking** > **Access keys**.\n- Confirm that the shared access key still exists.\n\nTo confirm that the Resource group and Subscription ID are correct:\n\n- Navigate to the [Storage\nAccounts](https://portal.azure.com/#view/HubsExtension/BrowseResource/resourceType/Microsoft.Storage%2FStorageAccounts)\npage.\n- Click **Overview**.\n- Confirm that the Resource group and Subscription ID match those from the\ninitial onboarding. Make sure that you continue to confirm the [Azure Status\nDashboard](https://azure.status.microsoft/en-us/status) for any ongoing issues\nwith Azure. [Contact us](mailto:data-pipeline@stripe.com) if these steps don’t\nresolve your connection issues.\n\n## Amazon S3\n\nTo confirm you attached the policy you created to the new trust role:\n\n- Navigate to the [IAM console](https://console.aws.amazon.com/iam/) and click\n**Policies**.\n- Select the policy created in [step\n4](https://docs.stripe.com/stripe-data/access-data-in-warehouse/cloud-storage/aws-s3-storage#create-permission-polcy)\n(for example, `stripe-data-pipeline-policy`).\n- Click **Entities attached** and confirm that `stripe-data-pipeline-s3-role`\nappears under **Attached as a permissions policy**.\n- If not, click **Attach**, then select `stripe-data-pipeline-s3-role` and click\n**Attach policy**.\n\n## Links\n\n- [Data Pipeline\nDashboard](https://dashboard.stripe.com/settings/stripe-data-pipeline)\n- [Cloud Storage bucket](https://console.cloud.google.com/storage/browser)\n- [Service Account](https://console.cloud.google.com/iam-admin/serviceaccounts)\n- [Google Cloud Status Dashboard](https://status.cloud.google.com/)\n- [Storage\nAccounts](https://portal.azure.com/#view/HubsExtension/BrowseResource/resourceType/Microsoft.Storage%2FStorageAccounts)\n- [Azure Status Dashboard](https://azure.status.microsoft/en-us/status)\n- [IAM console](https://console.aws.amazon.com/iam/)\n- [step\n4](https://docs.stripe.com/stripe-data/access-data-in-warehouse/cloud-storage/aws-s3-storage#create-permission-polcy)",
  "metadata": {
    "title": "Diagnose connection issues with cloud storage | Stripe Documentation",
    "description": "Check common cloud storage configuration points.",
    "sourceURL": "https://docs.stripe.com/stripe-data/access-data-in-warehouse/cloud-storage/connection"
  }
}