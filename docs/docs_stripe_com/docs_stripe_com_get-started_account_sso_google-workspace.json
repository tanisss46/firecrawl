{
  "content": "# Single sign-on with Google WorkspacePublic preview\n\n## Learn how to setup single sign-on in the Dashboard with Google Workspace.\n\nStripe supports Single Sign-On (SSO), allowing you to manage your team’s access\nand roles through your identity provider (IdP). This means your team can access\nStripe without needing separate passwords. When SSO is configured, users (team\nmembers) are automatically redirected to your IdP for authentication when they\nsign in to Stripe.\n\nYour IdP verifies if they have a valid role assignment to your Stripe accounts\nor [organization](https://docs.stripe.com/get-started/account/orgs/sso), and\ngenerates a SAML assertion used by Stripe to assign the proper roles in the\nStripe Dashboard. When your account requires SSO, you must update team roles\nthrough your Identity Provider (IdP) for security. Changes to a team member’s\nroles only appear in Stripe after they sign in to the Dashboard again using the\nupdated SAML assertion.\n\n## Set up SSO\n\nTo integrate your Stripe account with your IdP, you’ll need to complete three\nsteps:\n\n- [Prove ownership of the\ndomains](https://docs.stripe.com/get-started/account/sso/google-workspace#proving-domain-verification)\nthat your team will use to sign in to the Dashboard.\n- [Configure Google\nWorkspace](https://docs.stripe.com/get-started/account/sso/google-workspace#configuring-your-identity-provider)\nto work with Stripe.\n- [Configure\nStripe](https://docs.stripe.com/get-started/account/sso/google-workspace#configure-stripe)\nto work with Google Workspace.\n[Proving Domain\nOwnership](https://docs.stripe.com/get-started/account/sso/google-workspace#proving-domain-verification)\nA domain is the portion of an email address after the `@` symbol (such as\n`kavholm.com`). You must configure SSO for Stripe for each of your business’s\nemail domains. To verify domain ownership:\n\n- Navigate to [User\nauthentication](https://dashboard.stripe.com/settings/security/authentication)\nin the Stripe Dashboard, and click **+ New domain** to view your account’s\nunique verification code.\n```\n stripe-verification=4242424242424242424242\n\n```\n- Add the verification code as a `TXT` record to your Domain Name System (DNS)\nprovider.\n- Return to the Stripe Dashboard, and click **Save and verify**. Depending on\nyour DNS provider, it can take 24 hours or more to verify your domain.\n- After successful verification, don’t delete the `TXT` record from your DNS\nprovider. If you delete it, you might lose access to the Dashboard because\nStripe frequently checks the DNS records of your domain.\n\n#### Multiple Stripe accounts support\n\nIf you’re configuring SSO for multiple Stripe accounts, you must create an\n[organization](https://docs.stripe.com/get-started/account/orgs) to centrally\nconfigure SSO across all of your accounts. Alternatively, contact [Stripe\nsupport](https://support.stripe.com/) to verify your domain across separate\naccounts with one shared verification code.\n\n[Configuring Google\nWorkspace](https://docs.stripe.com/get-started/account/sso/google-workspace#configuring-your-identity-provider)\n#### Caution\n\nThese instructions require changes in the [Google Workspace Admin\nconsole](https://admin.google.com/).\n\n- To configure Google Workspace, create a new SAML application to represent the\nrelationship between Google Workspace and the Stripe Dashboard. In the menu\naccessible at the top left, select **Apps**, and click **Web and mobile apps**.\n\n![Create a new SAML application in Google\nWorkspace](https://b.stripecdn.com/docs-statics-srv/assets/google_workspace_saml_apps.db133edbd1c04d8f0190a738ae5631b6.png)\n\n![Create a new SAML application in Google\nWorkspace](https://b.stripecdn.com/docs-statics-srv/assets/google_workspace_saml_apps.db133edbd1c04d8f0190a738ae5631b6.png)\n\n- Click the **Add app** menu and select **Add custom SAML app**. On the **App\ndetails** screen, set the **App name** and any other parameters you need. Click\n**Continue**.\n\n![Custom SAML app\ndetails](https://b.stripecdn.com/docs-statics-srv/assets/step-1.439c06d6540fd6ed1b4dd4fbdcd6aee9.png)\n\n![Custom SAML app\ndetails](https://b.stripecdn.com/docs-statics-srv/assets/step-1.439c06d6540fd6ed1b4dd4fbdcd6aee9.png)\n\n- Save the **SSO URL**, **Entity ID**, and download the certificate. You need\nthese in [step\n3](https://docs.stripe.com/get-started/account/sso/google-workspace#configure-stripe).\nNext, click **Continue**.\n\n![Custom SAML Google Identity Provider\ndetail](https://b.stripecdn.com/docs-statics-srv/assets/step-2.df4f42226695ba60fcad0b2edc588163.png)\n\n![Custom SAML Google Identity Provider\ndetail](https://b.stripecdn.com/docs-statics-srv/assets/step-2.df4f42226695ba60fcad0b2edc588163.png)\n\n- On the **Service Provider Details** screen, configure the following:\n\nSettingValueACS URL`https://dashboard.stripe.com/login/saml/consume`Entity\nID`https://dashboard.stripe.com/saml/metadata`Name ID`Basic Information` and\n`Primary Email`Name ID Format`EMAIL`\n\n![Custom SAML service provider\ndetails](https://b.stripecdn.com/docs-statics-srv/assets/step-3.a57d2f453981a3eef89a5e611da90f69.png)\n\n![Custom SAML service provider\ndetails](https://b.stripecdn.com/docs-statics-srv/assets/step-3.a57d2f453981a3eef89a5e611da90f69.png)\n\n- Click **Continue** and then click **Finish** on next screen to complete the\nSAML application set up.\n\n### Create a Google Workspace custom user attribute\n\nTo authenticate a team member to Stripe, configure Google Workspace with the\nrole they have in the Stripe Dashboard per Stripe account. To do this, create an\n**Attribute Mapping** from a Google Workspace user property to your SAML\napplication, then create a custom user property in Google Workspace to store\nthis information.\n\n- In the admin console main menu at the top left, select **Directory**, and\nclick **Users**.\n\n![Manage custom\nattributes](https://b.stripecdn.com/docs-statics-srv/assets/custom-attributes.d0bf966eca081bddeb7b6b8b75def633.png)\n\n![Manage custom\nattributes](https://b.stripecdn.com/docs-statics-srv/assets/custom-attributes.d0bf966eca081bddeb7b6b8b75def633.png)\n\n- In the menu of the user list, click **More options** and select the **Manage\ncustom attributes** item. In the top right, click **Add custom attribute**.\n\n![Add custom\nattribute](https://b.stripecdn.com/docs-statics-srv/assets/add-attribute.83d3279f110085b942ede4a900a47429.png)\n\n![Add custom\nattribute](https://b.stripecdn.com/docs-statics-srv/assets/add-attribute.83d3279f110085b942ede4a900a47429.png)\n\n- Enter a **Category**, **Description**, and **Name** as needed. Select an\n**Info type** of `Text`, a **Visibility** of your choice, set **No. of values**\nto `Single Value`, then click **Add**.\n\n![Add custom\nfields](https://b.stripecdn.com/docs-statics-srv/assets/custom-attribute.b318a94afeb67ce894a3db855ae9d436.png)\n\n![Add custom\nfields](https://b.stripecdn.com/docs-statics-srv/assets/custom-attribute.b318a94afeb67ce894a3db855ae9d436.png)\n\n### Map user attributes to the Stripe Dashboard\n\n- After you create your custom user property, map that property to an attribute\nin the SAML assertions your application sends. To navigate back to your SAML\napplication in the main menu, click the menu icon in the top left, select\n**Apps**, then **Web and mobile apps**.\n- Choose your new application from the list, then click **Configure SAML\nattribute mapping** in the **SAML attribute mapping** section.\n\n![Configure SAML attribute\nmapping](https://b.stripecdn.com/docs-statics-srv/assets/configure-attribute-mapping.04f876bd5c94c52b23d1109624398ccb.png)\n\n![Configure SAML attribute\nmapping](https://b.stripecdn.com/docs-statics-srv/assets/configure-attribute-mapping.04f876bd5c94c52b23d1109624398ccb.png)\n\n- Add a row for each Stripe account you want to authenticate your team to, and\nclick **Save**.- **Google Directory attributes** is the [custom field you\nconfigured](https://docs.stripe.com/get-started/account/sso/google-workspace#goolge-workspace-custom-attribute-values).\n- **App attribute** is the Stripe account to connect to. The format is\n`Stripe-Role-`. The account ID value is your currently logged in account, such\nas: ****.\n\n![Configure SAML attribute mapping\ndetails](https://b.stripecdn.com/docs-statics-srv/assets/configure-attribute-add-attributes.242476cdf7fba4a2ac77c0d70d8d6d88.png)\n\n![Configure SAML attribute mapping\ndetails](https://b.stripecdn.com/docs-statics-srv/assets/configure-attribute-add-attributes.242476cdf7fba4a2ac77c0d70d8d6d88.png)\n\n#### Multiple Stripe accounts support\n\nAdd one **Attribute Mapping** per account.\n\n![Configure SAML mulpti attributes\nmapping](https://b.stripecdn.com/docs-statics-srv/assets/configure-attribute-mulpti-attributes.e186b3dfffe6f5511eef0544edde4d9b.png)\n\n![Configure SAML mulpti attributes\nmapping](https://b.stripecdn.com/docs-statics-srv/assets/configure-attribute-mulpti-attributes.e186b3dfffe6f5511eef0544edde4d9b.png)\n\nYou can find the list of account tokens in the *Accounts* section of your\n[Profile](https://dashboard.stripe.com/settings/user).\n\n### Assign roles to your team\n\n- After you set up your SAML application, enable it for your users. Click **Edit\nservice** at the top right of the application details.\n\n![Edit user\naccess](https://b.stripecdn.com/docs-statics-srv/assets/edit-user-access.5892c2e5c3633e0fcd7e14bda98c4093.png)\n\n![Edit user\naccess](https://b.stripecdn.com/docs-statics-srv/assets/edit-user-access.5892c2e5c3633e0fcd7e14bda98c4093.png)\n\n- Select `ON for everyone`, and click **Save**.\n\n![Enable Stripe app for\neveryone](https://b.stripecdn.com/docs-statics-srv/assets/enble-app-for-everyone.f4c155e872f2d49c644e5ae4af809d5a.png)\n\n![Enable Stripe app for\neveryone](https://b.stripecdn.com/docs-statics-srv/assets/enble-app-for-everyone.f4c155e872f2d49c644e5ae4af809d5a.png)\n\n- For each team member, set a Stripe role on their User Information page in the\nDirectory. Navigate there in the main menu by clicking **Directory**, then\n**Users**. Select the user you want to set a role for from the list, click\n**User Information**, and scroll down to your new attribute.\n\n![Assign stripe role to\nusers](https://b.stripecdn.com/docs-statics-srv/assets/users-assign-stripe-role.814b761e530f97eb5d234f7949323a9c.png)\n\n![Assign stripe role to\nusers](https://b.stripecdn.com/docs-statics-srv/assets/users-assign-stripe-role.814b761e530f97eb5d234f7949323a9c.png)\n\n- To assign **multiple roles** to a user upon login, you can add a semicolon\nafter each role. For example, you can set the attribute as `analyst; developer`.\nIn this case, the user obtains the `analyst` and the `developer` role when they\nsign in.\n\nStripe supports distinct Dashboard roles for each Stripe account. This allows\nteam members to have the appropriate permission for each account they have\naccess to.\n\nStripe supports the following roles. Some of these roles are only available if\nyour account uses the applicable Stripe product. For more information, see [User\nroles supported by\nStripe](https://docs.stripe.com/get-started/account/teams/roles).\n\nRoleValueAdministrator`admin`Analyst`analyst`Cardholder`cardholder`Connect\nOnboarding Analyst`connect_onboarding_analyst`Connect Risk\nAnalyst`connect_risk_analyst`Data Migration\nSpecialist`data_migration_specialist`Developer`developer`Dispute\nAnalyst`dispute_analyst`Financial Connections\nSpecialist`financial_connections_specialist`IAM Admin`iam_admin`Identity\nAnalyst`identity_analyst`Identity View only`identity_view_only`Issuing Support\nAgent`issuing_support_agent`Opal View only`opal_view_only`Sandbox\nAdministrator`sandbox_admin`Sandbox User`sandbox_user`Super\nAdministrator`super_admin`Support Associate`support_associate`Support\nCommunications`support_communications`Support only`support_only`Support\nSpecialist`support_specialist`Refund Analyst`refund_analyst`Tax\nAnalyst`tax_analyst`Terminal Specialist`terminal_specialist`Topups\nonly`topups_only`Top-up Specialist`topup_specialist`Transfer\nAnalyst`transfer_analyst`View only`view_only`[Configuring\nStripe](https://docs.stripe.com/get-started/account/sso/google-workspace#configure-stripe)\n### Enter values from your identity provider\n\nConfigure your Stripe account to connect to your identity provider from the\n[User authentication](https://dashboard.stripe.com/account/user_authentication)\npage.\n\nTo configure Stripe to connect to your identity provider you’ll need:\n\n- **Issuer ID**: An identifier of your identity provider.\n- **Identity provider URL**: The URL of your identity provider that your team\nmembers are redirected to, so they can authenticate.\n- **Identity provider certificate**: The X.509 certificate that your identity\nprovider uses to signs assertions.\n\n### Find these values in your identity provider\n\nIf you don’t have these values from Step 1, navigate to the [SAML\napplication](https://docs.stripe.com/get-started/account/sso/google-workspace#configuring-your-identity-provider)\nyou created earlier, select **Service Provider Details**, and click **Manage\ncertificates**.\n\n![Manage SAML app\ncertificates](https://b.stripecdn.com/docs-statics-srv/assets/service-provider-details.198a2158954fa219c95834bbffc901de.png)\n\n![Manage SAML app\ncertificates](https://b.stripecdn.com/docs-statics-srv/assets/service-provider-details.198a2158954fa219c95834bbffc901de.png)\n\nThis opens a new window with the following information:\n\nName of property in StripeName of property in Google WorkspaceIdentity provider\nURLSSO URLIssuer IDEntity IDIdentity provider certificateCertificate 1\nDownload a copy of Certificate 1 to allow you to copy the certificate to Stripe.\n\n#### Test your configuration\n\nBefore saving your settings, a test runs to validate your SSO integration. After\nyou click the **Test** button, a window opens in your browser that redirects to\nyour identity provider to sign in. After you sign in, the window automatically\ncloses and test results display on the original page.\n\nIf the test succeeds, you can save the settings, and select an enforcement mode.\nIf the test fails, modify your configuration to address the issues reported and\ntest the integration again.\n\n#### Select an enforcement mode for SSO\n\nWhen using SSO, there are three separate enforcement modes that you can choose\nfrom. These affect which methods of authentication your team members can use.\n\nModeSSO authentication allowedRegular authentication\nallowedOffNoYesOptionalYesYesRequired[Authenticate with\nSSO](https://docs.stripe.com/get-started/account/sso/google-workspace#authenticate-sso)\nAfter you finish configuring SSO, you can inform your users to sign in with any\nof these methods:\n\n### Stripe’s sign in page\n\nUsers can navigate to the [Stripe sign in\npage](https://dashboard.stripe.com/login), enter their email, then select **Use\nsingle sign-on (SSO)**.\n\nIf a user has access to multiple accounts, Stripe authenticates them with the\ndefault account connected to the user. If a user only has access to SAML\nmerchants, or doesn’t have access to any merchants, Stripe redirects them to the\nIdP, regardless of the contents in the password field.\n\n### IdP-initiated login\n\nTo use IdP-initiated login, your [IdP needs to support Service\nProvider-initiated\nlogin](https://docs.stripe.com/get-started/account/sso/troubleshooting). Verify\nif this is possible using your IdP’s documentation.\n\n### SSO URL\n\nUse the following login URL with your domain to directly sign in to your account\nwith SSO. This URL includes the domain and account you want to use for SSO\nauthentication. If you change the account token at the end of the URL, it\nauthenticates you against a different account.\n\n```\n\nhttps://dashboard.stripe.com/login/saml_direct/domain/{{YOUR_DOMAIN}}/merchant/{{STRIPE_ACCOUNT_ID}}\n\n```\n\n#### Support for multiple Stripe accounts\n\nIf you’re configuring SSO for multiple Stripe accounts, first create an\n[organization](https://docs.stripe.com/get-started/account/orgs) to centrally\nconfigure SSO across all of your accounts. You can change the account token at\nthe end of the SSO URL to authenticate against another account. You can find the\nlist of account tokens in the **Accounts** section of your\n[Profile](https://dashboard.stripe.com/settings/user).\n\n**Multiple IdP connections:** If you have multiple Stripe businesses with\nmultiple IdP settings (for example, different SAML endpoints or issuer IDs) but\nshare the same domain, we recommend using login URLs.\n\n## Revoke team member access\n\nYou can revoke a team member’s access using either active or passive methods.\n\n### Actively revoke access with an assertion\n\nSend Stripe an assertion from your identity provider to grant a team member\naccess to specific Stripe accounts. This also lets you revoke a team member’s\naccess. To revoke access for a team member, assign them a role of `none` for the\nStripe account’s access you want to revoke. For example:\n\n```\n<saml2:attribute name=\"Stripe-Role-STRIPE-ACCOUNT-ID\"\nNameFormat=\"urn:oasis:names:tc:SAML:2.0:attrname-format:basic\">\n <saml2:attributevalue>none\n </saml2:attributevalue>\n</saml2:attribute>\n```\n\n#### Caution\n\nYou can’t revoke access for the owner of a Stripe account.\n\n### Passively revoke access with enforcement mode\n\nWhen **enforcement mode** is set to **required**, only team members who can\nauthenticate with your identity provider can access your Stripe account. In\n**required** mode, you can revoke a team member’s access to a Stripe account by\npreventing your identity provider from authenticating them. In the Stripe\nDashboard, set SSO to **required** in [User\nauthentication](https://dashboard.stripe.com/account/user_authentication).\n\n## Links\n\n- [organization](https://docs.stripe.com/get-started/account/orgs/sso)\n- [User\nauthentication](https://dashboard.stripe.com/settings/security/authentication)\n- [organization](https://docs.stripe.com/get-started/account/orgs)\n- [Stripe support](https://support.stripe.com/)\n- [Google Workspace Admin console](https://admin.google.com/)\n- [Profile](https://dashboard.stripe.com/settings/user)\n- [User roles supported by\nStripe](https://docs.stripe.com/get-started/account/teams/roles)\n- [User\nauthentication](https://dashboard.stripe.com/account/user_authentication)\n- [Stripe sign in page](https://dashboard.stripe.com/login)\n- [IdP needs to support Service Provider-initiated\nlogin](https://docs.stripe.com/get-started/account/sso/troubleshooting)",
  "metadata": {
    "title": "Single sign-on with Google Workspace | Stripe Documentation",
    "description": "Learn how to setup single sign-on in the Dashboard with Google Workspace.",
    "sourceURL": "https://docs.stripe.com/get-started/account/sso/google-workspace"
  }
}