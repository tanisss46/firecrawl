{
  "content": "# Design an integration\n\n## Learn what choices you need to make before integrating the Payment Element.\n\nBefore building your Payment Element integration, choose an integration path\nthat aligns with your business requirements.\n\nThe diagram below provides an overview of the integration guides available when\nintegrating the Payment Element.\n\nDo you have a multi-page checkout?\n\nFollow the [Build two-step\nconfirmation](https://docs.stripe.com/payments/build-a-two-step-confirmation)\nguide\n\nDo you have a dynamic checkout page where the amount might change based customer\ninputs?\n\nDo you have additional business logic that needs to run on your server prior to\nPaymentIntent or SetupIntent confirmation?\n\nFollow the [Accept a\npayment](https://docs.stripe.com/payments/accept-a-payment?platform=web&ui=elements)\nguide\n\nFollow the [Finalize payments on the\nserver](https://docs.stripe.com/payments/finalize-payments-on-the-server) guide\n\nFollow the [Collect payment details before creating an\nIntent](https://docs.stripe.com/payments/accept-a-payment-deferred) guide\n\nThe sections below demonstrate the two architectural choices required when\nintegrating the Payment Element.\n\n[Choose when to create the PaymentIntent or SetupIntent\nobject](https://docs.stripe.com/payments/payment-element/design-an-integration#when-to-create-intent)\nThe Payment Element collects payment information from your customer and\npopulates it onto either a\n[PaymentIntent](https://docs.stripe.com/api/payment_intents) or a\n[SetupIntent](https://docs.stripe.com/api/setup_intents) object, depending on\nwhether you’re collecting payment or setting up a payment method for future use.\nWhen a customer enters your checkout, you can either:\n\n- **Create only the Payment Element**: Defer creating and confirming the\nPaymentIntent or SetupIntent until the customer submits the payment form by\npressing the **Pay** button. Choose this option if:\n\n- You have a multi-page checkout flow where the page for collecting payment\ndetails comes before the page for payment submission or order summary. Learn how\nto [build two-step\nconfirmation](https://docs.stripe.com/payments/build-a-two-step-confirmation).\n- You have a dynamic checkout page where the amount can change based on customer\nselections, such as changing the items or quantity of items being purchased, or\nadding discount codes. By deferring Intent creation until after the customer\npresses **Pay**, you eliminate the need to synchronize your Intent with the\nchanges made on the client. This is necessary because changes to amount affect\nthe eligibility of certain payment methods. Learn how to [collect payment\ndetails before creating a\nPaymentIntent](https://docs.stripe.com/payments/accept-a-payment-deferred) if\nyou’re confirming the Intent on your client and how to [finalize payments on the\nserver](https://docs.stripe.com/payments/finalize-payments-on-the-server) if\nyou’re confirming the Intent on your server.\n- **Create both the PaymentIntent/SetupIntent and the Payment Element**: Create\nthe PaymentIntent or SetupIntent before loading the checkout page and then\ncreate the Payment Element, associating the two by providing the Intent’s\n`client_secret` [as a parameter when creating the Elements\nobject](https://docs.stripe.com/js/elements_object/create#stripe_elements-options-clientSecret).\nChoose this option if:\n\n- You have a static checkout page and want to quickly set up your integration.\nLearn how to [accept a\npayment](https://docs.stripe.com/payments/accept-a-payment?platform=web&ui=elements).\n[Choose where to confirm the PaymentIntent or\nSetupIntent](https://docs.stripe.com/payments/payment-element/design-an-integration#where-to-confirm-intent)\nPayment information collected by the Payment Element is transferred onto the\nPaymentIntent or SetupIntent at confirmation time. When the customer presses\n**Pay**, you can either:\n\n- **Confirm the PaymentIntent/SetupIntent on your client**: Code on your client\ncalls a Stripe SDK, which invokes the API to confirm the Intent. The Stripe SDK\nalso automatically handles additional next actions that might be required, such\nas authenticating with [3D Secure](https://docs.stripe.com/payments/3d-secure),\nand also localizes [error](https://docs.stripe.com/api/errors) messages. Choose\nthis option if:\n\n- You don’t require the additional control of confirming the Intent on your\nserver, and you prefer the quickest integration.\n- **Confirm the PaymentIntent/SetupIntent on your server**: Code on your server\ndirectly invokes the API to confirm the Intent. If next actions are required,\nyou must handle them either manually or by using a Stripe SDK, e.g.\n[stripe.handleNextAction](https://docs.stripe.com/js/payment_intents/handle_next_action).\nChoose this option if:\n\n- You have to execute business logic on your server before the confirmation,\nsuch as payment method restrictions or adjusting application fees. After your\nbusiness logic runs, immediately confirm the Intent on your server to guarantee\nthat the client can’t make any changes that could invalidate your business\nlogic.\n\n## Links\n\n- [Build two-step\nconfirmation](https://docs.stripe.com/payments/build-a-two-step-confirmation)\n- [Accept a\npayment](https://docs.stripe.com/payments/accept-a-payment?platform=web&ui=elements)\n- [Finalize payments on the\nserver](https://docs.stripe.com/payments/finalize-payments-on-the-server)\n- [Collect payment details before creating an\nIntent](https://docs.stripe.com/payments/accept-a-payment-deferred)\n- [PaymentIntent](https://docs.stripe.com/api/payment_intents)\n- [SetupIntent](https://docs.stripe.com/api/setup_intents)\n- [as a parameter when creating the Elements\nobject](https://docs.stripe.com/js/elements_object/create#stripe_elements-options-clientSecret)\n- [3D Secure](https://docs.stripe.com/payments/3d-secure)\n- [error](https://docs.stripe.com/api/errors)\n-\n[stripe.handleNextAction](https://docs.stripe.com/js/payment_intents/handle_next_action)",
  "metadata": {
    "title": "Design an integration | Stripe Documentation",
    "description": "Learn what choices you need to make before integrating the Payment Element.",
    "sourceURL": "https://docs.stripe.com/payments/payment-element/design-an-integration"
  }
}