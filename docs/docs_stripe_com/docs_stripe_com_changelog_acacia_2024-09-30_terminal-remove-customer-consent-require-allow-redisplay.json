{
  "content": "# Updates consent modeling for saving cards with TerminalBreaking changes\n\n## What’s new\n\nRemoves the `customer_consent_collected` parameter and replaces it with\n[allow_redisplay](https://docs.stripe.com/api/terminal/readers/process_setup_intent#process_setup_intent-allow_redisplay).\n\nRequires `allow_redisplay` when using `setup_future_usage`.\n\nRemovedcustomer_consent_collectedboolean\nIndicates whether customer consent has been collected to redisplay the payment\nmethod.\n\nAddedallow_redisplayenum\nThis field indicates whether this payment method can be shown again to its\ncustomer in a checkout flow. Stripe products such as Checkout and Elements use\nthis field to determine whether a payment method can be shown as a saved payment\nmethod in a checkout flow. The field defaults to `unspecified`.\n\n## Why is this a breaking change?\n\nThis is a breaking change because it requires `allow_redisplay` when saving card\ndetails with Terminal. For SetupIntents, `customer_consent_collected` has been\nremoved and replaced with `allow_redisplay`. For PaymentIntents that specify\n`setup_future_usage`, then `allow_redisplay` must also be passed before\ncollecting card details. With the new version, you must use `allow_redisplay` to\ncontrol whether a payment can be shown to a customer again.\n\n## Impact\n\nLets you save cards in more regions using Terminal, expanding your service\ncoverage. Additionally, the improved alignment with industry requirements for\ncustomer consent collection ensures regulatory compliance.\n\nYou must add the new parameter to your integration before March 31, 2025 and\nensure that it’s set to `always` or `limited` on all Setup Intents transactions\nand Payment Intents that specify `setup_future_usage`.\n\n## Changes\n\nREST APIRubyPythonPHPJavaNodeGo.NETParametersChangeResources or\nendpointsallow_redisplayAdded[Terminal.Reader#process_payment_intent.process_config](https://docs.stripe.com/api/terminal/readers/process_payment_intent#process_payment_intent-process_config)[Terminal.Reader#process_setup_intent](https://docs.stripe.com/api/terminal/readers/process_setup_intent)customer_consent_collectedRemoved[Terminal.Reader#process_setup_intent](https://docs.stripe.com/api/terminal/readers/process_setup_intent)\n## Upgrade\n\n- [View your current API\nversion](https://docs.stripe.com/upgrades#view-your-api-version-and-the-latest-available-upgrade-in-workbench)\nin Workbench.\n- If you use an SDK, upgrade to the corresponding SDK version for this API\nversion.- If you don’t use an SDK, update your [API\nrequests](https://docs.stripe.com/api/versioning) to include `Stripe-Version:\n2024-09-30.acacia`\n- Upgrade the API version used for [webhook\nendpoints](https://docs.stripe.com/webhooks/versioning).\n- [Test your integration](https://docs.stripe.com/testing) against the new\nversion.\n- If you use Connect, [test your Connect\nintegration](https://docs.stripe.com/connect/testing).\n- In Workbench, [perform the\nupgrade](https://docs.stripe.com/upgrades#perform-the-upgrade). You can [roll\nback the version](https://docs.stripe.com/upgrades#roll-back-your-api-version)\nfor 72 hours.\n\nLearn more about [Stripe API upgrades](https://docs.stripe.com/upgrades).\n\n## Related changes\n\n- [Adds support for configuring the reboot time\nsetting](https://docs.stripe.com/changelog/acacia/2024-09-30/terminal-reboot-window)\n- [Adds the Stripe S700 reader as a valid device\ntype](https://docs.stripe.com/changelog/acacia/2024-09-30/terminal-reader-s700)\n- [Adds details about offline collection on card_present PaymentMethod\nobjects](https://docs.stripe.com/changelog/acacia/2024-09-30/terminal-offline-details-card-present-paymentmethods)\n\n## Links\n\n-\n[allow_redisplay](https://docs.stripe.com/api/terminal/readers/process_setup_intent#process_setup_intent-allow_redisplay)\n-\n[Terminal.Reader#process_payment_intent.process_config](https://docs.stripe.com/api/terminal/readers/process_payment_intent#process_payment_intent-process_config)\n-\n[Terminal.Reader#process_setup_intent](https://docs.stripe.com/api/terminal/readers/process_setup_intent)\n- [View your current API\nversion](https://docs.stripe.com/upgrades#view-your-api-version-and-the-latest-available-upgrade-in-workbench)\n- [API requests](https://docs.stripe.com/api/versioning)\n- [webhook endpoints](https://docs.stripe.com/webhooks/versioning)\n- [Test your integration](https://docs.stripe.com/testing)\n- [test your Connect integration](https://docs.stripe.com/connect/testing)\n- [perform the upgrade](https://docs.stripe.com/upgrades#perform-the-upgrade)\n- [roll back the\nversion](https://docs.stripe.com/upgrades#roll-back-your-api-version)\n- [Stripe API upgrades](https://docs.stripe.com/upgrades)\n- [Adds support for configuring the reboot time\nsetting](https://docs.stripe.com/changelog/acacia/2024-09-30/terminal-reboot-window)\n- [Adds the Stripe S700 reader as a valid device\ntype](https://docs.stripe.com/changelog/acacia/2024-09-30/terminal-reader-s700)\n- [Adds details about offline collection on card_present PaymentMethod\nobjects](https://docs.stripe.com/changelog/acacia/2024-09-30/terminal-offline-details-card-present-paymentmethods)",
  "metadata": {
    "title": "Updates consent modeling for saving cards with Terminal | Stripe Documentation",
    "description": "",
    "sourceURL": "https://docs.stripe.com/changelog/acacia/2024-09-30/terminal-remove-customer-consent-require-allow-redisplay"
  }
}