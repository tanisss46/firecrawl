{
  "content": "# Upgrade Stripe's UI extension SDK\n\n## Upgrade your app to the latest version of @stripe/ui-extension-sdk.\n\nThis page provides a comprehensive guide to help you navigate the breaking\nchanges introduced in each major version of the\n[@stripe/ui-extension-sdk](https://www.npmjs.com/package/@stripe/ui-extension-sdk)\nand outlines the necessary changes to upgrade your application.\n\nWe recommend upgrading the Stripe Apps CLI plugin by running `stripe plugin\nupgrade apps` before updating the @stripe/ui-extension-sdk version. This ensures\noptimal compatibility, incorporation of the latest features, and security fixes.\n\n## @stripe/ui-extension-sdk v9\n\n### What’s new in v9\n\nVersion 9 of `@stripe/ui-extension-sdk` introduces property validation for all\nof its components. This version is more secure, mitigates bugs, and promotes\nadherence to coding best practices. After you install it, pay attention to\nTypeScript errors arising from invalid property values, as they could throw\nvalidation errors causing the application to crash.\n\n### Component changes\n\nWe made visual updates to several components. After you install the latest\nversion, review your app to make sure that the components appear as they should.\n\nComponentBreaking changesButton- `className` prop has been removed\nDateField- `onChange` prop now directly receives the value instead of the change\nevent.\nFormFieldGroup- `layout` prop values has changed from `row` and `column` to\n`horizontal` and `vertical`\n- `invalid` prop has been removed\nLink- `className` prop has been removed\nTab- `tabKey` prop has been replaced by `id`\nTabPanel- `tabKey` prop has been replaced by `id`\nTextArea- `onKeyPress` prop has been removed\nTextField- `onChange` callback signature has changed\n\n## Changelog\n\n### 9.0.0\n\n- Add `PlatformConfigurationView` component to enable setup for embedded apps.\n- Add runtime component prop validation to enforce type safe properties.\n- Add `pending` prop to `Button` component.\n- Add `new` variant value to `type` prop in `Badge` component.\n- Add more format options to `BarChart` and `LineChart` components:- Add format\nstyle `decimal`.\n- Add `nice` option to have more pleasing axis limits.\n- Add `ticks` to specify the number of markets along an axis.\n- Add `tickFormat` to modify the display of the tick labels.\n- Add `zero` to control the visibility of the zero value.\n- Add `fractionalDigits` option to currency formats to control the precision of\nnumeric values.\n- Remove deprecated `tabKey` prop from `Tab` and `TabPanel` components. Use the\n`id` prop instead.\n- Remove deprecated `background` property on `Box` and `Inline` components’\n`css` prop. Use the `backgroundColor` property instead.\n- Remove deprecated `className` prop from `Button` and `Link` components.\n- Remove deprecated `invalid` prop from `FormFieldGroup` component.\n- Remove deprecated `layout` property on `Box` and `Inline` components’ `css`\nprop. Use the `stack` property instead.\n- Remove deprecated `onClose` prop from `FocusView` component. Use the\n`setShown` prop instead.\n- Remove deprecated `onKeyPress` prop from `TextArea` and `TextField`\ncomponents.\n- The `onChange` prop in the `DateField` component now directly receives the\nvalue instead of the change event.\n- The `layout` prop values in the `FormFieldGroup` component have changed from\n`row` and `column` to `horizontal` and `vertical`.\n\n### 8.9.2\n\n- Fix `minTileWidth` prop types to accept only compatible values.\n- Remove `React.RefObject` type from the `Tooltip` component’s `trigger` prop,\nas it is not supported at runtime.\n- Add `id` prop to `Tab` and `TabPanel` components to replace `tabKey`.\n- Remove deprecation notice from border color properties (`borderColor`,\n`borderBottomColor`, `borderLeftColor`, `borderRightColor`, `borderTopColor`) in\nthe `css` prop of `Box` and `Inline` components.\n- Add border style and width properties (`borderStyle`, `borderWidth`,\n`borderBottomStyle`, `borderBottomWidth`, `borderLeftStyle`, `borderLeftWidth`,\n`borderRightStyle`, `borderRightWidth`, `borderTopStyle`, `borderTopWidth`) to\nthe `css` prop of `Box` and `Inline` components.\n- Add literal types to the `name` prop on the `Icon` component.\n\n### 8.9.1\n\n- Use fixed dependency versions.\n- Fix test wrapper find methods.\n\n### 8.9.0\n\n- Add `value` prop to `DateField` component.\n- Add deprecation notice to the `background` property on `Box` and `Inline`\ncomponents’ `css` prop. Use the `backgroundColor` property instead.\n- Add deprecation notice to the `className` prop on `Button` and `Link`\ncomponents.\n- Add deprecation notice to the `invalid` prop on `FormFieldGroup` component.\n- Add deprecation notice to the `layout` property on `Box` and `Inline`\ncomponents’ `css` prop. Use the `stack` property instead.\n- Add deprecation notice to the `tabKey` prop on `Tab` and `TabPanel`\ncomponents.\n- Add deprecation notice to the border color properties (`borderColor`,\n`borderTopColor`, `borderRightColor`, `borderBottomColor`, `borderLeftColor`) on\n`Box` and `Inline` components’ `css` prop. Use the `keyline` property for border\nstyling instead.\n- Remove deprecation notice from `value` and `checked` props.\n\n### 8.8.0\n\n- Add `StripeFileUploader` component.\n- Add `platform` prop to environment context.\n- Add `appContext` to the `ExtensionContextValue` type.\n- Add types for `AuthorizedPermission` and `AuthorizedContentSecurityPolicy`.\n- Add some utility functions for interacting with `appContext`:-\n`getUserAuthorizedPermissions`: Gets the intersection of the app’s authorized\npermissions and those of the current Dashboard user.\n- `isPermissionAuthorized`: Indicates if a permission is in the app’s authorized\npermissions.\n- `isSourceInAuthorizedCSP`: Indicates if a URL is in the app’s authorized\nconnect or image sources.\n\n### 8.7.0\n\n- Add `roles` to the account passed to extensions in the `userContext` property.\n\n### 8.6.0\n\n- Add `secondaryAction` prop to `SignInView`.\n- Add `target` to `SignInView` action props.\n- Allow both `href` and `onPress` on `SignInView` action props.\n\n### 8.5.0\n\n- Add `constants` prop to environment context.\n\n### 8.4.1\n\n- Add `SignInView` component.\n\n### 8.3.0\n\n- Remove unsupported `contentUses` property from `TableCell` and\n`TableHeaderCell` typing.\n- Updated `useToast` to return `show` and `dismiss` utility methods.\n\n### 8.2.0\n\n- `StripeAppsHttpResponse.prototype.toJSON()` now returns a rejected promise if\nthe HTTP response body was empty.\n- Add support for calling `fetchStripeSignature` with nested JSON.\n- Fix `debug` to filter props according to `all` option.\n- Add `tabKey` to `Tab` and `TabPanel`.\n- Upgrade `stripe` package dependency to `^9.11.0`.\n- Add `external` to `Link`.\n- Add `setShown` prop to `FocusView`.\n- Add `showToast` utility function for rendering toast notifications at the\nbottom of an app’s view.\n\n### 8.1.0\n\n- Fix `ExtensionContextValue` typing to mark `name` and `objectContext` values\nas possibly `null`.\n- Add `textAlign` to `Box` `css`.\n- Make `onSave` prop optional for `SettingsView` components.\n- Upgrade to `@remote-ui/react` 4.5.2.\n- Add `Sparkline` component.\n\n### 8.0.0\n\n- Add deprecation notice to the `value` prop on `TextArea`, `TextField`, and\n`Select` components.\n- Add deprecation notice to the `checked` prop on `Checkbox`, `Radio`, and\n`Switch` components.\n- Remove unsupported `outerRef` props from inputs.\n\n### 7.1.0\n\n- Add `brandIcon` and `brandColor` to `ContextView`.\n\n### 7.0.0\n\n- Deprecate `Notice` component; use `Banner` instead.\n- Add `overflowX` and `overflowY` to `Box` `css`.\n\n### 6.3.1\n\n- Internal update, no user-facing changes.\n\n### 6.3.0\n\n- Add `Banner` component.\n- Add deprecation warning for `Notice` component.\n- Add `locale` to `ExtensionContextValue['oauthContext']`.\n- Add `overflowWrap` and `wordBreak` to `Box` `css` properties.\n- Add `textTransform` to `Box` and `Inline` `css` properties.\n- Add `primaryAction`, `secondaryAction`, and `footerContent` properties to\n`ContextView`.\n- Add `whiteSpace` to `Box` `css` properties.\n\n### 6.2.0\n\n- `BarChart` and `LineChart` improvements:- Configurable axis formatting.\n- Configurable value formatting.\n- Configurable channel domains.\n- Configurable channel ranges.\n- Show/hide axis labels and ticks in charts.\n- Show/hide grid lines in charts.\n- Show/hide tooltips in chart presets.\n- Show/hide legends in chart presets.\n\n### 6.1.0\n\n- Add a confirmation dialog to `FocusView`.\n- Add `Chip` and `ChipList` components.\n- Update the `getDashboardUserEmail` utility to return the email directly and\nreject the promise if there’s an error.\n- Fix React components not being accepted in the `label` prop of form elements.\n- Expose `text-overflow: ellipsis` and `word-wrap: normal | break-word` on `Box`\n`css`.\n- Add `country` to the account passed to extensions in the `userContext`\nproperty.\n- Add `data:` URL support for the `Img` component. Learn more about [the Img\ncomponent](https://docs.stripe.com/stripe-apps/components/img?app-sdk-version=8#data-urls).\n\n### 6.0.0\n\n- Deprecate email in view context.\n- Consolidated utilities in `/utils` path.\n- Fixed react-reconciler dependency issue affecting unit tests.\n\n### 5.0.1\n\n- Fix prop types for `Switch`, `Checkbox` and `Radio`.\n\n### 5.0.0\n\n- Adds the `Accordion`, `Icon`, `Spinner`, and `Tooltip` components.\n- Adds tooltips to `BarChart` and `LineChart`.\n- Fix prop typing for `BarChart` and `LineChart`.\n- Deprecates legacy view context parameters.\n- Enables setting width through `css={{ width: .. }}` on `Select`, `TextArea`,\n`TextField`, `Button`, and `Link`.\n- Enables setting internal horizontal alignment through `css={{ alignX: .. }}`\non `Button` and `Link`.\n- Adds the `clipboardWriteText` function.\n- Adds the `getDashboardUserEmail` function.\n\n### 4.0.0\n\n- Deprecates the `slot` property.\n\n### 3.2.0\n\n- Adds the `createOAuthState` function.\n- Adds `oauthContext` to the `ExtensionContextValue` type.\n\n### 3.1.0\n\n- Adds the `Img` component.\n\n### 3.0.0\n\n- Adds support for the `Notice`, `Charts`, and `Tabs` components.\n- Breaking changes:- `ListItem`: Previously, content passed as children would be\nthe primary content rendered in the component. Now, main content is passed to\nthe `title` prop. The `description` slot has also been reassigned to a\n`secondaryTitle` prop.\n- `MenuTrigger`: This component has been deprecated in favor of a `trigger` prop\non the `Menu` component. Slot API usage has also been removed.\n- Removed permissions from being passed into the user context.\n\n### 2.2.1\n\n- Expose `docs.json` files in `dist`.\n\n### 2.2.0\n\n- Add `actions` prop to `ContextView`.\n\n### 2.1.0\n\n- Introduces `ButtonGroup` component.\n- Removes `margin-bottom` from form controls.\n- Gives Button `white-space: nowrap` and `alignY: center` by default.\n- Button themes now set a `min-height` on all size variants.\n- Makes `Link` and `Button` shrink to fit their content.\n- Exposes `defaultValue` attribute on `TextField` and `TextArea`.\n- Allows `error` and `description` to be hidden on form controls through the\n`hiddenElements` prop.\n- Exposes `invalid` and `size` props on `Select` and `TextArea`.\n- Exposes `defaultChecked` attribute on `Radio`.\n- Exposes `resizeable` and `rows` props on `TextArea`.\n- Fixes invalid state on control components.\n- Fixes `Chip` `onDropdown` firing twice.\n- Fixes `Divider` rendering.\n\n### 2.0.3\n\n- Returns a promise from `useRefreshDashboardData` that resolves after dashboard\ndata is refreshed.\n- Adds `fetchStripeSignature` method that optionally accepts additional request\npayload. Signature can be used to make authenticated request to your app’s\nbackend.\n- Fixes an issue where the test element check method `.is` would sometimes fail\nto identify a component.\n\n### 2.0.2\n\n- Fixes an issue with the `testing` package in which comopnents with fragment\nprops were not findable using `wrapper.find()`.\n\n### 2.0.1\n\n- Pulls in updated dependency that fixes\n[#55](https://github.com/stripe/stripe-apps/issues/55) and\n[#161](https://github.com/stripe/stripe-apps/issues/161).\n\n### 2.0.0\n\n- Fixes a render error with `SettingsView`.\n- Updates `SettingsView` types to match the available component props.\n- Adds a `getMockContextProps` helper for testing. Learn more about [context\nprops](https://docs.stripe.com/stripe-apps/ui-testing#mock-context-props).\n- List component now accepts `React.ReactNode` as a valid type to the `value`\nprop, rather than just a `string`.\n- Adds hover state to ListItem components.\n- Updates ListItem component such that hover state is only visible when there is\nan action associated.\n- Fix Select rendering when multiple is true.\n- Fix Checkbox onChange firing twice.\n\n### 1.1.7\n\n- Adds a “testing” module, which includes helpers for writing Jest tests for\napps. Learn more about [UI\ntesting](https://docs.stripe.com/stripe-apps/ui-testing).\n- Fixes some components that take React nodes as props:- `MenuGroup` now\nsupports the `title` prop.\n- `FocusView` now supports the `footerContent` prop.\n- `SettingsView` now supports the `headerActions` prop.\n- Some type fixes and grammar updates.\n\n### 1.1.6\n\n- Added types for `FocusView`, `SettingsView`, and `ContextView`.\n- Exporting a new constant `STRIPE_API_KEY` from http_client to be used when\ninitializing the Stripe API client.\n\n## Links\n\n-\n[@stripe/ui-extension-sdk](https://www.npmjs.com/package/@stripe/ui-extension-sdk)\n- [the Img\ncomponent](https://docs.stripe.com/stripe-apps/components/img?app-sdk-version=8#data-urls)\n- [#55](https://github.com/stripe/stripe-apps/issues/55)\n- [#161](https://github.com/stripe/stripe-apps/issues/161)\n- [context\nprops](https://docs.stripe.com/stripe-apps/ui-testing#mock-context-props)\n- [UI testing](https://docs.stripe.com/stripe-apps/ui-testing)",
  "metadata": {
    "title": "Upgrade Stripe's UI extension SDK | Stripe Documentation",
    "description": "Upgrade your app to the latest version of @stripe/ui-extension-sdk.",
    "sourceURL": "https://docs.stripe.com/stripe-apps/upgrade-stripes-ui-extension-sdk"
  }
}