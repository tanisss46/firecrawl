{
  "content": "# Automatic migration to Bank Transfers\n\n## Learn what changes you can expect when Bank Transfers replace ACH Credit Transfers.\n\n#### Warning\n\nWe deprecated the Sources API and plan to remove support for local payment\nmethods. If you currently integrate with ACH Credit Transfers, you must [migrate\nto the Payment Methods\nAPI](https://docs.stripe.com/payments/payment-methods/transitioning).\n\nFor information about migrating to USD Bank Transfer supported by the current\nAPIs, refer to the documentation below.\n\nStripe is replacing the ACH Credit Transfers payment method with [Bank\nTransfers](https://docs.stripe.com/payments/bank-transfers). As part of the\n[Sources API](https://docs.stripe.com/sources) deprecation, Stripe is replacing\nthe ACH Credit Transfers payment method with Bank Transfers, so you won’t be\nable to use ACH Credit Transfers in your workflows moving forward. This\nmigration occurs automatically for accounts processing ACH Credit Transfers\nthrough invoices or subscriptions.\n\nYou might need to adjust your integration if:\n\n- Your setup includes webhook endpoints listening for\n`source.transaction.created`, `source.chargeable`,\n`source.refund_attributes_required`, or `customer.source.created` events. Learn\nmore about [changes to\nwebhooks](https://docs.stripe.com/payments/customer-balance/ach-ct-automigration#webhooks).\n- You use the Billing API and depend on ACH Credit Transfer source objects.\nLearn more about [changes to the\nAPI](https://docs.stripe.com/payments/customer-balance/ach-ct-automigration#api-changes).\n\nOtherwise, you don’t need to take any action, and the migration won’t disrupt\nyour operations or those of your customers.\n\nDuring the migration to Bank Transfers:\n\n- There won’t be any change to the bank account information that your customers\ncurrently use to send credit transfers.\n- The automatic migration appears seamless from your customer’s perspective. The\nstructure of the hosted invoice page or PDF that you currently share with your\ncustomer won’t change.\n- Existing open invoices and subscriptions with ACH Credit Transfer as an\nenabled payment method update to present Bank Transfers instead.\n\n### Bank Transfer improvements\n\nBank Transfers allow you to:\n\n- **Reconcile multiple invoices**: You can reconcile multiple invoices with a\nsingle transfer using our [reconciliation\nalgorithm](https://docs.stripe.com/payments/customer-balance/reconciliation),\nallowing your customers to pay batches of invoices with one bank transfer. You\ncan also use manual reconciliation mode, configurable at an account or customer\nlevel.\n- **Use an enhanced refund process**: This includes a customer refund email\noutreach flow with a UI that allows your customers to enter their bank account\ndetails for refunds.\n- **Use test mode**: You can simulate bank transfer fundings in [test\nmode](https://docs.stripe.com/payments/bank-transfers/accept-a-payment#test-your-integration)\nto test edge cases of overfunding or underfunding, and fundings associated with\nspecific banking rails such as ACH, Fedwire, or SWIFT.\n- **Generate a self-serve VBAN ownership letter**: You can generate a self-serve\nVBAN ownership letter for your customers through the Dashboard.\n- **Add the USD Cash Balance payment method**: Stripe removes and replaces the\nACH Credit Transfer payment method linked to your customers with the USD Cash\nBalance payment method.\n\n## Dashboard changes\n\n### Invoice page\n\nAccess the Invoice page through `dashboard.stripe.com/invoices/:id`.\n\nBeforeAfter\n\n![Enabled payment methods on an ACH CT finalized\ninvoice](https://b.stripecdn.com/docs-statics-srv/assets/finalized-invoice-ach-ct.2d503b8307cc702dd79874644d867dd0.png)\n\n![Enabled payment methods on an US BT finalized\ninvoice](https://b.stripecdn.com/docs-statics-srv/assets/finalized-invoice-bank-transfers.841f376519d6ae28c46f872b6c68e9e3.png)\n\n### Subscription page\n\nAccess the Subscription page through `dashboard.stripe.com/subscriptions/:id`.\n\nBeforeAfter\n\n![Enabled payment methods on an active ACH CT\nsubscription](https://b.stripecdn.com/docs-statics-srv/assets/active-sub-ach-ct.acaaa32f29f6e3e823876a2ebfff67d0.png)\n\n![Enabled payment methods on an active US BT\nsubscription](https://b.stripecdn.com/docs-statics-srv/assets/active-sub-bank-transfers.b5bd09779d0526f003c458d63226b667.png)\n\nStripe removes and replaces the ACH Credit Transfer payment method linked to\nyour customers with the USD Cash Balance payment method. If your customer has\nunreconciled funds in their ACH Credit Transfer payment method, those funds move\nto their cash balance. You’ll no longer have the ability to use the ACH Credit\nTransfer payment method for any operation. This change appears in the Payment\nmethods section of the Customer page.\n\n### Customer page\n\nAccess the Customer page through `dashboard.stripe.com/customers/:id`.\n\nBeforeAfter\n\n![Customer payment methods include an ACH CT\nSource](https://b.stripecdn.com/docs-statics-srv/assets/payment-methods-ach-ct.96b39208706968c8917fae2daa6f6256.png)\n\n![Customer payment methods include an cash\nbalance](https://b.stripecdn.com/docs-statics-srv/assets/payment-methods-usd-cash-balance.56d2bed995e79c1b8c92ed62c0b2e912.png)\n\n### Payment method view\n\nAccess the Payment method view through `dashboard.stripe.com/sources/:id` for\nACH credit transfers and\n`dashboard.stripe.com/customers/:id/cash_balance_transactions/usd` for Bank\nTransfers.\n\nBeforeAfter\n\n![Source\npage](https://b.stripecdn.com/docs-statics-srv/assets/payment-method-view-source.985dc3570620fdfbd688eb0957362ef8.png)\n\nSource object view\n\n![Customer cash balance\npage](https://b.stripecdn.com/docs-statics-srv/assets/payment-method-view-cash-balance.e501f43fc23e6869b81f9d2ad974ab71.png)\n\nView balance details page\n### Balance details view\n\nThe **Balance details** view for a customer offers a comprehensive overview of\nall bank transfer data associated with that customer:\n\n- Shows the customer’s bank account information.\n- Lists all transactions applied to the customer’s cash balance.\n- Records all bank transfer refunds.\n- Allows you to download a PDF letter confirming the ownership of the bank\naccount that you share with the customer. We encourage you to share this PDF\nwith your customers if they request it.\n\n### Charge invoices\n\nIf you’re manually charging invoices through the Dashboard, you can continue\ndoing so using the same **Charge customer** button on\n`dashboard.stripe.com/invoices/:id`:\n\n![Manually charge\ninvoice](https://b.stripecdn.com/docs-statics-srv/assets/manually-charge-invoice.d4087ee1491e2fe486fd6283fb03d564.png)\n\nIn the **Charge customer** dialog, select **Cash Balance** instead of **ACH\nCredit Transfer**:\n\nBeforeAfter\n\n![Manually charge invoice with ACH CT\nmodal](https://b.stripecdn.com/docs-statics-srv/assets/charge-invoice-modal-ach-ct.408e05878c43907eb572e38f0dc0f257.png)\n\n![Manually charge invoice with US BT\nmodal](https://b.stripecdn.com/docs-statics-srv/assets/charge-invoice-modal-cash-balance.0357e549a456a527d450363cf78125c9.png)\n\n#### Note\n\nYou can charge old ACH credit transfer invoices using the **Cash Balance** if\nthey don’t have bank transfer as an enabled payment method.\n\n### ACH Credit Transfer settings\n\nIf you currently set ACH Credit Transfer as enabled by default for all your\ninvoices, you see a change in your account’s [invoice\nsettings](https://dashboard.stripe.com/settings/billing/invoice) under **Default\npayment terms**:\n\n![Invoice template\nsettings](https://b.stripecdn.com/docs-statics-srv/assets/invoice-template-settings.beffb3d4689b00cad766ded9094b5271.png)\n\nBecause Bank Transfers have automatically been enabled in your invoice settings,\nall new invoices generated on your account (either manually or through existing\nor new subscriptions) will enable Bank Transfers by default.\n\nIf ACH Credit Transfer is currently disabled (meaning, it’s not included by\ndefault on all your invoices), Stripe doesn’t update your account’s invoice\nsettings.\n\n### Reconciliation\n\nOverall, the reconciliation logic of Bank Transfers aligns with Credit Transfers\nwhen a transfer reaches Stripe:\n\n- First, it attempts to match the bank transfer reference with the [invoice\nnumber](https://docs.stripe.com/api/invoices/object#invoice_object-number).\n- If that doesn’t work, it then tries to match the transfer amount with the\namount of the customer’s open invoices.\n- If there’s no exact amount match, the algorithm funds as many invoices as\npossible in full, prioritizing the oldest finalized invoices first.\n\nHowever, there’s a slight difference in the detailed logic of the step where\nStripe matches by exact amount:\n\n- In ACH Credit Transfer, Stripe attempts to match only one invoice by the exact\namount.\n- With Bank Transfers, Stripe searches for a group of 1-5 invoices that total\nthe exact amount the user sent. Stripe then sorts those groups based on their\nsize and finalization date, enabling your customers to batch pay multiple\ninvoices with the same transfer.\n\nLearn more about how [Bank Transfers reconciliation\nworks](https://docs.stripe.com/payments/customer-balance/reconciliation).\n\n### Refunds\n\nOverall, the refund logic of Bank Transfers aligns with ACH Credit Transfers:\n\n- You issue a credit or bank transfer invoice to your customer.\n- Your customer sends a transfer to the specified bank account.\n- The transfer reaches Stripe and gets reconciled to the open invoice. The\ninvoice status changes to paid.\n- You issue a refund for the payment related to that invoice.\n- The customer receives an email prompting them to enter their bank account\ndetails for the refund.\n- Stripe processes the refund to the provided bank account.\n\nYou can process refunds using the same interface you currently use. Learn more\nabout [refunding a\ncustomer](https://support.stripe.com/questions/refund-a-customer).\n\nYou can send the refunded funds to the cash balance instead of sending them to\nthe customer’s bank account. This allows you to use those funds for the\ncustomer’s future invoices:\n\n![Refund to customer cash\nbalance](https://b.stripecdn.com/docs-statics-srv/assets/refund-to-cash-balance.cc751b7e154b3bb74595ed59691bc224.png)\n\nWe have also updated the user interface that your customers use to enter their\nbank account details in response to the email outreach:\n\nBeforeAfter\n\n![ACH CT refund\nemail](https://b.stripecdn.com/docs-statics-srv/assets/refund-email-ui-ach-ct.a618f929730f65438b568003a6c8f6a9.png)\n\n![US BT refund\nemail](https://b.stripecdn.com/docs-statics-srv/assets/refund-email-ui-bank-transfers.af683982e61f0400eda5ce6ce8bbb25f.png)\n\nLearn more about [bank transfer\nrefunds](https://docs.stripe.com/payments/customer-balance/refunding).\n\n### Unreconciled funds\n\nSimilar to ACH Credit Transfers, Bank Transfers can manage cases of\nover-funding. In the deprecated product, the remaining funds are stored in the\n`Source` object, but in Bank Transfers, unreconciled funds go to the customer’s\ncash balance. In both situations, you can either capture those funds by creating\na payment or choose to return them to the sender. If the unreconciled funds\nremain unclaimed for a certain period, Stripe performs specific actions to\naddress it.\n\nFunctionalityBeforeAfterStorage of unreconciled fundsSource objectCustomer cash\nbalanceInspect unreconciled funds\n\n![Uncharged sources\npage](https://b.stripecdn.com/docs-statics-srv/assets/uncharged-sources.4cc4b4b82ecce74a63b35b0127c22aa3.png)\n\n[dashboard.stripe.com/uncharged_sources](https://dashboard.stripe.com/uncharged_sources)\n\n![Unreconciled customer balances\npage](https://b.stripecdn.com/docs-statics-srv/assets/unreconciled-balances.4877326166c7e61bd25549ed75b8be56.png)\n\nRemaining Balances tab\nof[dashboard.stripe.com/customers](https://dashboard.stripe.com/customers)Take\naction on unreconciled funds\n\n![Actioning uncharged\nsource](https://b.stripecdn.com/docs-statics-srv/assets/action-uncharged-source.3f6505dc80624d94a3f89a3c16a40e43.png)\n\n[dashboard.stripe.com/uncharged_sources](https://dashboard.stripe.com/uncharged_sources)\n\n![Actioning unreconciled customer\nbalance](https://b.stripecdn.com/docs-statics-srv/assets/action-unreconciled-cash-balance.c2998d0e9aa3c6477a0e4da50582401d.png)\n\n[dashboard.stripe.com/customers](https://dashboard.stripe.com/customers)Failing\nto timely action unreconciled fundsIf an unreconciled funding remains at the\nSource for more than 45 days, it automatically sweeps to your account balance.\nThe sweeping process is executed on a monthly basis (on the 15th of each month)\nand sweeps fundings that are older than 45 days. Hence, a funding can remain\nun-actioned in the source from 45 to 60 days.An unreconciled funding can remain\nun-actioned in the cash balance of a customer for 75 days. At that point, Stripe\nattempts to automatically refund the funds back to the customer. If the refund\nto your customer fails (for example, if the customer doesn’t enter their bank\ninformation following the email outreach), Stripe leaves the funds in the cash\nbalance for another 15 days. At the 90-day mark, Stripe sweeps the unreconciled\nfunding to your Stripe account balance.\nLearn more about [how unreconciled funds are handled in Bank\nTransfers](https://docs.stripe.com/payments/customer-balance/reconciliation?#cash-unreconciled-funds).\n\n## Webhooks\n\n#### Note\n\nSkip this section if you haven’t configured webhook endpoints listening for\n`source.transaction.created`, `source.chargeable`,\n`source.refund_attributes_required`, or `customer.source.created` events. See\nwhat endpoints you’ve configured in the\n[Dashboard](https://dashboard.stripe.com/webhooks).\n\nAfter your account automatically migrates to Bank Transfers, the following\nwebhook events related to ACH Credit Transfer stop:\n\n- `source.transaction.created`\n- `source.chargeable`\n- `customer.source.created`\n- `source.refund_attributes_required`\n\nVerify that the suspension of ACH Credit Transfer webhook events won’t impact\nyour workflows. If your integration depends on these events (for example, a\nplugin or app installed on your Stripe account might be listening for them),\n[contact\nus](https://support.stripe.com/contact/email?question=other&topic=api_integration&subject=%20Support%20with%20Sources%20migration%20requirement&refcode=U5tB).\n\n## Changes with the Billing API\n\n#### Note\n\nSkip this section if you don’t integrate with the Stripe API for Billing.\n\nThe [Invoice](https://docs.stripe.com/api/invoices) objects created as part of\nyour Billing API integration start referencing `customer_balance` (the payment\nmethod type of Bank Transfers) instead of `ach_credit_transfer`.\n\nInvoices APISubscriptions API\nTo create an invoice, send the following request:\n\n```\ncurl https://api.stripe.com/v1/invoices \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d customer={{CUSTOMER_ID}} \\\n -d currency=usd \\\n -d collection_method=send_invoice \\\n -d days_until_due=30\n```\n\nTo finalize an invoice, send the following request:\n\n```\ncurl https://api.stripe.com/v1/invoices/{{INVOICE_ID}}/finalize \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d \"expand[]\"=payment_intent\n```\n\nHere’s the finalized [Invoice](https://docs.stripe.com/api/invoices) object:\n\n```\n{\n \"id\": \"{{INVOICE_ID}}\",\n \"object\": \"invoice\",\n \"payment_intent\": {\n \"object\": \"payment_intent\",\n \"id\": \"{{PAYMENT_INTENT_ID}}\",\n \"payment_method_types\": [\n \"ach_credit_transfer\",\n \"customer_balance\"\n ]\n }\n}\n```\n\nIf you create [Invoice](https://docs.stripe.com/api/invoices) and\n[Subscription](https://docs.stripe.com/api/subscriptions) objects by explicitly\nincluding `ach_credit_transfer` in the\n[payment_settings.payment_method_types](https://docs.stripe.com/api/invoices/create#create_invoice-payment_settings-payment_method_types)\narray parameter, your integration still functions properly and you can continue\nto pass `ach_credit_transfer` as part of your request. However, Stripe adjusts\nyour request, and the `Invoice` and `Subscription` objects you created list\n`customer_balance` instead of `ach_credit_transfer`:\n\n```\ncurl https://api.stripe.com/v1/invoices \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d customer={{CUSTOMER_ID}} \\\n -d currency=usd \\\n -d collection_method=send_invoice \\\n -d days_until_due=30 \\\n -d \"payment_settings[payment_method_types][]\"=ach_credit_transfer \\\n -d \"payment_settings[payment_method_types][]\"=card\n```\n\nHere’s the finalized `Invoice` and `PaymentIntent` objects:\n\n```\n{\n \"id\": \"{{INVOICE_ID}}\",\n \"object\": \"invoice\",\n \"payment_settings\": {\n \"payment_method_types\": [\n \"ach_credit_transfer\",\n \"card\",\n \"customer_balance\"\n ]\n },\n \"payment_intent\": {\n \"object\": \"payment_intent\",\n \"id\": \"{{PAYMENT_INTENT_ID}}\",\n \"payment_method_types\": [\n \"ach_credit_transfer\",\n \"customer_balance\"\n ]\n }\n}\n```\n\nStripe also updates historical `Subscription` objects in your account that you\ncreated with `ach_credit_transfer` included in the\n[payment_settings.payment_method_types](https://docs.stripe.com/api/invoices/create#create_invoice-payment_settings-payment_method_types)\narray parameter. The `payment_settings.payment_method_types` array of your\nexisting `Subscription` objects updates to include `customer_balance` instead of\n`ach_credit_transfer`.\n\nIf your API integration relies on `ach_credit_transfer` being present in any of\nthe following API response fields, [contact\nus](https://support.stripe.com/contact/email?question=other&topic=api_integration&subject=%20Support%20with%20Sources%20migration%20requirement&refcode=U5tB)\nbecause the automatic migration might disrupt your integration:\n\n- The Invoice object’s\n[payment_settings.payment_method_types](https://docs.stripe.com/api/invoices/object#invoice_object-payment_settings-payment_method_types)\n- The Subscription object’s\n[payment_settings.payment_method_types](https://docs.stripe.com/api/subscriptions/object#subscription_object-payment_settings-payment_method_types)\n- The Payment Intent object’s\n[payment_method_types](https://docs.stripe.com/api/payment_intents/object#payment_intent_object-payment_method_types)\n\nThe ACH Credit Transfer `Source` objects detach from your customers. This means\nthat if you depend on the\n[Customer.default_source](https://docs.stripe.com/api/customers/object#customer_object-default_source)\nfield being present, you might find that it starts returning as `null` instead\nof the `src_` ID of the ACH Credit Transfer source previously attached to the\ncustomer.\n\n## Opt out\n\nTo exclude your account from the automatic migration, [contact\nus](https://support.stripe.com/contact/email?question=other&topic=api_integration&subject=%20Support%20with%20Sources%20migration%20requirement&refcode=U5tB).\nWe’ll provide you with a deadline to manually migrate your account to Bank\nTransfers. You won’t be able to continue using the deprecated ACH Credit\nTransfer product.\n\n## Links\n\n- [migrate to the Payment Methods\nAPI](https://docs.stripe.com/payments/payment-methods/transitioning)\n- [Bank Transfers](https://docs.stripe.com/payments/bank-transfers)\n- [Sources API](https://docs.stripe.com/sources)\n- [reconciliation\nalgorithm](https://docs.stripe.com/payments/customer-balance/reconciliation)\n- [test\nmode](https://docs.stripe.com/payments/bank-transfers/accept-a-payment#test-your-integration)\n- [invoice settings](https://dashboard.stripe.com/settings/billing/invoice)\n- [invoice\nnumber](https://docs.stripe.com/api/invoices/object#invoice_object-number)\n- [refunding a customer](https://support.stripe.com/questions/refund-a-customer)\n- [bank transfer\nrefunds](https://docs.stripe.com/payments/customer-balance/refunding)\n-\n[dashboard.stripe.com/uncharged_sources](https://dashboard.stripe.com/uncharged_sources)\n- [dashboard.stripe.com/customers](https://dashboard.stripe.com/customers)\n- [how unreconciled funds are handled in Bank\nTransfers](https://docs.stripe.com/payments/customer-balance/reconciliation?#cash-unreconciled-funds)\n- [Dashboard](https://dashboard.stripe.com/webhooks)\n- [contact\nus](https://support.stripe.com/contact/email?question=other&topic=api_integration&subject=%20Support%20with%20Sources%20migration%20requirement&refcode=U5tB)\n- [Invoice](https://docs.stripe.com/api/invoices)\n- [Subscription](https://docs.stripe.com/api/subscriptions)\n-\n[payment_settings.payment_method_types](https://docs.stripe.com/api/invoices/create#create_invoice-payment_settings-payment_method_types)\n-\n[payment_settings.payment_method_types](https://docs.stripe.com/api/invoices/object#invoice_object-payment_settings-payment_method_types)\n-\n[payment_settings.payment_method_types](https://docs.stripe.com/api/subscriptions/object#subscription_object-payment_settings-payment_method_types)\n-\n[payment_method_types](https://docs.stripe.com/api/payment_intents/object#payment_intent_object-payment_method_types)\n-\n[Customer.default_source](https://docs.stripe.com/api/customers/object#customer_object-default_source)",
  "metadata": {
    "title": "Automatic migration to Bank Transfers | Stripe Documentation",
    "description": "Learn what changes you can expect when Bank Transfers replace ACH Credit Transfers.",
    "sourceURL": "https://docs.stripe.com/payments/customer-balance/ach-ct-automigration"
  }
}