{
  "content": "# Testing the Stripe Connector for Salesforce Order Management\n\n## Best practices for testing your Stripe Connector and Salesforce B2C Commerce integration.\n\nUse the following steps to test your integration:\n\n- In the Stripe Dashboard, toggle from live mode to test mode.\n- Raise an order from Salesforce B2C Commerce Cloud.\n- After the order is in the Salesforce Order Management environment, complete\nthe required steps based on your mapped business process in SFOMS to fulfill the\norder or refund an order. Depending on your test case, this translates to\ntriggering either of the flow core actions for order management – [Ensure Funds\nAsync](https://help.salesforce.com/s/articleView?id=sf.flow_ref_elements_om_actions_ensure_funds_async.htm&type=5)\nor [Ensure Refunds\nAsync](https://help.salesforce.com/s/articleView?id=sf.flow_ref_elements_om_actions_ensure_refunds_async.htm&type=5).\n- Verify the status of your payment in the Stripe Dashboard, and check the\npayment gateway logs against the order payment summary.\n- If the outcome is as expected, toggle from test mode to live mode. Reauthorize\nwith Stripe, if required.\n- If you are experiencing any issues, contact Stripe Support.\n\nIf your storefront is hosted on a Salesforce B2C environment, you should have an\n`account.demandware.com` login and Business Manager access through the following\nURL: https://production.demandware.net/on/demandware.store/Sites-Site.\n\n## Verify that Salesforce Commerce Cloud cartridge can collect payments with Stripe or Salesforce payments on Commerce Cloud\n\nLog in to your Business Manager:\n\n!\n\nAlternatively:\n\n!\n\n## Verify that your integration is enabled between SalesforceB2C Commerce Cloud and Salesforce Order Management\n\n- In your Salesforce Order Management org, navigate to **Setup > Home > Feature\nSettings > Order Management**\n\n!\n- Then use the following route: **Setup > Home > Feature Settings > Connect to\nB2C Commerce > Manage Cloud-to-Cloud Connections**\n\n!\n\n## Verify access to the CommercePayments API enabled by the PaymentPlatform org permission\n\nYou can validate whether you have access using one of the following methods.\n\nConfirm whether you’ve been assigned any of the following licenses:\n\n- Salesforce Order Management\n- Salesforce B2B\n- Salesforce B2C\n\nUsing the following route in **Setup > Home > Company Information > Permission\nSet Licenses**, check for Commerce User (`CommerceUserPsl`), Lightning Order\nManagement User (`LightningOrderManagementUserPsl`), B2B Buyer Permission Set\nOne Seat (`B2BBuyerPsl`), B2B Buyer Manager Permission Set One Seat\n(`B2BBuyerManagerPsl`).\n\n## Verify the org API version\n\nRefer to this help document:\n[https://help.salesforce.com/s/articleView?id=000334996&type=1](https://help.salesforce.com/s/articleView?id=000334996&type=1).\n\n## Get logs of payments and refunds in Salesforce\n\nYou can view logs for transactions made through the Salesforce Platform by\nnavigating to **Order Summary Record > Order Payment Summary Record > Gateway\nLogs** in the **Related** tab. If you don’t see the gateway logs in the\n**Related** tab, contact your Salesforce administrator and include the gateway\nlogs in the page layout.\n\nYou can also execute this SOQL in developer console or SOQL Builder in VSCode\n(Apply filters as required `OrderPaymentSummaryId` or `ReferencedEntityId`):\n\n```\nSELECT Id, OrderPaymentSummaryId, ReferencedEntityId,Request, Response,\nSfRefNumber, SfResultCode, GatewayRefNumber, GatewayAuthCode, GatewayDate,\nGatewayMessage, GatewayResultCode, GatewayResultCodeDescription,\nInteractionStatus FROM PaymentGatewayLog\n```\n\nThe `ReferencedEntityId` is a polymorphic field that points to a payment or\nrefund record.\n\n## Links\n\n- [Ensure Funds\nAsync](https://help.salesforce.com/s/articleView?id=sf.flow_ref_elements_om_actions_ensure_funds_async.htm&type=5)\n- [Ensure Refunds\nAsync](https://help.salesforce.com/s/articleView?id=sf.flow_ref_elements_om_actions_ensure_refunds_async.htm&type=5)\n-\n[https://help.salesforce.com/s/articleView?id=000334996&type=1](https://help.salesforce.com/s/articleView?id=000334996&type=1)",
  "metadata": {
    "title": "Testing the Stripe Connector for Salesforce Order Management | Stripe Documentation",
    "description": "Best practices for testing your Stripe Connector and Salesforce B2C Commerce integration.",
    "sourceURL": "https://docs.stripe.com/connectors/salesforce-order-management/testing"
  }
}