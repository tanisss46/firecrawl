{
  "content": "# Automatic collection\n\n## Learn about Stripe's automatic recovery features for Invoicing.\n\nStripe provides a number of automated revenue recovery features for one-off\ninvoices to help collect payments that might have failed otherwise. These\ninclude automatically updating your users’ saved cards, sending emails when a\nfailed payment occurs, and retrying cards at strategic times.\n\n## Smart Retries\n\nUsing machine learning, Smart Retries chooses the best times to retry failed\npayment attempts to increase the chance of successfully paying an invoice. The\nmachine learning system behind Smart Retries uses time-dependent, dynamic\nsignals, such as:\n\n- The number of different devices that have presented a given payment method in\nthe last *N* hours.\n- The best time to pay (payments made for debit cards in certain countries might\nbe slightly more successful at 12:01 AM in local time zones).\n\nBased on a combination of these factors, Stripe intelligently assesses when to\nretry payments. We continuously learn from new purchaser behaviors and\ntransactions, which provide for a more targeted approach over traditional\nrules-based payment retry logic. Any invoice with the\n[auto_advance](https://docs.stripe.com/api/invoices/create#create_invoice-auto_advance)\nattribute set to `true` goes through the Smart Retries flow (if enabled),\nregardless of the selected payment method.\n\nSmart Retries reattempts the charge according to your specifications for the\nnumber of retries and the maximum duration. You can also use\n[automations](https://docs.stripe.com/billing/automations) to create different\nretry policies for different customer segments.\n\nYou can override this behavior by [disabling Smart\nRetries](https://dashboard.stripe.com/revenue_recovery/retries) and defining\nyour own custom retry rules. When you enable dunning, the\n[next_payment_attempt](https://docs.stripe.com/api/invoices/object#invoice_object-next_payment_attempt)\nattribute on the `invoice.payment_failed`\n[webhook](https://docs.stripe.com/webhooks) indicates when Stripe attempts the\nnext collection.\n\n## Failed payment notifications\n\nIn the [Subscriptions and emails tab of your billing\nsettings](https://dashboard.stripe.com/settings/billing/automatic), scroll to\nthe **Manage failed payments for subscriptions** section. The setting **Send\nemails when card payments fail** turns on automatic customer emails for failed\npayments.\n\nIf a payment failure occurs on a one-off invoice and **Link to a Stripe-hosted\npage** is selected, Stripe sends a link to the [Hosted Invoice\nPage](https://docs.stripe.com/invoicing/hosted-invoice-page) to the customer.\n\nYou can customize the color, icon, and logo of your customer emails and\nStripe-hosted page in the [Branding\nsettings](https://dashboard.stripe.com/settings/branding).\n\n## Manage invoices sent to customers\n\nIn the [Subscriptions and emails tab of your billing\nsettings](https://dashboard.stripe.com/settings/billing/automatic), scroll to\nthe **Manage invoices sent to customers** section to:\n\n- **Email finalized invoices to customers**—You can turn this option on to\nalways email your customers a finalized invoice. This setting only affects\ninvoices where the\n[collection_method](https://docs.stripe.com/api/invoices/object#invoice_object-collection_method)\nis set to `send_invoice`.\n- **Change a past due invoice’s status**—You can mark an invoice as\nuncollectible if it’s past due by 30, 60, or 90 days. You can also leave the\ninvoice past-due.\n- **Automatically reconcile partial payments that meet a minimum**—You can\ninstruct Stripe to mark an invoice as paid if ​​it’s partially paid within the\nset amount. For example, if the payment received from your customer is within 20\nUSD or less of the total (or at whatever amount you configure), then this\nsetting applies a credit to the invoice for the outstanding amount. It then\nmarks the invoice as paid.\n\n### Automatic reminders for one-off invoices\n\nTo turn on automatic reminders for unpaid, one-off invoices, navigate to the\n[Invoices tab of your billing\nsettings](https://dashboard.stripe.com/settings/billing/invoice), scroll to the\n**Manage advanced invoicing features** section, and turn on **Send reminders if\na one-off invoice hasn’t been paid**. For each reminder you want to send, click\n**Add reminder** and select a schedule from the dropdown list. You can schedule\nreminders for before, on, or after the invoice due date.\n\n## Links\n\n-\n[auto_advance](https://docs.stripe.com/api/invoices/create#create_invoice-auto_advance)\n- [automations](https://docs.stripe.com/billing/automations)\n- [disabling Smart\nRetries](https://dashboard.stripe.com/revenue_recovery/retries)\n-\n[next_payment_attempt](https://docs.stripe.com/api/invoices/object#invoice_object-next_payment_attempt)\n- [webhook](https://docs.stripe.com/webhooks)\n- [Subscriptions and emails tab of your billing\nsettings](https://dashboard.stripe.com/settings/billing/automatic)\n- [Hosted Invoice Page](https://docs.stripe.com/invoicing/hosted-invoice-page)\n- [Branding settings](https://dashboard.stripe.com/settings/branding)\n-\n[collection_method](https://docs.stripe.com/api/invoices/object#invoice_object-collection_method)\n- [Invoices tab of your billing\nsettings](https://dashboard.stripe.com/settings/billing/invoice)",
  "metadata": {
    "title": "Automatic collection | Stripe Documentation",
    "description": "Learn about Stripe's automatic recovery features for Invoicing.",
    "sourceURL": "https://docs.stripe.com/invoicing/automatic-collection"
  }
}