{
  "content": "# Single sign-on with Entra IDPublic preview\n\n## Learn how to setup single sign-on in the Dashboard with Entra ID.\n\nUse [Microsoft Entra ID](https://entra.microsoft.com/) (formerly known as Azure\nActive Directory) to verify domain ownership, create user role groups, configure\nsingle sign-on (SSO), and assign roles to manage access to your Stripe account.\n\nStripe supports Single Sign-On (SSO), allowing you to manage your team’s access\nand roles through your identity provider (IdP). This means your team can access\nStripe without needing separate passwords. When SSO is configured, users (team\nmembers) are automatically redirected to your IdP for authentication when they\nsign in to Stripe.\n\nYour IdP verifies if they have a valid role assignment to your Stripe accounts\nor [organization](https://docs.stripe.com/get-started/account/orgs/sso), and\ngenerates a SAML assertion used by Stripe to assign the proper roles in the\nStripe Dashboard. When your account requires SSO, you must update team roles\nthrough your Identity Provider (IdP) for security. Changes to a team member’s\nroles only appear in Stripe after they sign in to the Dashboard again using the\nupdated SAML assertion.\n\n[Verify domain\nownership](https://docs.stripe.com/get-started/account/sso/entra-id#domain-verification)\nA domain is the portion of an email address after the `@` symbol (such as\n`kavholm.com`). You must configure SSO for Stripe for each of your business’s\nemail domains. To verify domain ownership:\n\n- Navigate to [User\nauthentication](https://dashboard.stripe.com/settings/security/authentication)\nin the Stripe Dashboard, and click **+ New domain** to view your account’s\nunique verification code.\n```\n stripe-verification=4242424242424242424242\n\n```\n- Add the verification code as a `TXT` record to your Domain Name System (DNS)\nprovider.\n- Return to the Stripe Dashboard, and click **Save and verify**. Depending on\nyour DNS provider, it can take 24 hours or more to verify your domain.\n- After successful verification, don’t delete the `TXT` record from your DNS\nprovider. If you delete it, you might lose access to the Dashboard because\nStripe frequently checks the DNS records of your domain.\n\n#### Multiple Stripe accounts support\n\nIf you’re configuring SSO for multiple Stripe accounts, you must create an\n[organization](https://docs.stripe.com/get-started/account/orgs) to centrally\nconfigure SSO across all of your accounts. Alternatively, contact [Stripe\nsupport](https://support.stripe.com/) to verify your domain across separate\naccounts with one shared verification code.\n\n[Create groups of users in Entra\nID](https://docs.stripe.com/get-started/account/sso/entra-id#assign-roles)\nCreate groups for Stripe roles and assign your team members (users) to these\ngroups. Users can belong to only one group per Stripe account. For example, if\nyou want a user to have an admin role, assign them to the administrator group.\nHowever, if you want a user to have multiple roles, such as view only and\nanalyst, create a separate group specifically for those combined roles.\n\nStripe supports the following roles. Some of these roles are only available if\nyour account uses the applicable Stripe product. For more information, see [User\nroles supported by\nStripe](https://docs.stripe.com/get-started/account/teams/roles).\n\nRoleValueAdministrator`admin`Analyst`analyst`Cardholder`cardholder`Connect\nOnboarding Analyst`connect_onboarding_analyst`Connect Risk\nAnalyst`connect_risk_analyst`Data Migration\nSpecialist`data_migration_specialist`Developer`developer`Dispute\nAnalyst`dispute_analyst`Financial Connections\nSpecialist`financial_connections_specialist`IAM Admin`iam_admin`Identity\nAnalyst`identity_analyst`Identity View only`identity_view_only`Issuing Support\nAgent`issuing_support_agent`Opal View only`opal_view_only`Sandbox\nAdministrator`sandbox_admin`Sandbox User`sandbox_user`Super\nAdministrator`super_admin`Support Associate`support_associate`Support\nCommunications`support_communications`Support only`support_only`Support\nSpecialist`support_specialist`Refund Analyst`refund_analyst`Tax\nAnalyst`tax_analyst`Terminal Specialist`terminal_specialist`Topups\nonly`topups_only`Top-up Specialist`topup_specialist`Transfer\nAnalyst`transfer_analyst`View only`view_only`- Log in to the [Entra ID\nDashboard](https://entra.microsoft.com/).\n- In the left navigation pane, click **Groups**.\n- Click **Add new group**:- For **Group type**, select **Security**.\n- For **Group name**, enter the name of the group (for example, View only users\nin Stripe).\n- Click **No members added**, and add users to the group.\n[Create an Entra ID\napplication](https://docs.stripe.com/get-started/account/sso/entra-id#create-entra-app)\n#### Caution\n\nThese instructions assume you already have a Directory in your Entra ID account.\n\nTo configure Entra ID, create a new application to represent the relationship\nbetween Entra ID and the Stripe Dashboard:\n\n- In the left navigation pane, click **Applications** > **Enterprise\napplications**.\n- Click **Create your own application**, enter the name your application, select\n**Integrate any other application you don’t find in the gallery**, and click\n**Create**.\n- Under **Getting Started**, click **1. Assign users and groups**.\n- Click **Add user/group**, and select the groups you previously created.\n- In your app’s left navigation page, click **Overview** > **2. Set up single\nsign on**.\n- Select **SAML** to open the **SAML-based Sign on** page.\n- Click **Basic SAML Configuration**, enter the following values, and click\n**Save**.- Identifier: `https://dashboard.stripe.com/saml/metadata`\n- Reply URL: `https://dashboard.stripe.com/login/saml/consume`\n[Add attributes and\nclaims](https://docs.stripe.com/get-started/account/sso/entra-id#add-claims)\nYou must assign attributes and claims to the groups you created.\n\n- On the **SAML-based Sign on** page, click **Attributes and claims**.\n- Click **Add new claim**. You must create a new claim for each Stripe account\nyou’re configuring SSO for.\n- Click **Claim conditions** to create the mapping between the group and the\nrole you want to the group for this Stripe account.- Set the **Name** to\n`Stripe-Role-{{STRIPE_ACCOUNT_ID}}`. This identifies which Stripe account you\nauthenticate your team member to (and is set to whichever Stripe account you’re\nsigned in to while viewing this page, currently: ****)\n- For **Source**, select **Attribute**.\n- For **User type**, select **Members**.\n- For **Group**, select the group you want.\n- For **Source**, select **Attribute**.\n- For **Value**, enter the [Dashboard\nrole](https://docs.stripe.com/get-started/account/teams/roles) you want to\nassign (for example, `developer`), and click **Enter**. This means you’ve\nassigned this role to any members in this group.\n- Assign Stripe roles you want to the groups you created. If you want a user to\nhave multiple roles (such as view only and analyst), you must create a separate\ngroup that exists specifically for those combined roles.\n\n!\n- Click **Save**.\n[Verify\ncertificates](https://docs.stripe.com/get-started/account/sso/entra-id#verify-certificates)\nOn the **SAML-based Sign on** page, click **SAML certificates** to verify if the\nsigning algorithm configuration is correct. Ensure the following values match:\n\n- **Signing Option**: `Sign SAML assertion`\n- **Signing Algorithm**: `SHA-256`\n[Configure\nStripe](https://docs.stripe.com/get-started/account/sso/entra-id#configure-stripe)\nTo configure Stripe with SSO:\n\n### Retrieve values from Entra ID\n\nRetrieve the values for **Login URL**, **Microsoft Entra Identifier**, and **PEM\nSAML Certificate** from your app in Entra ID.\n\n- Open the Entra ID Dashboard.\n- In your app’s left navigation pane, click **Single sign-on**.\n- On the **SAML-based Sign on** page, navigate to **Set up Stripe**, and\nretrieve the following values for:- Login URL\n- Microsoft Entra Identifier\n- On the **SAML-based Sign on** page, click **SAML Certificates**.\n- Next to your certificate, click the overflow button (), and click **PEM\ncertificate download**\n- Open the `.pem` file in a basic text editor. This is your **Identity provider\ncertificate**.\n\n### Configure your Stripe account to connect to Entra ID\n\nEnter the values you retrieved from your app in Entra ID in Stripe:\n\n- In the Stripe Dashboard, navigate to **Settings** > **Team and security** >\n[User authentication](https://dashboard.stripe.com/account/user_authentication).\n- Next to the domain name, click the overflow button () > **Manage SSO\nsettings**.\n- Click **Test your configuration** > **Next**.\n- Provide info for your identity provider:- For **Issuer ID**, enter the value\nfor **Microsoft Entra Identifier** in Entra ID.\n- For **Identity provider URL**, enter the value for **Login URL** in Entra ID.\n- For **Identity provider certificate**, enter the certificate value from the\n`.pem` file you downloaded in Entra ID (include the begin certificate and end\ncertificate text).\n- Click **Test configuration** to open a new window to test your configuration.\nExit this window, and return to the original window.\n- If you pass the test, click **Done**.\n\nIf the test fails, refer to [Troubleshoot\nSSO](https://docs.stripe.com/get-started/account/sso/troubleshooting), and\naddress the reported issues in your Stripe app in Okta.\n\n- Select SSO enforcement. You can choose between **Off**, **Optional**, or\n**Mandatory**. You can change enforcement type in the future.\n- Click **Save settings** > **Done**.\n[Authenticate with\nSSO](https://docs.stripe.com/get-started/account/sso/entra-id#authenticate-sso)\nAfter you finish configuring SSO, you can inform your users to sign in with any\nof these methods:\n\n### Stripe’s sign in page\n\nUsers can navigate to the [Stripe sign in\npage](https://dashboard.stripe.com/login), enter their email, then select **Use\nsingle sign-on (SSO)**.\n\nIf a user has access to multiple accounts, Stripe authenticates them with the\ndefault account connected to the user. If a user only has access to SAML\nmerchants, or doesn’t have access to any merchants, Stripe redirects them to the\nIdP, regardless of the contents in the password field.\n\n### IdP-initiated login\n\nTo use IdP-initiated login, your [IdP needs to support Service\nProvider-initiated\nlogin](https://docs.stripe.com/get-started/account/sso/troubleshooting). Verify\nif this is possible using your IdP’s documentation.\n\n### SSO URL\n\nUse the following login URL with your domain to directly sign in to your account\nwith SSO. This URL includes the domain and account you want to use for SSO\nauthentication. If you change the account token at the end of the URL, it\nauthenticates you against a different account.\n\n```\n\nhttps://dashboard.stripe.com/login/saml_direct/domain/{{YOUR_DOMAIN}}/merchant/{{STRIPE_ACCOUNT_ID}}\n\n```\n\n#### Support for multiple Stripe accounts\n\nIf you’re configuring SSO for multiple Stripe accounts, first create an\n[organization](https://docs.stripe.com/get-started/account/orgs) to centrally\nconfigure SSO across all of your accounts. You can change the account token at\nthe end of the SSO URL to authenticate against another account. You can find the\nlist of account tokens in the **Accounts** section of your\n[Profile](https://dashboard.stripe.com/settings/user).\n\n**Multiple IdP connections:** If you have multiple Stripe businesses with\nmultiple IdP settings (for example, different SAML endpoints or issuer IDs) but\nshare the same domain, we recommend using login URLs.\n\n## Revoke team member access\n\nYou can revoke a team member’s access using either active or passive methods.\n\n### Actively revoke access with an assertion\n\nSend Stripe an assertion from your identity provider to grant a team member\naccess to specific Stripe accounts. This also lets you revoke a team member’s\naccess. To revoke access for a team member, assign them a role of `none` for the\nStripe account’s access you want to revoke. For example:\n\n```\n<saml2:attribute name=\"Stripe-Role-STRIPE-ACCOUNT-ID\"\nNameFormat=\"urn:oasis:names:tc:SAML:2.0:attrname-format:basic\">\n <saml2:attributevalue>none\n </saml2:attributevalue>\n</saml2:attribute>\n```\n\n#### Caution\n\nYou can’t revoke access for the owner of a Stripe account.\n\n### Passively revoke access with enforcement mode\n\nWhen **enforcement mode** is set to **required**, only team members who can\nauthenticate with your identity provider can access your Stripe account. In\n**required** mode, you can revoke a team member’s access to a Stripe account by\npreventing your identity provider from authenticating them. In the Stripe\nDashboard, set SSO to **required** in [User\nauthentication](https://dashboard.stripe.com/account/user_authentication).\n\n## Links\n\n- [Microsoft Entra ID](https://entra.microsoft.com/)\n- [organization](https://docs.stripe.com/get-started/account/orgs/sso)\n- [User\nauthentication](https://dashboard.stripe.com/settings/security/authentication)\n- [organization](https://docs.stripe.com/get-started/account/orgs)\n- [Stripe support](https://support.stripe.com/)\n- [User roles supported by\nStripe](https://docs.stripe.com/get-started/account/teams/roles)\n- [User\nauthentication](https://dashboard.stripe.com/account/user_authentication)\n- [Troubleshoot\nSSO](https://docs.stripe.com/get-started/account/sso/troubleshooting)\n- [Stripe sign in page](https://dashboard.stripe.com/login)\n- [Profile](https://dashboard.stripe.com/settings/user)",
  "metadata": {
    "title": "Single sign-on with Entra ID | Stripe Documentation",
    "description": "Learn how to setup single sign-on in the Dashboard with Entra ID.",
    "sourceURL": "https://docs.stripe.com/get-started/account/sso/entra-id"
  }
}