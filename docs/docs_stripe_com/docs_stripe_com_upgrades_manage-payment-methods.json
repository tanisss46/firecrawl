{
  "content": "# Manage default payment methods in the Dashboard\n\n## Upgrade your API to manage payment methods in the Dashboard by default.\n\nOn August 16, 2023, Stripe [updated the selection\nprocess](http://stripe.com/blog/dynamic-payment-methods) for default payment\nmethods that apply to PaymentIntents and SetupIntents created with the\n[/v1/payment_intents](https://docs.stripe.com/api/payment_intents) and\n[/v1/setup_intents](https://docs.stripe.com/api/setup_intents) APIs.\n\nIn prior versions of the Stripe API, if you didn’t specify a\n[payment_method_types](https://docs.stripe.com/api/payment_intents/create#create_payment_intent-payment_method_types)\nparameter during the creation request, Stripe would default to using the card\npayment method for both PaymentIntents and SetupIntents.\n\nMoving forward, Stripe applies eligible payment methods that you manage from\nyour [Dashboard](https://dashboard.stripe.com/settings/payment_methods) to your\nPaymentIntents and SetupIntents by default if you don’t specify the\n`payment_method_types` parameter in the creation request.\n\n### Payment methods\n\nBy default, Stripe enables cards and other common payment methods. You can turn\nindividual payment methods on or off in the [Stripe\nDashboard](https://dashboard.stripe.com/settings/payment_methods). In Checkout,\nStripe evaluates the currency and any restrictions, then dynamically presents\nthe supported payment methods to the customer.\n\nTo see how your payment methods appear to customers, enter a transaction ID or\nset an order amount and currency in the Dashboard.\n\nYou can enable Apple Pay and Google Pay in your [payment methods\nsettings](https://dashboard.stripe.com/settings/payment_methods). By default,\nApple Pay is enabled and Google Pay is disabled. However, in some cases Stripe\nfilters them out even when they’re enabled. We filter Google Pay if you [enable\nautomatic tax](https://docs.stripe.com/tax/checkout) without collecting a\nshipping address.\n\nCheckout’s Stripe-hosted pages don’t need integration changes to enable Apple\nPay or Google Pay. Stripe handles these payments the same way as other card\npayments.\n\n## Update your payment flows\n\nChoose from the upgrade path that matches your current Stripe integration:\n\nElementsCheckout and Payment LinksAPI\nIf your integration uses Card Element or individual payment method Elements, we\nrecommend migrating to the [Payment\nElement](https://docs.stripe.com/payments/payment-element/migration). This\nsingle, unified integration allows you to accept over 25 different payment\nmethods.\n\n### Create the PaymentIntent\n\nIn this version of the API, specifying the\n[automatic_payment_methods.enabled](https://docs.stripe.com/api/payment_intents/create#create_payment_intent-automatic_payment_methods-enabled)\nparameter is optional. If you don’t specify it, Stripe assumes a value of\n`true`, which enables its functionality by default.\n\n```\ncurl https://api.stripe.com/v1/payment_intents \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d amount=1099 \\\n -d currency=usd\n```\n\n### Client-side confirmations with Stripe.js\n\nIf your integration uses Stripe.js to confirm payments with\n[confirmPayment](https://docs.stripe.com/js/payment_intents/confirm_payment) or\nby [payment method](https://docs.stripe.com/js/payment_intents/payment_method),\nyour existing processes remains the same and requires no further changes.\n\nWhen you confirm payments, we recommend that you provide the\n[return_url](https://docs.stripe.com/api/payment_intents/confirm#confirm_payment_intent-return_url)\nparameter. This allows you to accept payment methods that [require\nredirect](https://docs.stripe.com/payments/payment-methods/payment-method-support#additional-api-supportability).\n\nHTML + JSReact\n```\nconst form = document.getElementById('payment-form');\n\nform.addEventListener('submit', async (event) => {\n event.preventDefault();\n\n const {error} = await stripe.confirmPayment({\n //`Elements` instance that was used to create the Payment Element\n elements,\n confirmParams: {\n return_url: 'https://example.com/return_url',\n },\n });\n\n if (error) {\n // This point will only be reached if there is an immediate error when\n // confirming the payment. Show error to your customer (for example, payment\n // details incomplete)\n const messageContainer = document.querySelector('#error-message');\n messageContainer.textContent = error.message;\n } else {\n // Your customer will be redirected to your `return_url`. For some payment\n // methods like iDEAL, your customer will be redirected to an intermediate\n // site first to authorize the payment, then redirected to the `return_url`.\n }\n});\n```\n\n### Server-side confirmation\n\nIf you use server-side confirmation, you must use the\n[return_url](https://docs.stripe.com/api/payment_intents/confirm#confirm_payment_intent-return_url)\nparameter in your integration.\n\n```\ncurl https://api.stripe.com/v1/payment_intents \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d amount=1099 \\\n -d currency=usd \\\n -d confirm=true \\\n -d payment_method={{PAYMENT_METHOD_ID}} \\\n --data-urlencode return_url=\"https://example.com/return_url\"\n```\n\nAlternatively, you can create the PaymentIntent or SetupIntent with the\n[automatic_payment_methods.allow_redirects](https://docs.stripe.com/api/payment_intents/create#create_payment_intent-automatic_payment_methods-allow_redirects)\nparameter set to `never`. This disables the `return_url` requirement on\nconfirmation. You can still manage payment methods from the\n[Dashboard](https://dashboard.stripe.com/settings/payment_methods), but the\npayment methods that require redirects won’t be eligible.\n\n```\ncurl https://api.stripe.com/v1/payment_intents \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d amount=1099 \\\n -d currency=usd \\\n -d confirm=true \\\n -d payment_method={{PAYMENT_METHOD_ID}} \\\n -d \"automatic_payment_methods[enabled]\"=true \\\n -d \"automatic_payment_methods[allow_redirects]\"=never\n```\n\nLastly, you can create the PaymentIntent or SetupIntent with the\n[payment_method_types](https://docs.stripe.com/api/payment_intents/create#create_payment_intent-payment_method_types)\nparameter. This also disables the `return_url` requirement on confirmation. With\nthis option, you can’t manage payment methods from the\n[Dashboard](https://dashboard.stripe.com/settings/payment_methods).\n\n```\ncurl https://api.stripe.com/v1/payment_intents \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d amount=1099 \\\n -d currency=usd \\\n -d confirm=true \\\n -d payment_method={{PAYMENT_METHOD_ID}} \\\n -d \"payment_method_types[]\"=card\n```\n\n## Links\n\n- [updated the selection\nprocess](http://stripe.com/blog/dynamic-payment-methods)\n- [/v1/payment_intents](https://docs.stripe.com/api/payment_intents)\n- [/v1/setup_intents](https://docs.stripe.com/api/setup_intents)\n-\n[payment_method_types](https://docs.stripe.com/api/payment_intents/create#create_payment_intent-payment_method_types)\n- [Dashboard](https://dashboard.stripe.com/settings/payment_methods)\n- [enable automatic tax](https://docs.stripe.com/tax/checkout)\n- [Payment Element](https://docs.stripe.com/payments/payment-element/migration)\n-\n[automatic_payment_methods.enabled](https://docs.stripe.com/api/payment_intents/create#create_payment_intent-automatic_payment_methods-enabled)\n- [confirmPayment](https://docs.stripe.com/js/payment_intents/confirm_payment)\n- [payment method](https://docs.stripe.com/js/payment_intents/payment_method)\n-\n[return_url](https://docs.stripe.com/api/payment_intents/confirm#confirm_payment_intent-return_url)\n- [require\nredirect](https://docs.stripe.com/payments/payment-methods/payment-method-support#additional-api-supportability)\n- [https://example.com/return_url](https://example.com/return_url)\n-\n[automatic_payment_methods.allow_redirects](https://docs.stripe.com/api/payment_intents/create#create_payment_intent-automatic_payment_methods-allow_redirects)",
  "metadata": {
    "title": "Manage default payment methods in the Dashboard | Stripe Documentation",
    "description": "Upgrade your API to manage payment methods in the Dashboard by default.",
    "sourceURL": "https://docs.stripe.com/upgrades/manage-payment-methods"
  }
}