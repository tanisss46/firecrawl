{
  "content": "# Working with Treasury financial accounts\n\n## Use financial accounts to store, send, and receive funds.\n\nAfter you [gain API access to\nTreasury](https://docs.stripe.com/treasury/access), Stripe attaches a financial\naccount to your platform account and enables you to provision financial accounts\nfor eligible connected accounts on your platform. Each financial account has its\nown distinct [balance of\nfunds](https://docs.stripe.com/treasury/account-management/working-with-balances-and-transactions),\nseparate from the balance of the account it’s linked to. For example, the owner\nof a connected account on your platform might have a 100 USD connected account\nbalance and a 200 USD financial account balance. In this scenario, the connected\naccount owner has a sum of 300 USD spread between their financial account and\nconnected account balances. These two balances remain separate, but the API\nprovides the ability to move money from the connected account balance to the\nfinancial account balance.\n\nIn the Stripe API, `FinancialAccount` objects serve as the source and\ndestination of money movement API requests. You request `Features` through the\nAPI to assign to `FinancialAccounts` that provide additional functionality for\nthe financial accounts on your platform. For example, to enable payment card\nfeatures on a specific financial account, you send an API request with the\n`FinancialAccount` ID for the `card_issuing` feature. See [Financial account\nfeatures](https://docs.stripe.com/treasury/account-management/financial-account-features)\nfor more information on `Feature` objects. See the [Available\nfeatures](https://docs.stripe.com/treasury/account-management/financial-account-features#available-features)\nsection within that guide to check required connected account capabilities for\neach `Feature`.\n\nBefore you create financial accounts in live mode for your Treasury integration,\nwe recommend you first create test financial accounts in [test\nmode](https://docs.stripe.com/test-mode). Test mode financial accounts can’t\nreceive or send real money, can’t be used in live mode, and don’t generate a\nlive account with real routing and account information, but are otherwise\nidentical in configuration and functionality.\n\n## Create a FinancialAccount\n\nUse `POST /v1/treasury/financial_accounts` to create `FinancialAccounts`.\nInclude the connected account ID as the value of the `Stripe-Account` header of\nthe call to associate the `FinancialAccount` with a connected account.\n\nYour platform account and connected accounts can have multiple financial\naccounts associated with them. You can create another financial account on your\nconnected account by providing the connected account ID as the value of the\n`Stripe-Account` header. You can associate a maximum of 3 financial accounts to\na single connected account (closed financial accounts don’t contribute to the\nlimit). The same limit applies to the number of financial accounts attached to\nthe platform account. If you need a higher account threshold, contact\n[treasury-support@stripe.com](mailto:treasury-support@stripe.com).\n\nThe following JSON defines the `FinancialAccount` object structure:\n\n```\n{\n \"object\": \"treasury.financial_account\",\n \"created\": 1612927106,\n \"id\": \"fa_123\",\n \"country\": \"US\",\n \"supported_currencies\": [\"usd\"],\n// Arrays of active, pending and restricted features summarize the status of all\nrequested features\n \"active_features\": [\"financial_addresses.aba\", \"deposit_insurance\"],\n \"pending_features\": [\"inbound_transfers.ach\"],\n\"restricted_features\": [\"intra_stripe_flows\", \"outbound_payments.ach\",\n\"outbound_payments.us_domestic_wire\"],\n \"balance\": {\n \"cash\": {\"usd\": 9000},\n \"inbound_pending\": {\"usd\": 0},\n \"outbound_pending\": {\"usd\": 1000}\n },\n// The FinancialAccount gains a FinancialAddress once the\n`financial_addresses.aba` feature is active. For more information, see\n\"Activating features\"\n \"financial_addresses\": [\n {\n \"type\": \"aba\",\n \"supported_networks\": [\"ach\", \"domestic_wire_us\"],\n \"aba\": {\n \"account_number_last4\": \"7890\",\n// Use the expand[] parameter to view the `account_number` field hidden by\ndefault\n \"account_number\": \"1234567890\",\n \"routing_number\": \"000000001\",\n \"bank_name\": \"Goldman Sachs\"\n }\n }\n ],\n \"livemode\": true,\n // Financial accounts begin in the \"open\" state, but can be closed\n // `status_details.closed` is populated once a financial account is closed\n \"status\": \"open\",\n \"status_details\": {\n \"closed\": {\n // List of one or more reasons why the FinancialAccount was closed:\n // - account_rejected\n // - closed_by_platform\n // - other\n \"reasons\": [],\n }\n },\n // User-defined metadata\n \"metadata\": {},\n \"nickname\": {},\n // Restrictions that the platform can apply to the FinancialAccount\n \"platform_restrictions\": {\n \"inbound_flows\": \"unrestricted\",\n \"outbound_flows\": \"restricted\"\n },\n}\n```\n\nTypically, you also request [financial account\nfeatures](https://docs.stripe.com/treasury/account-management/financial-account-features)\nwhen you make the API request to create the account. Regardless of the\n`Features` you request, the connected account must have the `treasury`\ncapability enabled. If you’re unsure if the connected account has the\ncapability, use `GET /v1/accounts/{{CONNECTED_ACCOUNT_ID}}` to check. The\naccount’s `capabilities` hash must have a `treasury` value of `active`.\n\n```\n…\n \"capabilities\": {\n \"card_issuing\": \"active\",\n \"card_payments\": \"active\",\n \"transfers\": \"active\",\n \"treasury\": \"active\",\n \"us_bank_account_ach_payments\": \"active\"\n },\n…\n```\n\nIf you want to issue cards attached to the financial account balance, your\nplatform’s connected accounts must also have the Issuing (`card_issuing`)\ncapability enabled. The connected account must have this capability before you\ncan request the `card_issuing` feature for its financial account. If the\nconnected account doesn’t have the capability, attempting to create a\n`FinancialAccount` with a request for the `card_issuing` feature results in an\nerror.\n\nSet the `nickname` field of a `FinancialAccount` object to designate a custom\nname for the financial account. You can use nicknames to create identifiers,\nwhich is useful when working with multiple financial accounts under a single\nconnected account. Valid nicknames must:\n\n- Be a non-blank string\n- Contain less than 250 characters\n\nIf you don’t provide a nickname upon account creation, the nickname field will\nbe empty and will return `null`. You can\n[update](https://docs.stripe.com/treasury/account-management/financial-accounts#update-a-financialaccount)\nnicknames after creating a `FinancialAccount`.\n\nThe following request creates a financial account assigned to the connected\naccount with the ID assigned in the `Stripe-Account` header.\n\n```\ncurl https://api.stripe.com/v1/treasury/financial_accounts \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -H \"Stripe-Account: {{CONNECTED_ACCOUNT_ID}}\" \\\n -d \"supported_currencies[]\"=usd \\\n -d nickname={{OPTIONAL_NICKNAME}} \\\n -d \"features[card_issuing][requested]\"=true \\\n -d \"features[deposit_insurance][requested]\"=true \\\n -d \"features[financial_addresses][aba][requested]\"=true \\\n -d \"features[inbound_transfers][ach][requested]\"=true \\\n -d \"features[intra_stripe_flows][requested]\"=true \\\n -d \"features[outbound_payments][ach][requested]\"=true \\\n -d \"features[outbound_payments][us_domestic_wire][requested]\"=true \\\n -d \"features[outbound_transfers][ach][requested]\"=true \\\n -d \"features[outbound_transfers][us_domestic_wire][requested]\"=true\n```\n\nThe response is a `FinancialAccount` object to confirm financial account\ncreation.\n\n```\n{\n \"object\": \"treasury.financial_account\",\n \"created\": 1612927106,\n \"id\": \"{{FINANCIAL_ACCOUNT_ID}}\",\n \"country\": \"US\",\n \"supported_currencies\": [\"usd\"],\n \"active_features\": [\n \"card_issuing\",\n ],\n // Features that require activation enter a pending state before activating\n```\n\nSee all 28 lines\n## Update a FinancialAccount\n\nUse `POST /v1/treasury/financial_accounts/{{FINANCIAL_ACCOUNT_ID}}` to update\nthe `FinancialAccount` with the associated ID. Include the connected account ID\nas the `Stripe-Account` header value. The following example updates the\n[metadata](https://docs.stripe.com/api/metadata) of the FinancialAccount.\n\n```\ncurl\nhttps://api.stripe.com/v1/treasury/financial_accounts/{{FINANCIAL_ACCOUNT_ID}} \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -H \"Stripe-Account: {{CONNECTED_ACCOUNT_ID}}\" \\\n -d \"metadata[key]\"=value\n```\n\n## Retrieve a FinancialAccount and account number\n\nUse `GET /v1/treasury/financial_accounts/{{FINANCIALACCOUNT_ID}}` to retrieve\nthe `FinancialAccount` with the associated ID. Include the connected account ID\nas the `Stripe-Account` header value.\n\n```\ncurl\nhttps://api.stripe.com/v1/treasury/financial_accounts/{{FINANCIAL_ACCOUNT_ID}} \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -H \"Stripe-Account: {{CONNECTED_ACCOUNT_ID}}\"\n```\n\nBy default, the account number for a financial account isn’t included in the\nresponse. To retrieve the account number, include the\n`financial_addresses.aba.account_number` field in the `expand` array.\n\n```\ncurl -G\nhttps://api.stripe.com/v1/treasury/financial_accounts/{{FINANCIAL_ACCOUNT_ID}} \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -H \"Stripe-Account: {{CONNECTED_ACCOUNT_ID}}\" \\\n -d \"expand[]\"=\"financial_addresses.aba.account_number\"\n```\n\nIf successful, the response returns the `FinancialAccount` object with or\nwithout the account number depending on the inclusion of the `expand` array.\n\n```\n{\n \"id\": {{FINANCIAL_ACCOUNT_ID}},\n ...\n \"financial_addresses\": [\n {\n \"aba\": {\n \"account_holder_name\": \"jenny\",\n \"account_number\": \"4242424242420239\",\n \"account_number_last4\": \"0239\",\n \"bank_name\": \"Stripe Test Bank\",\n \"routing_number\": \"000000001\"\n },\n ...\n }\n ],\n ...\n}\n```\n\nFor more information on the `expand` parameter, see [expanding\nresponses](https://docs.stripe.com/expand).\n\n### Feature summary\n\nThe `FinancialAccount` object contains a summary of the state of all its\n`Features` in three arrays - `active_features`, `pending_features`, and\n`restricted_features`.\n\n```\n{\n \"object\": \"treasury.financial_account\",\n \"id\": \"fa_987\",\n \"status\": \"open\",\n ...\n \"active_features\": [\"card_issuing\"],\n \"pending_features\": [\"financial_addresses.aba\"],\n \"restricted_features\": [\"outbound_transfers.ach\"],\n}\n```\n\nThese arrays provide a convenient way to see:\n\n- Inactive features (included in `pending_features` or `restricted_features`)\n- Active features (included in `active_features`)\n- Restricted features that require action (included in `restricted_features`)\n\nSee [Financial account\nfeatures](https://docs.stripe.com/treasury/account-management/financial-account-features)\nfor more information.\n\n## Close a FinancialAccount\n\nYou can permanently close a financial account if it meets the following\nconditions:\n\n- There are no pending inbound transfers.\n- All attached Issuing cards are canceled.\n- The account balance is zero and the account has no activity in the past 75\ndays. Alternatively, you can provide another financial account or external\naccount to\n[forward](https://docs.stripe.com/treasury/account-management/financial-accounts#handling-transactions-on-closed-accounts)\nincoming debits and credits to.\n\n#### Warning\n\nYou can’t reopen financial accounts after you’ve closed them.\n\nClosing a financial account has no impact on data retention for associated\nobjects, such as `Transactions`.\n\n## FinancialAccount closure using the API\n\nYou can use `POST/v1/treasury/financial_accounts/{{FINANCIAL_ACCOUNT_ID}}/close`\nto close the financial account with the associated ID. Include the associated\nconnected account ID as a header value.\n\n```\ncurl\nhttps://api.stripe.com/v1/treasury/financial_accounts/{{FINANCIAL_ACCOUNT_ID}}/close\n\\\n -u sk_test_BQokikJOvBiI2HlWgH4olfQ2: \\\n -X \"POST\" \\\n -H \"Stripe-Account: {{CONNECTED_STRIPE_ACCOUNT_ID}}\"\n```\n\nThe response is the `FinancialAccount` object with a `status` of `closed` to\nconfirm the action.\n\n```\n{\n \"id\": \"{{FINANCIAL_ACCOUNT_ID}}\",\n \"object\": \"treasury.financial_account\",\n \"status\": \"closed\",\n \"status_details\": {\n \"closed\": {\n \"reasons\": [\"closed_by_platform\"]\n }\n },\n \"active_features\": [],\n \"pending_features\": [],\n \"restricted_features\": [\"financial_addresses.aba\"],\n ...\n}\n```\n\n### Handling transactions on closed accounts\n\nIn rare circumstances, financial accounts might receive credits or debits on\nclosed accounts that Stripe can’t return automatically. As a platform owner,\nyou’re responsible for negative balances incurred after account closure. Stripe\nsupport works with you to return any remaining funds owed to the seller or\nservice provider and to remediate closed accounts with a negative balance. By\nincluding forwarding settings when closing a financial account, Stripe can\nautomatically forward debits and credits to the selected account.\n\n## Webhooks\n\nYou can create financial accounts before fulfilling onboarding requirements. In\nthis case, the financial account opens asynchronously and then triggers a\n`treasury.financial_account.features_status_updated`\n[webhook](https://docs.stripe.com/webhooks) with an updated view on any features\nstill restricted due to outstanding onboarding requirements.\n\n- `account.updated`- When requesting new Features, the platform might get an\n`account.updated` webhook prompting that the requirements hash has changed and\nsome new fields are now in `pending_verification`.\n- `treasury.financial_account.created`- Triggered whenever a new\nFinancialAccount is created.\n- `treasury.financial_account.closed`- Notifies when the status of the top-level\nFinancialAccount changes to closed.\n- `treasury.financial_account.features_status_updated`- Indicates that one or\nmore Features have changed status. This is reflected in changes to the\n`active_features, pending_features` or `restricted_features` arrays.\n\n## Links\n\n- [gain API access to Treasury](https://docs.stripe.com/treasury/access)\n- [balance of\nfunds](https://docs.stripe.com/treasury/account-management/working-with-balances-and-transactions)\n- [Financial account\nfeatures](https://docs.stripe.com/treasury/account-management/financial-account-features)\n- [Available\nfeatures](https://docs.stripe.com/treasury/account-management/financial-account-features#available-features)\n- [test mode](https://docs.stripe.com/test-mode)\n-\n[update](https://docs.stripe.com/treasury/account-management/financial-accounts#update-a-financialaccount)\n- [metadata](https://docs.stripe.com/api/metadata)\n- [expanding responses](https://docs.stripe.com/expand)\n- [webhook](https://docs.stripe.com/webhooks)",
  "metadata": {
    "title": "Working with Treasury financial accounts | Stripe Documentation",
    "description": "Use financial accounts to store, send, and receive funds.",
    "sourceURL": "https://docs.stripe.com/treasury/account-management/financial-accounts"
  }
}