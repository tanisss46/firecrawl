{
  "content": "# Moving money with Treasury using InboundTransfer objects\n\n## Learn how to transfer money from another account you own into a Treasury financial account.\n\nInbound transfers move money from an external US bank account into a financial\naccount using the ACH network. These transfers are initiated with\n[InboundTransfer](https://docs.stripe.com/api/treasury/inbound_transfers)\nobjects.\n\nInbound transfers take 2-4 business days to complete unless you’re using the\nsame-day ACH capability. For more information, see the [Money movement\ntimelines](https://docs.stripe.com/treasury/money-movement/timelines#inboundtransfer-transactions)\nguide.\n\n#### Note\n\nYou can use inbound transfers to move funds from a financial account owner’s\nbank account. To accept funds from an external party into a financial account,\nuse an [ACH\nDebit](https://docs.stripe.com/payments/ach-direct-debit/accept-a-payment) into\nthe Payments balance, followed by a [payout to the financial\naccount](https://docs.stripe.com/treasury/moving-money/payouts).\n\n## Create an InboundTransfer\n\nUse `POST /v1/treasury/inbound_transfers` to create an `InboundTransfer` object,\nwhich represents pull-based transfers from an external account that you own into\nyour financial account. In other words, you create an `InboundTransfer` to move\nfunds into your financial account by debiting your external US bank account. You\nmust include the following parameters with your request:\n\n- `amount`: The amount in cents to be transferred into the financial account.\n- `currency`: Three-letter ISO currency code (`usd` is currently the only\nsupported value).\n- `financial_account`: The ID of the financial account receiving the transfer.\n- `origin_payment_method`: The source of funds for the inbound transfer. You\nmust first set up the account-attached payment method for inbound flows and\nverify the bank account using a\n[SetupIntent](https://docs.stripe.com/api/setup_intents). Alternatively, you can\nuse an existing\n[BankAccount](https://docs.stripe.com/api/customer_bank_accounts) previously set\nup as a verified\n[ExternalAccount](https://docs.stripe.com/api/external_accounts). Whether you\nuse a payment method or a bank account, you need the [account owner’s\npermission](https://docs.stripe.com/treasury/moving-money/working-with-bankaccount-objects)\nto debit the funds from the account.\n\nThe following JSON shows the data you can include in the body of your request.\n\n```\n{\n// The source PaymentMethod or BankAccount. Funds are pulled from this account.\n \"origin_payment_method\": \"{{PAYMENT_METHOD_ID}}\" | \"{{BANK_ACCOUNT_ID}}\",\n // The destination FinancialAccount. Funds arrive in this account.\n \"financial_account\": \"{{FINANCIAL_ACCOUNT_ID}}\",\n // The amount to debit. 10.00 USD in this case.\n \"amount\": 1000,\n \"currency\": \"usd\",\n // An optional, internal description for the InboundTransfer.\n \"description\": \"Funds for vendor payment payment_234281\",\n // An optional descriptor for the InboundTransfer to send\n // to the network with the debit request. Max 10 characters\n \"statement_descriptor\": \"payment_1\",\n // Stripe does not support updating InboundTransfers after creation.\n // You can only set metadata at creation time.\n \"metadata\": null | {{Hash}}\n}\n```\n\nThe following request transfers 200 USD using an account-attached payment method\ninto the financial account with the provided ID. The `Stripe-Account` header\nvalue identifies the Stripe account that owns both the financial account and the\npayment method.\n\n```\ncurl https://api.stripe.com/v1/treasury/inbound_transfers \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -H \"Stripe-Account: {{CONNECTED_ACCOUNT_ID}}\" \\\n -d origin_payment_method={{PAYMENT_METHOD_ID}} \\\n -d financial_account={{FINANCIAL_ACCOUNT_ID}} \\\n -d amount=20000 \\\n -d currency=usd \\\n -d description=\"Funds for repair\" \\\n -d statement_descriptor=\"Invoice 12\"\n```\n\nIf successful, the response provides the `InboundTransfer` object. The object\nincludes a `hosted_regulatory_receipt_url` that provides access to details of\nthe transaction for the account holder on your platform.\n\n```\n{\n \"id\": \"{{INBOUND_TRANSFER_ID}}\",\n \"object\": \"inbound_transfer\",\n \"amount\": 20000,\n \"created\": 1648071297,\n \"currency\": \"usd\",\n \"description\": \"Funds for repair\",\n \"financial_account\": \"{{FINANCIAL_ACCOUNT_ID}}\",\n\"hosted_regulatory_receipt_url\":\n\"https://payments.stripe.com/regulatory-receipt/{{IBT_URL}}\",\n \"linked_flows\": null,\n \"livemode\": false,\n \"metadata\": {},\n \"origin_payment_method\": \"{{PAYMENT_METHOD_ID}}\",\n ...\n \"statement_descriptor\": \"Invoice 12\",\n \"status\": \"processing\",\n ...\n}\n```\n\n#### Warning\n\nIn rare cases, Stripe might cancel an InboundTransfer request due to various\nrisk factors. In these scenarios, the API request errors with response code 402.\nThe error message provides additional detail on the risk factors that led to the\nintervention.\n\n### Same-day ACH\n\n#### Private preview\n\nSame-day ACH is currently in preview with limited availability, subject to\nStripe review and approval. To request access, email\n[treasury-support@stripe.com](mailto:treasury-support@stripe.com).\n\nIf you don’t have access, API calls that include same-day ACH features or\nparameters return an error.\n\nUsing same-day ACH enables funds to arrive in the originating financial account\nwithin the same business day if the `InboundTransfer` call successfully\ncompletes before the [cutoff\ntime](https://docs.stripe.com/treasury/money-movement/timelines#evolve-bank-and-trust--inbound).\nTo use same-day ACH, set the\n`origin_payment_method_options.us_bank_account.ach.submission` parameter to\n`same_day`.\n\n#### Note\n\nThe fast settlement of same-day ACH inbound transfers can expose your platform\nto greater financial risk than from standard ACH inbound transfers. For example,\na connected account can initiate an inbound transfer that gets returned due to\ninsufficient funds in the source account. Same-day settlement leaves more time\nto potentially withdraw the funds from the financial account before they’re\nreturned. If the connected account withdraws the funds, and then the return\ncauses a negative balance in the financial account, [your platform is\nresponsible](https://docs.stripe.com/treasury/account-management/working-with-balances-and-transactions#overdrafts).\n\n## Retrieve an InboundTransfer\n\nUse `GET /v1/treasury/inbound_transfers/{{INBOUND_TRANSFER_ID}}` to retrieve the\n`InboundTransfer` object with the associated ID.\n\nThe following JSON shows the data you can include in the body of your request.\nSome of the parameters in the response have additional details that are only\nreturned when you add them as values to the `expand[]` parameter. The fields\nthat you can expand have an “Expandable” comment in the following response\nexample. See [Expanding\nResponses](https://docs.stripe.com/api/expanding_objects) to learn more about\nexpanding object responses.\n\n```\n{\n \"id\": \"{{INBOUND_TRANSFER_ID}}\",\n \"object\": \"inbound_transfer\",\n \"livemode\": false,\n \"created\": \"{{Timestamp}}\",\n \"financial_account\": \"{{FINANCIAL_ACCOUNT_ID}}\", // Expandable\n \"amount\": 1000,\n \"currency\": \"usd\",\n// The only current valid PaymentMethod type for InboundTransfers is\nus_bank_account\n \"origin_payment_method\": \"{{PAYMENT_METHOD_ID}}\",\n```\n\nSee all 52 lines\nThe following request retrieves the `InboundTransfer` with the `id` value of\n`{{INBOUND_TRANSFER_ID}}`. Including `transaction` in the `expand[]` array of\nthe body returns the relevant expanded information.\n\n```\ncurl -G\nhttps://api.stripe.com/v1/treasury/inbound_transfers/{{INBOUND_TRANSFER_ID}} \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -H \"Stripe-Account: {{CONNECTED_ACCOUNT_ID}}\" \\\n -d \"expand[]\"=financial_account\n```\n\nIf successful, the response returns the `InboundTransfer` object with the\nexpanded information.\n\n```\n{\n \"id\": \"{{INBOUND_TRANSFER_ID}}\",\n \"object\": \"inbound_transfer\",\n \"amount\": 20000,\n \"created\": 1648071297,\n \"currency\": \"usd\",\n \"description\": \"Inbound transfer\",\n \"failure_details\": null,\n \"financial_account\": \"{{FINANCIAL_ACCOUNT_ID}}\",\n\"hosted_regulatory_receipt_url\":\n\"https://payments.stripe.com/regulatory-receipt/{{INBOUND_TRANSFER_ID}}\",\n```\n\nSee all 78 lines\n## List InboundTransfers\n\nUse `GET /v1/treasury/inbound_transfers` to retrieve all the `InboundTransfers`\nfor the financial account with the associated ID. You can filter the list with\nthe standard list parameters or by `status`.\n\n```\n{\n // Standard list parameters\n \"limit\", \"starting_after\", \"ending_before\",\n // Filter by status\n \"status\": \"processing\" | \"succeeded\" | \"failed\",\n // Filter by FinancialAccount (Required)\n \"financial_account\": \"{{FINANCIAL_ACCOUNT_ID}}\", // Required\n}\n\n```\n\nThe following request retrieves all the inbound transfers with a status of\n`succeeded` for the financial account with ID `{{FINANCIAL_ACCOUNT_ID}}`, which\nis attached to the connected account with ID `{{CONNECTED_ACCOUNT_ID}}`.\n\n```\ncurl -G https://api.stripe.com/v1/treasury/inbound_transfers \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -H \"Stripe-Account: {{CONNECTED_ACCOUNT_ID}}\" \\\n -d financial_account={{FINANCIAL_ACCOUNT_ID}} \\\n -d status=succeeded\n```\n\n## Manually review InboundTransfers\n\nYou can reduce the risk of inbound transfers by delaying when they’re submitted\nto our banking partners or by holding funds for an extended period. These holds\ncan provide you with additional time to review potentially suspicious activity.\nYou can [request access](https://support.stripe.com/contact) to the\n`inbound_transfers.ach.platform_review` feature to make financial accounts with\nthis feature enabled receive all inbound transfers with a\n`requires_confirmation` status.\n\nBelow is an example of setting this feature on a new financial account. You can\nalso add other features.\n\n```\ncurl https://api.stripe.com/v1/treasury/financial_accounts \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -H \"Stripe-Account: {{CONNECTED_ACCOUNT_ID}}\" \\\n -d \"supported_currencies[]\"=usd \\\n -d \"inbound_transfers[ach][requested]\"=true \\\n -d \"inbound_transfers[ach][platform_review][requested]\"=true\n```\n\nBelow is an example of setting this feature on an existing financial account.\n\n```\ncurl https://api.stripe.com/v1/treasury/financial_accounts/fa_xxx/features \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -H \"Stripe-Account: {{CONNECTED_ACCOUNT_ID}}\" \\\n -d \"supported_currencies[]\"=usd \\\n -d \"inbound_transfers[ach][requested]\"=true \\\n -d \"inbound_transfers[ach][platform_review][requested]\"=true\n```\n\nTypically, we automatically send inbound transfers to the bank upon creation.\nHowever, inbound transfers with a `requires_confirmation` status require\nexplicit user confirmation through the\n`/v1/treasury/inbound_transfers/{id}/confirm` endpoint before we can submit the\ntransfers to our banking partners. You can review the inbound transfer details\nand risk signals before confirming or canceling the transfer. You have 5\nbusiness days to confirm or cancel inbound transfers in the\n`requires_confirmation` state. After 5 business days, the inbound transfer is\nautomatically canceled. For example, you have until the following Friday to\nconfirm an inbound transfer with the `requires_confirmation` state that’s\ncreated on a Friday (assuming no US holidays).\n\nUse the `funds_availability_delay` parameter with the `confirm` endpoint to\nspecify the delay (in seconds) to hold the funds before releasing them to the\nintended financial account. This allows you to use the additional delay to\nmanually review a transfer. You can also use this field to hold funds past the\nACH return window, so the originating bank can’t recall funds after they’re\nspent. For extra security, set `funds_availability_delay` to 432,000, which\nreleases funds beyond the return window.\n\nBelow is an example of calling the `confirm` endpoint without an availability\ndelay.\n\n```\ncurl -X POST\nhttps://api.stripe.com/v1/treasury/inbound_transfers/ibt_xxx/confirm \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -H \"Stripe-Account: {{CONNECTED_ACCOUNT_ID}}\"\n```\n\nBelow is an example of calling the `confirm` endpoint with an availability\ndelay.\n\n```\ncurl https://api.stripe.com/v1/treasury/inbound_transfers/ibt_xxx/confirm \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -H \"Stripe-Account: {{CONNECTED_ACCOUNT_ID}}\" \\\n -d funds_availability_delay=432000\n```\n\n## InboundTransfer states\n\nThe following table describes each status and what the possible transition\nstates are.\n\nSTATUSDESCRIPTIONTRANSITIONS TO STATE`processing`The `InboundTransfer` creation\nsucceeded. Stripe instructs movement of funds on the network.`failed`,\n`canceled`, `succeeded`, `requires_confirmation``requires_confirmation`The\n`InboundTransfer` is created in an holding state. Stripe hasn’t initiated the\nmovement of funds on the network and the user has to explicitly confirm their\nintent to trigger this inbound transfer using the\n`/v1/treasury/inbound_transfers/:ID/confirm` endpoint.`processing`,\n`canceled``failed` (terminal)The `InboundTransfer` failed to confirm. No\ntransaction was created, and the `payment_method` hasn’t been\ndebited.N/A`canceled` (terminal)The `InboundTransfer` was canceled prior to\nsubmission to the network. Stripe voids the transaction and no funds are moved\nfrom the external bank account.N/A`succeeded` (terminal)The `InboundTransfer`\nsucceeded and funds have landed in the account. A Transaction has been created.\nInboundTransfers can be returned after succeeding if the external account pulls\nback their funds, which is represented by a linked ReceivedDebit.N/A\n## Test InboundTransfers\n\nTo test your integration end-to-end, use the [SetupIntents requests in test\nmode](https://docs.stripe.com/api/setup_intents) to create a `PaymentMethod`,\nthen pass that `PaymentMethod` into an `InboundTransfer` creation request. Valid\n`PaymentMethods` result in succeeded `InboundTransfers`, while invalid\n`PaymentMethods` (for example, of unsupported types, containing an unverified\nbank account, or not set up for inbound flows) throw the same errors as in live\nmode.\n\n## Test InboundTransfer states\n\nStripe also provides a set of test `PaymentMethod` tokens you can use to trigger\nspecific state transitions:\n\nPAYMENT_METHOD VALUERESULT`pm_usBankAccount``InboundTransfer` that transitions\nfrom `processing` to `succeeded`.`pm_usBankAccount_processing``InboundTransfer`\nthat remains in the `processing`\nstate.`pm_usBankAccount_internalFailure``InboundTransfer` that transitions from\n`processing` to `failed`.\nTo test various edge cases more quickly, `PaymentMethod` tokens simulate\nspecific failure types:\n\nPAYMENT_METHOD VALUERESULT`pm_usBankAccount_noAccount``InboundTransfer` that\ntransitions to failed with `failure_details.code=\n\"no_account\"`.`pm_usBankAccount_accountClosed``InboundTransfer` that transitions\nto `failed` with `failure_details.code=\n\"account_closed\"`.`pm_usBankAccount_invalidAccountNumber``InboundTransfer` that\ntransitions to failed with `failure_details.code=\n\"invalid_account_number\"`.`pm_usBankAccount_insufficientFunds``InboundTransfer`\nthat transitions to failed with `failure_details.code=\n\"insufficient_funds\"`.`pm_usBankAccount_debitNotAuthorized``InboundTransfer`\nthat transitions to failed with `failure_details.code=\n\"debit_not_authorized\"`.`pm_usBankAccount_dispute``InboundTransfer` that\ntransitions from `processing` to `succeeded` and is later disputed.\n`inbound_transfer.returned` becomes `true`, and a linked `ReceivedDebit` is\ncreated.\nIn all cases, the `InboundTransfer` response begins in the `processing` state.\nYou receive [webhooks](https://docs.stripe.com/webhooks) for each relevant state\ntransition, and fetching the `InboundTransfer` after creation returns the\nexpected state.\n\n## InboundTransfer test helper endpoints\n\nStripe also provides endpoints that enable you to test `InboundTransfers` in\ndifferent states. Create an `InboundTransfer`, then:\n\n- Use the [test succeed\nendpoint](https://docs.stripe.com/api/treasury/inbound_transfers/test_mode_succeed)\nto move the transfer with the associated ID directly into the `succeeded` state.\n\n`POST\n/v1/test_helpers/treasury/inbound_transfers/{{INBOUND_TRANSFER_ID}}/succeed`\n- Use the [test fail\nendpoint](https://docs.stripe.com/api/treasury/inbound_transfers/test_mode_fail)\nto move the transfer with the associated ID directly into the `failed` state.\n\n`POST /v1/test_helpers/treasury/inbound_transfers/{{INBOUND_TRANSFER_ID}}/fail`\n\nThese endpoints are particularly useful when testing error scenarios, such as\nreturns, which would otherwise require action from the external account the\nInboundTransfer was pulling funds from.\n\nInclude the optional `failure_details.code` parameter in the body to indicate\nwhy the transfer failed. If you don’t provide it, the transfer fails with the\ndefault `could_not_process` failure code.\n\n```\n{\n \"failure_details\": {\n \"code\": \"account_closed\" |\n \"account_frozen\" |\n \"bank_account_restricted\" |\n \"bank_ownership_changed\" |\n \"could_not_process\" | // Generic fallback code\n \"invalid_account_number\" |\n \"incorrect_account_holder_name\" |\n \"invalid_currency\" |\n \"no_account\"\n }\n}\n```\n\nTreasury also provides a `return` endpoint to simulate an InboundTransfer that\nsucceeds, but is later returned.\n\nUse the [test return\nendpoint](https://docs.stripe.com/api/treasury/inbound_transfers/test_mode_return)\nto initiate the simulated return on the `InboundTransfer` with the associated\nID.\n\n`POST\n/v1/test_helpers/treasury/inbound_transfers/{{INBOUND_TRANSFER_ID}}/return`\n\nAll test endpoints trigger [webhooks](https://docs.stripe.com/webhooks) for each\nrelevant state transition, and fetching the `InboundTransfer` after transition\nreturns the expected state.\n\n## InboundTransfer webhooks\n\nStripe emits the following `InboundTransfer` events to your\n[webhook](https://docs.stripe.com/webhooks) endpoint:\n\n- `treasury.inbound_transfer.created` on `InboundTransfer` creation.\n- `treasury.inbound_transfer.{{new_status}}` when an `InboundTransfer` changes\nstatus. Available status value options include:-\n`treasury.inbound_transfer.succeeded`\n- `treasury.inbound_transfer.failed`\n\n## Links\n\n- [InboundTransfer](https://docs.stripe.com/api/treasury/inbound_transfers)\n- [Money movement\ntimelines](https://docs.stripe.com/treasury/money-movement/timelines#inboundtransfer-transactions)\n- [ACH\nDebit](https://docs.stripe.com/payments/ach-direct-debit/accept-a-payment)\n- [payout to the financial\naccount](https://docs.stripe.com/treasury/moving-money/payouts)\n- [SetupIntent](https://docs.stripe.com/api/setup_intents)\n- [BankAccount](https://docs.stripe.com/api/customer_bank_accounts)\n- [ExternalAccount](https://docs.stripe.com/api/external_accounts)\n- [account owner’s\npermission](https://docs.stripe.com/treasury/moving-money/working-with-bankaccount-objects)\n- [cutoff\ntime](https://docs.stripe.com/treasury/money-movement/timelines#evolve-bank-and-trust--inbound)\n- [your platform is\nresponsible](https://docs.stripe.com/treasury/account-management/working-with-balances-and-transactions#overdrafts)\n- [Expanding Responses](https://docs.stripe.com/api/expanding_objects)\n- [request access](https://support.stripe.com/contact)\n- [webhooks](https://docs.stripe.com/webhooks)\n- [test succeed\nendpoint](https://docs.stripe.com/api/treasury/inbound_transfers/test_mode_succeed)\n- [test fail\nendpoint](https://docs.stripe.com/api/treasury/inbound_transfers/test_mode_fail)\n- [test return\nendpoint](https://docs.stripe.com/api/treasury/inbound_transfers/test_mode_return)",
  "metadata": {
    "title": "Moving money with Treasury using InboundTransfer objects | Stripe Documentation",
    "description": "Learn how to transfer money from another account you own into a Treasury financial account.",
    "sourceURL": "https://docs.stripe.com/treasury/moving-money/financial-accounts/into/inbound-transfers"
  }
}