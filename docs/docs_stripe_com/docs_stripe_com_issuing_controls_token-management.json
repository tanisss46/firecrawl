{
  "content": "# Token Management\n\n## Learn how to use Issuing to manage network tokens on your cards.\n\n## About tokens\n\nTokens are virtual representations of issued cards that are created when a\ncardholder:\n\n- Adds a card to a digital wallet like Apple Pay or Google Pay\n- Saves a payment method for their account at an online storefront or\nintermediary payment method\n\nCustomers can use tokens for payment, and they don’t expose sensitive card\ninformation every time they use them. As such, they function as substitutes for\ncard details including the number, expiration date, and verification code,\nreducing the risk of stolen card information because of a transaction or a\nfraudulent actor. Because they don’t expose sensitive card information, tokens\nare generally considered a more secure form of payment than physical cards, or\nthe manual entry of card details into a checkout form.\n\nTokens are most relevant for users that:\n\n- Allow their cardholders to spend using Apple Pay, Google Pay, or Samsung Pay\n- Have significant issuing volume on Card Not Present transactions (like online\npurchases)\n- Want to incorporate token behavior into their business logic\n\n## Token management\n\nStripe Issuing allows you to view and manage details associated with all tokens\nissued through your program with the [Tokens\nAPI](https://docs.stripe.com/api/issuing/tokens). We provide these details to\nhelp you better understand the characteristics of your tokens and how they’re\nbeing used. For example, you can find details on the following key\ncharacteristics:\n\n- **The originator of a token:** Whether a [digital wallet provider or\nbusiness](https://docs.stripe.com/api/issuing/tokens/object#issuing_token_object-wallet_provider)\nis requesting the token.\n- **The predicted riskiness of a token:** The card network’s assessment of\n[risk](https://docs.stripe.com/api/issuing/tokens/object#issuing_token_object-network_data-visa-token_risk_score)\nand its\n[recommendation](https://docs.stripe.com/api/issuing/tokens/object#issuing_token_object-network_data-wallet_provider-suggested_decision)\nfor a given token.\n- **The device associated with a token:** Whether a watch, phone, or other\n[device](https://docs.stripe.com/api/issuing/tokens/object#issuing_token_object-network_data-device-type)\nis requesting the token, and the [assessed\nrisk](https://docs.stripe.com/api/issuing/tokens/object#issuing_token_object-network_data-wallet_provider-device_trust_score)\nof that device.\n- **The cardholder characteristics of the token originator:** Whether the\ncardholder values such as the\n[name](https://docs.stripe.com/api/issuing/tokens/object#issuing_token_object-network_data-wallet_provider-cardholder_name)\nand\n[address](https://docs.stripe.com/api/issuing/tokens/object#issuing_token_object-network_data-wallet_provider-cardholder_address)\nmatch those of the cardholder in Stripe for additional verification.\n\nIn addition to visibility into token characteristics, the Tokens API allows you\nto activate, suspend, or deactivate tokens based on your desired workflows. For\nexample, you might opt to do so to:\n\n- Verify which existing tokens migrate to a new card when your program replaces\na card.\n- Deactivate tokens suspected of fraudulent activity without impacting the\nunderlying card.\n\nThe `issuing.authorization` object also has a [token\nfield](https://docs.stripe.com/api/issuing/authorizations/object#issuing_authorization_object-token)\nthat populates if it uses a token.\n\n## Risk controls\n\nWhen Stripe receives a tokenization request, we assess a variety of variables to\ndetermine whether or not we should approve the request. As a result of this\nassessment, we choose one of the following:\n\n- Approve the tokenization request, creating the token and adding it to a\ndigital wallet.\n- Require additional authentication, triggering a one-time passcode flow through\nthe digital wallet provider. After the authentication successfully completes, we\ncreate the token and add it to the corresponding digital wallet. In these\nscenarios, the [status\nfield](https://docs.stripe.com/api/issuing/tokens/object#issuing_token_object-status)\nis populated as `requested` until the additional authentication completes.\n- Reject the tokenization request, preventing the token from being created.\n\nUsers also have the ability to put their own additional risk controls in place\non top of Stripe’s. The Tokens API doesn’t allow for the outright rejection of a\ntokenization request at the point of creation, but users can deactivate or\nsuspend tokens shortly after creation.\n\n## How tokens work\n\nUnderstand how tokens work to give yourself a picture of token creation and the\ntoken lifecycle.\n\n### Create a token\n\nToken creation, or tokenization, is a multi-step process involving cardholders,\nusers, a digital wallet provider, Stripe, and a card network. The example\nscenario below shows the steps the cardholder must complete and the processes\ninvolved when using the Tokens API as part of your program.\n\n#### Example scenario\n\nA cardholder on your Issuing program wants to add their Stripe-issued card to a\ndigital wallet, such as Apple Pay. To do so, they open their digital wallet app\nand complete prompts to enter their cardholder information (such as name and\nbilling address), and card information (such as card number and expiration\ndate).\n\nThis information is then submitted to the wallet provider, (in this case, Apple\nPay) which is registered with the card’s underlying network (for example, Visa\nor Mastercard) as a ‘token requestor’ within the network. Next, the card network\nconducts a series of validations against this data, combines it with their own\ndata into a tokenization request, and forwards it to Stripe to decide. Stripe\nconducts its own additional validation to determine how to proceed with the\nrequest. As noted earlier on this page, this validation step can result in three\noutcomes:\n\n- Stripe approves the tokenization, which activates the token in the wallet,\nmaking it ready to use. Stripe sends out the `issuing_token.created` event to\nany listening webhook endpoints.\n- Stripe requires additional verification, which prompts an authentication\nchallenge to the cardholder. Stripe sends out the `issuing_token.created` event\nto any listening webhook endpoints. The token becomes active when the cardholder\nsuccessfully completes this step. Stripe sends out the `issuing_token.updated`\nevent to any listening webhook endpoints as soon as the token becomes activated.\n- Stripe declines the tokenization request, which prevents the token from being\nadded to the wallet. Stripe doesn’t send out the `issuing_token.created` event\nto any listening webhook endpoints.\n\nThe wallet provider or the card network can halt a tokenization request from\nproceeding further at any step in the tokenization process—Stripe doesn’t always\nreceive notification when this happens.\n\nThe sequence diagram below helps to further illustrate the tokenization process.\n\nCardholder\n\nDevice (for example, smartphone)\n\nWallet provider (for example, Apple Pay)\n\nCard network (for example, Visa)\n\nStripe\n\nSubmit card information\n\nForward data\n\nSend provisioning data\n\nSend provisioning request\n\nSend approved provisioning response\n\nissuing_token.created\nFinalize provisioning response\n\nForward provisioning response\n\nToken is ready for use in wallet\n\nOverview flow of a successful provisioning request\n### Token lifecycle\n\nAfter a token is created, it can exist in four distinct states in the digital\nwallet:\n\n- **Inactive**: The token request is outstanding, and the token can’t be used\nfor authorizations yet. An inactive token in the Tokens API has a status of\n`requested`.\n- **Suspended**: The token is temporarily unavailable to use in the wallet. A\ncardholder or a Stripe user using the Tokens API can trigger a token suspension.\nCardholders can’t undo suspensions by a Stripe user (that is, through a digital\nwallet app). Users can only reactivate suspended cards directly through the\nTokens API.\n- **Active**: The token is available for use in the wallet it’s been added to.\n- **Deleted**: The token has been removed from the wallet and you can no longer\nuse it. You can’t modify tokens in this state.\n\nThe below state diagram helps show the different states, how they’re reflected\nin the API, and how you can use our APIs to modify them.\n\nInactive\n\n`requested`\n\nActive\n\n`active`\n\nSuspended\n\n`suspended`\n\nDeleted\n\n`deleted`\n\ncardholder onlycardholder or Stripecardholder or Stripecardholder or\nStripecardholder (if they initiated suspension) or Stripetoken lifecycle state\ndiagram\nStripe automatically synchronizes token status with the cardholder states and\ncard states when they change. Stripe also migrates tokens between card\nreplacements if the original card isn’t canceled first. To see which tokens are\nassociated with which card, use the [List\nAPI](https://docs.stripe.com/api/issuing/tokens/list).\n\n### Merchant tokens\n\nBusinesses can also create tokens when saving a payment method for future use at\na retailer (for example, a cardholder saving their card details for checkout at\nAmazon). In these scenarios, the business originates the token creation, and the\nTokens API won’t have the [wallet_provider\nfield](https://docs.stripe.com/api/issuing/tokens/object#issuing_token_object-wallet_provider).\nTo assess the underlying business that originated the token, we recommend\nexamining the [business\ndetails](https://docs.stripe.com/api/issuing/authorizations/object#issuing_authorization_object-merchant_data)\nassociated with authorizations conducted using the token. If you issue cards\nfrom MasterCard, tokens that originate from them might populate a readable name\nin the [network_data.mastercard.token_requestor_name\nfield](https://docs.stripe.com/api/issuing/tokens/object#issuing_token_object-network_data-mastercard-token_requestor_name).\n\nMerchant tokens are tied to the specific business (token requestor in the card\nnetwork) that originates them and can’t be used at other businesses.\n\n### Identify when a token was used for a transaction\n\nAuthorizations or Transactions that used a token have an expandable reference to\nthe Token object in the `token` attribute. This field is null for Authorizations\nor Transactions that didn’t use a token. Combine this with the `wallet`\nattribute on the Authorization or Transaction object, or the\n[wallet_provider](https://docs.stripe.com/api/issuing/tokens/object#issuing_token_object-wallet_provider)\nattribute on the Token object, to determine whether a digital wallet token was\nused.\n\nSee the\n[Authorizations](https://docs.stripe.com/api/issuing/authorizations/object#issuing_authorization_object-token)\nand\n[Transactions](https://docs.stripe.com/api/issuing/transactions/object#issuing_transaction_object-token)\nAPI documentation for more details.\n\n## Network data restrictions\n\nThe Issuing token object contains an optional, [expandable\nfield](https://docs.stripe.com/api/expanding_objects) called\n[network_data](https://docs.stripe.com/api/issuing/tokens/object#issuing_token_object-network_data).\nIt contains additional, sensitive card network details about your tokens,\nprimarily related to the token creation process. Because this data is highly\nsensitive, you must have a [restricted access\nkey](https://docs.stripe.com/keys#create-restricted-api-secret-key) with the\nnecessary permissions to access the data, and can only view the data on a token\nwithin the first 24 hours after token creation (based on the **created** value).\nThis data is only available in the API to [retrieve a\ntoken](https://docs.stripe.com/api/issuing/tokens/retrieve) and the API to\n[update a token status](https://docs.stripe.com/api/issuing/tokens/update).\n\nTo access this data, configure your restricted access keys with the following\npermissions:\n\n- Issuing tokens read access for Retrieve and List methods\n- Issuing tokens write access for the Update Status method\n- Issuing token network data read access for accessing **network_data** within\nthe 24 hour time limit\n\nIf you need access to **network_data** beyond the initial 24-hour period that\nit’s available for, you must [limit the IP\naddresses](https://docs.stripe.com/keys#limit-api-secret-keys-ip-address) from\nwhich your restricted access keys will use.\n\n## Testing\n\nAn Issuer’s cardholder can create tokens for free at storefronts or in digital\nwallets. We recommend creating one in a digital wallet of your choice to\nunderstand the webhook events, API fields, and effects of updating a token. To\ndo so, follow the [Digital Wallets\nguide](https://docs.stripe.com/issuing/cards/digital-wallets) for manual\nprovisioning first.\n\nIf you prefer to test Tokens API in test mode, you can create a test mode\nauthorization with the [wallet\nfield](https://docs.stripe.com/api/issuing/authorizations/test_mode_create#test_mode_create_authorization-wallet)\nset to one of the available choices. The **token** field is set on the resulting\nauthorization. You can then use the API methods on this token as normal. In\nthese scenarios, not all fields are set, including **network_data**, and this\ntoken isn’t used for subsequent test authorizations.\n\n## The Tokens API\n\nToken data is only accessible through the Tokens API. Below are a few examples\napplications.\n\n### Verify a successful manual provisioning example\n\n- In this example, you subscribe to the `issuing_token.created` and\n`issuing_token.updated` events.\n- When you receive an `issuing_token.created` event, use the Retrieve API and\nexpand **network_data** to look at provisioning details. Here’s an example:\n\n```\n{\n \"id\": \"evt_1NxBn3FUQNp5XJkna0rkKU2r\",\n \"object\": \"event\",\n \"api_version\": \"2025-02-24.acacia\",\n \"created\": 1691100189,\n \"data\": {\n \"object\": {\n \"id\": \"intok_1NuMIZFUQNp5XJknPmDzEz0t\",\n \"object\": \"issuing.token\",\n \"card\": \"ic_1JDmgz2eZvKYlo2CRXlTsXj6\",\n \"created\": 1691100179,\n \"device_fingerprint\": \"intd_1JDmgz2OpvKigH2CxnEEs\",\n \"last4\": \"9203\",\n \"livemode\": true,\n \"network\": \"mastercard\",\n \"network_updated_at\": 1691100170,\n \"status\": \"requested\",\n \"wallet_provider\": \"apple_pay\"\n }\n },\n \"livemode\": true,\n \"pending_webhooks\": 0,\n \"request\": {\n \"id\": \"req_ARTvFhTufhHna9\",\n \"idempotency_key\": \"49a40678-8f45-4c91-9d6f-98a5bd569f9d\"\n },\n \"type\": \"issuing_token.created\"\n}\n```\n\n- Check that the **wallet_provider** field is populated, which tells you that it\noriginates from a digital wallet, and take note of the object’s **id**. Use that\nin the Retrieve API call:\n\n```\ncurl https://api.stripe.com/v1/issuing/tokens/intok_1NuMIZFUQNp5XJknPmDzEz0t \\\n -u sk_test_BQokikJOvBiI2HlWgH4olfQ2: \\\n -d \"expand[]\"=network_data \\\n -G\n```\n\nThis yields the following response:\n\n```\n{\n \"id\": \"intok_1NuMIZFUQNp5XJknPmDzEz0t\",\n \"object\": \"issuing.token\",\n \"card\": \"ic_1JDmgz2eZvKYlo2CRXlTsXj6\",\n \"created\": 1691100159,\n \"device_fingerprint\": \"intd_1JDmgz2OpvKigH2CxnEEs\",\n \"last4\": \"9203\",\n \"livemode\": true,\n \"network\": \"mastercard\",\n \"network_data\": {\n \"device\": {\n \"device_fingerprint\": \"intd_1JDmgz2OpvKigH2CxnEEs\",\n \"ip_address\": null,\n \"location\": \"+30.22/-89.10\",\n \"name\": \"AB's phone\",\n \"phone_number\": null,\n \"type\": \"phone\"\n },\n \"mastercard\": {\n \"card_reference_id\": \"...\",\n \"token_reference_id\": \"...\",\n \"token_requestor_id\": \"...\",\n \"token_requestor_name\": \"APPLE PAY\"\n },\n \"type\": \"mastercard\",\n \"wallet_provider\": {\n \"account_id\": null,\n \"account_trust_score\": null,\n \"card_number_source\": \"manual\",\n \"cardholder_address\": null,\n \"cardholder_name\": null,\n \"device_trust_score\": null,\n \"hashed_account_email_address\": null,\n \"reason_codes\": [],\n \"suggested_decision\": null,\n \"suggested_decision_version\": null\n }\n },\n \"network_updated_at\": 1691100170,\n \"status\": \"requested\",\n \"wallet_provider\": \"apple_pay\"\n}\n```\n\n- In the example, **card_number_source** is `manual`, token **status** is\n`requested`, and it’s an Apple Pay wallet. This means the cardholder had the\ncard details with them when they put the card in their Apple Wallet, and they\nneed to complete additional verification before they can use the card in the\nwallet.\n- A few seconds later, you can see an `issuing_token.updated` event for the same\ntoken. The token status is now in the `active` state. This means the cardholder\nsuccessfully completed the verification and can use their card for Apple Pay.\n\n### Delete a suspicious merchant token example\n\n- In this example, you subscribe to the `issuing_token.created` event.\n- The webhook receives an `issuing_token.created` event.\n\n```\n{\n \"object\": {\n \"id\": \"intok_1NuMIZuTQ2hhXJooNmDzEz0t\",\n \"object\": \"issuing.token\",\n \"card\": \"ic_1JDmgz2eZvKYlo2CRXlTsXj6\",\n \"created\": 1691100179,\n \"device_fingerprint\": null,\n \"last4\": \"9203\",\n \"livemode\": true,\n \"network\": \"visa\",\n \"network_updated_at\": 1691100170,\n \"status\": \"active\"\n }\n}\n```\n\n- The token has no **wallet_provider** field, so it’s a merchant token. Use the\nRetrieve API and expand **network_data** to look at provisioning details.\n\n```\ncurl https://api.stripe.com/v1/issuing/tokens/intok_1NuMIZFUQNp5XJknPmDzEz0t \\\n -u sk_test_BQokikJOvBiI2HlWgH4olfQ2: \\\n -d \"expand[]\"=network_data \\\n -G\n```\n\nThis yields the response:\n\n```\n{\n \"id\": \"intok_1NuMIZFUQNp5XJknPmDzEz0t\",\n \"object\": \"issuing.token\",\n \"card\": \"ic_1JDmgz2eZvKYlo2CRXlTsXj6\",\n \"created\": 1691100186,\n \"device_fingerprint\": null,\n \"last4\": \"4674\",\n \"livemode\": true,\n \"network\": \"visa\",\n \"network_data\": {\n \"visa\": {\n // ...other fields\n },\n \"type\": \"visa\",\n \"wallet_provider\": {\n \"card_number_source\": \"manual\",\n \"cardholder_address\": null,\n \"cardholder_name\": \"abc\",\n // ...other fields\n }\n },\n \"network_updated_at\": 1691100170,\n \"status\": \"active\",\n}\n```\n\n- You can see that the cardholder name is an invalid value that doesn’t match\nthe expected cardholder name.\n- To avoid any fraudulent activity, use the Update Status API to delete the\ntoken before it can be used. Then follow up with the cardholder to see if the\ntoken was actually requested by them. If they didn’t request it, cancel and\nreplace the card if the number was stolen, or the account compromised.\n\n```\ncurl https://api.stripe.com/v1/issuing/tokens/intok_1NuMIZFUQNp5XJknPmDzEz0t \\\n -u sk_test_BQokikJOvBiI2HlWgH4olfQ2: \\\n -d status=deleted\n```\n\n### Device monitoring example\n\nAs with the previous examples, subscribe to the token events, and perform a\nRetrieve API request on the ID when you receive an event. In this case, you see\nthat a **device_fingerprint** is populated, and check the\n**network_data.device.location** field. You see that the device was provisioned\nin a different country using the location coordinates. You see that you received\nprior notice that this cardholder was traveling abroad, and that it matches the\ncountry that they specified they were traveling to.\n\n## Links\n\n- [Tokens API](https://docs.stripe.com/api/issuing/tokens)\n- [digital wallet provider or\nbusiness](https://docs.stripe.com/api/issuing/tokens/object#issuing_token_object-wallet_provider)\n-\n[risk](https://docs.stripe.com/api/issuing/tokens/object#issuing_token_object-network_data-visa-token_risk_score)\n-\n[recommendation](https://docs.stripe.com/api/issuing/tokens/object#issuing_token_object-network_data-wallet_provider-suggested_decision)\n-\n[device](https://docs.stripe.com/api/issuing/tokens/object#issuing_token_object-network_data-device-type)\n- [assessed\nrisk](https://docs.stripe.com/api/issuing/tokens/object#issuing_token_object-network_data-wallet_provider-device_trust_score)\n-\n[name](https://docs.stripe.com/api/issuing/tokens/object#issuing_token_object-network_data-wallet_provider-cardholder_name)\n-\n[address](https://docs.stripe.com/api/issuing/tokens/object#issuing_token_object-network_data-wallet_provider-cardholder_address)\n- [token\nfield](https://docs.stripe.com/api/issuing/authorizations/object#issuing_authorization_object-token)\n- [status\nfield](https://docs.stripe.com/api/issuing/tokens/object#issuing_token_object-status)\n- [List API](https://docs.stripe.com/api/issuing/tokens/list)\n- [business\ndetails](https://docs.stripe.com/api/issuing/authorizations/object#issuing_authorization_object-merchant_data)\n- [network_data.mastercard.token_requestor_name\nfield](https://docs.stripe.com/api/issuing/tokens/object#issuing_token_object-network_data-mastercard-token_requestor_name)\n-\n[Transactions](https://docs.stripe.com/api/issuing/transactions/object#issuing_transaction_object-token)\n- [expandable field](https://docs.stripe.com/api/expanding_objects)\n-\n[network_data](https://docs.stripe.com/api/issuing/tokens/object#issuing_token_object-network_data)\n- [restricted access\nkey](https://docs.stripe.com/keys#create-restricted-api-secret-key)\n- [retrieve a token](https://docs.stripe.com/api/issuing/tokens/retrieve)\n- [update a token status](https://docs.stripe.com/api/issuing/tokens/update)\n- [limit the IP\naddresses](https://docs.stripe.com/keys#limit-api-secret-keys-ip-address)\n- [Digital Wallets guide](https://docs.stripe.com/issuing/cards/digital-wallets)\n- [wallet\nfield](https://docs.stripe.com/api/issuing/authorizations/test_mode_create#test_mode_create_authorization-wallet)",
  "metadata": {
    "title": "Token Management | Stripe Documentation",
    "description": "Learn how to use Issuing to manage network tokens on your cards.",
    "sourceURL": "https://docs.stripe.com/issuing/controls/token-management"
  }
}