{
  "content": "# Enable sandbox support for your public appDeveloper preview\n\n## Enable your public app for sandbox installation\n\n#### Developer preview\n\nSandboxes is currently in developer preview. Share your feedback on [Stripe\nInsiders](https://insiders.stripe.dev/c/stripe-apps), our new early access\nprogram.\n\nA [sandbox](https://docs.stripe.com/sandboxes) is an isolated test environment.\nUse your sandbox to test Stripe functionality in your account and experiment\nwithout affecting your live integration. Users can install apps in sandboxes to\nevaluate their features and functionality.\n\n## Managed sandboxes\n\nA *managed sandbox* is a unique type of sandbox that Stripe automatically\ncreates in your account to support your public Stripe app.\n\n- Stripe automatically creates a managed sandbox the first time you upload a\npublic app.\n- When a user installs your app into their sandbox, it establishes a connection\nto your managed sandbox.\n- You can [debug and monitor](https://docs.stripe.com/workbench/guides) events\nfrom user sandbox installs inside your managed sandbox.\n- Changes made to a managed sandbox don’t affect users installing your app in\nlive or test mode.\n- You can’t delete a managed sandbox.\n\n### Create a managed sandbox\n\nStripe automatically creates a managed sandbox for you the first time you\n[upload a public Stripe\napp](https://docs.stripe.com/stripe-apps/upload-install-app) to your account.\n\nFor public apps uploaded before February 3, 2025, Stripe automatically created a\nmanaged sandbox in your account.\n\n## Enable sandbox support for your app\n\nBy default, users can’t install your public app into a sandbox without\nadditional work.\n\nSimilar to [test mode](https://docs.stripe.com/stripe-apps/handling-modes), you\ncan enable sandbox installs by updating the [app\nmanifest](https://docs.stripe.com/stripe-apps/reference/app-manifest). After you\nenable sandbox support, [submit your app for\nreview](https://docs.stripe.com/stripe-apps/publish-app). App sandbox support is\nverified as part of the [app review\nprocess](https://docs.stripe.com/stripe-apps/review-requirements).\n\n### Steps to enable sandbox installs for your public app\n\n- Update the app manifest to support sandbox installs.\n- *(Optional)* Create sandbox-specific event hooks inside your managed sandbox.\nUpdate server-side logic to listen for these new endpoints.\n- *(Optional)* Update server-side logic to use your [managed sandbox API\nkeys](https://docs.stripe.com/sandboxes/dashboard/manage-access) when making\nStripe API calls for a sandbox install.\n- Upload a new version of your app to your main account (**not** your managed\nsandbox).\n- From your main account, [create an external test\nlink](https://docs.stripe.com/stripe-apps/test-app) for the sandbox-enabled\nversion you just uploaded.\n- Create and open a new sandbox to test your updated app.\n- In a browser window, visit the external test link you created earlier to\ninstall your app.\n- Test that your app works as expected when installed in a sandbox.\n- Submit your new version for marketplace review.\n\n### Update the app manifest\n\n#### Note\n\nAs of February 3, 2025, you must declare sandbox support as true or false in the\napp manifest for apps published to the marketplace.\n\nTo support installing your app in a sandbox, declare sandbox support in the [app\nmanifest](https://docs.stripe.com/stripe-apps/reference/app-manifest#schema)\nwith `sandbox_install_compatible`.\n\nThe following example code declares sandbox support:\n\n```\n{\n \"id\": \"com.invoicing.[YOUR_APP]\",\n \"version\": \"1.2.3\",\n \"name\": \"[YOUR APP] Shipment Invoicing\",\n \"icon\": \"./[YOUR_APP]_icon_32.png\",\n \"distribution_type\": \"public\",\n \"sandbox_install_compatible\": true,\n [...]\n}\n```\n\n### Understanding sandbox connections\n\nWhen a user installs your public app into their sandbox, a connection is made to\nyour managed sandbox. This differs from the behavior when your app is installed\nin live mode or test mode.\n\n- When a user installs an app into a sandbox, a connection is made to your\nmanaged sandbox.\n- When a user installs an app in live mode, a connection is made to your live\nmode and test mode.\n- When a user installs an app in test mode, a connection is made to your test\nmode.\n\n### Webhook events\n\nIf your app listens to events from your users’ installs, there is additional\nsetup to handle apps installed in sandboxes.\n\n- Inside your managed sandbox, create new webhooks for sandbox events.\n- If a user installs your app into a sandbox, Stripe sends any applicable events\nonly to your managed sandbox endpoints.\n- Update your server-side logic to handle sandbox specific events.\n\n#### Note\n\nSee [event\nbehavior](https://docs.stripe.com/stripe-apps/build-backend#event-behavior-depends-on-install-mode)\nto learn more about how the install mode affects event behavior.\n\n### API keys\n\nYour managed sandbox has its own set of [API Keys](https://docs.stripe.com/keys)\nfor making calls for sandbox installs. When responding to sandbox-specific\nwebhooks or events you must use these [managed sandbox\nkeys](https://docs.stripe.com/sandboxes/dashboard/manage-access).\n\nYou can find the correct API keys to use for sandbox installs inside your\nmanaged sandbox.\n\n### OAuth sandbox links\n\n#### Developer preview\n\nSandbox app support is currently in developer preview.\n\nApps in sandboxes don’t currently support testing OAuth apps. If your app uses\nRAK or Platform authentication no changes are required.\n\n## Testing your app in a sandbox\n\nAfter you’ve updated your app to handle sandbox installs, you can test your app\nin your own sandbox.\n\n- From your main account, [create an External test\nlink](https://docs.stripe.com/stripe-apps/test-app) for the sandbox-enabled\nversion you just uploaded.\n- Create a new sandbox to test your updated app. Open the new sandbox.\n- In a new browser window visit the External test link you created earlier to\ninstall your app.\n- Test your app works as expected installed in a sandbox.\n\n### Validating sandbox API keys and webhook behavior\n\nYou can use [Workbench](https://docs.stripe.com/workbench) to validate that your\nsandbox installation works correctly.\n\n- Inside your *test sandbox*, perform some example actions.\n- Next, inside your *managed sandbox*, open Workbench.\n\nUse Workbench to inspect your app behavior, including [reviewing API\nlogs](https://docs.stripe.com/workbench/guides#view-logs-by-source), and\n[filtering events](https://docs.stripe.com/workbench/guides#filter-events). If\nyou have updated your app correctly you can see all the API calls and webhook\nevents for your example actions.\n\nIf you don’t see the expected events or responses, double check you’re inside\nyour managed sandbox. Also check you have set up your sandbox specific webhook\nendpoints, and that your app is using the correct sandbox API keys as\nappropriate.\n\n### Submit your app for review\n\nAfter you enable sandbox support and validate your app works as expected inside\na sandbox, you can [submit your app for\nreview](https://docs.stripe.com/stripe-apps/publish-app). App sandbox support is\nverified as part of the [app review\nprocess](https://docs.stripe.com/stripe-apps/review-requirements) and listed on\nthe details page for your app listing.\n\n## Links\n\n- [Stripe Insiders](https://insiders.stripe.dev/c/stripe-apps)\n- [sandbox](https://docs.stripe.com/sandboxes)\n- [debug and monitor](https://docs.stripe.com/workbench/guides)\n- [upload a public Stripe\napp](https://docs.stripe.com/stripe-apps/upload-install-app)\n- [test mode](https://docs.stripe.com/stripe-apps/handling-modes)\n- [app manifest](https://docs.stripe.com/stripe-apps/reference/app-manifest)\n- [submit your app for review](https://docs.stripe.com/stripe-apps/publish-app)\n- [app review process](https://docs.stripe.com/stripe-apps/review-requirements)\n- [managed sandbox API\nkeys](https://docs.stripe.com/sandboxes/dashboard/manage-access)\n- [create an external test link](https://docs.stripe.com/stripe-apps/test-app)\n- [app\nmanifest](https://docs.stripe.com/stripe-apps/reference/app-manifest#schema)\n- [event\nbehavior](https://docs.stripe.com/stripe-apps/build-backend#event-behavior-depends-on-install-mode)\n- [API Keys](https://docs.stripe.com/keys)\n- [Workbench](https://docs.stripe.com/workbench)\n- [reviewing API\nlogs](https://docs.stripe.com/workbench/guides#view-logs-by-source)\n- [filtering events](https://docs.stripe.com/workbench/guides#filter-events)",
  "metadata": {
    "title": "Enable sandbox support for your public app | Stripe Documentation",
    "description": "Enable your public app for sandbox installation",
    "sourceURL": "https://docs.stripe.com/stripe-apps/enable-sandbox-support"
  }
}