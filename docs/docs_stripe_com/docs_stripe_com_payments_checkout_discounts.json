{
  "content": "# Add discounts\n\n## Reduce the amount charged to a customer by discounting their subtotal with coupons and promotion codes.\n\nStripe-hosted pageEmbedded formEmbedded componentsPublic preview\nYou can use discounts to reduce the amount charged to a customer. Coupons and\npromotion codes allow you to:\n\n- Apply a discount to an entire purchase subtotal\n- Apply a discount to specific products\n- Reduce the total charged by a percentage or a flat amount\n- Create customer-facing promotion codes on top of coupons to share directly\nwith customers\n\n#### Note\n\nTo use coupons for discounting\n[subscriptions](https://docs.stripe.com/billing/subscriptions/creating) with\nCheckout and Billing, see [Discounts for\nsubscriptions](https://docs.stripe.com/billing/subscriptions/coupons).\n\n## Create a coupon\n\nCoupons specify a fixed value discount. You can create customer-facing promotion\ncodes that map to a single underlying coupon. This means that the codes\n`FALLPROMO` and `SPRINGPROMO` can both point to one 25% off coupon. You can\ncreate coupons in the [Dashboard](https://dashboard.stripe.com/coupons) or with\nthe [API](https://docs.stripe.com/api#coupons):\n\n```\ncurl https://api.stripe.com/v1/coupons \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d percent_off=20 \\\n -d duration=once\n```\n\n## Use a coupon\n\nTo create a session with an applied discount, pass the [coupon\nID](https://docs.stripe.com/api/coupons/object#coupon_object-id) in the `coupon`\nparameter of the\n[discounts](https://docs.stripe.com/api/checkout/sessions/create#create_checkout_session-discounts)\narray. Checkout currently supports up to one coupon or promotion code.\n\n```\ncurl https://api.stripe.com/v1/checkout/sessions \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d \"line_items[0][price]\"={{PRICE_ID}} \\\n -d \"line_items[0][quantity]\"=1 \\\n -d \"discounts[0][coupon]\"={{COUPON_ID}} \\\n -d mode=payment \\\n --data-urlencode success_url=\"https://example.com/success\" \\\n --data-urlencode cancel_url=\"https://example.com/cancel\"\n```\n\n## Configure a coupon\n\nCoupons have the following parameters that you can use:\n\n- `currency`\n- `percent_off` or `amount_off`\n- `max_redemptions`\n- `redeem_by`, the latest date customers can apply the coupon\n- `applies_to`, limits the products that the coupon applies to\n\n#### Note\n\nThe coupon object adds discounts to both one-time payments and subscriptions.\nSome coupon object parameters, like `duration`, only apply to\n[subscriptions](https://docs.stripe.com/billing/subscriptions/coupons).\n\n### Limit redemption usage\n\nThe `max_redemptions` and `redeem_by` values apply to the coupon across every\napplication. For example, you can restrict a coupon to the first 50 usages of\nit, or you can make a coupon expire by a certain date.\n\n### Limit eligible products\n\nYou can limit the products that are eligible for discounts using a coupon by\nadding the product IDs to the `applies_to` hash in the Coupon object. Any\npromotion codes that map to this coupon only apply to the list of eligible\nproducts.\n\n### Delete a coupon\n\nYou can delete coupons in the Dashboard or the API. Deleting a coupon prevents\nit from being applied to future transactions or customers.\n\n## Create a promotion code\n\nPromotion codes are customer-facing codes created on top of coupons. You can\nalso specify additional restrictions that control when a customer can apply the\npromotion. You can share these codes with customers who can enter them during\ncheckout to apply a discount.\n\nTo create a [promotion code](https://docs.stripe.com/api/promotion_codes),\nspecify an existing `coupon` and any restrictions (for example, limiting it to a\nspecific `customer`). If you have a specific code to give to your customer (for\nexample, `FALL25OFF`), set the `code`. If you leave this field blank, we’ll\ngenerate a random `code` for you.\n\nThe `code` is case-insensitive and unique across active promotion codes for any\ncustomer. For example:\n\n- You can create multiple customer-restricted promotion codes with the same\n`code`, but you can’t reuse that `code` for a promotion code redeemable by any\ncustomer.\n- If you create a promotion code that is redeemable by any customer, you can’t\ncreate another active promotion code with the same `code`.\n- You can create a promotion code with `code: NEWUSER`, inactivate it by passing\n`active: false`, and then create a new promotion code with `code: NEWUSER`.\n\nPromotion codes can be created in the coupons section of the\n[Dashboard](https://dashboard.stripe.com/coupons/create) or with the\n[API](https://docs.stripe.com/api#promotion_codes):\n\n```\ncurl https://api.stripe.com/v1/promotion_codes \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d coupon={{COUPON_ID}} \\\n -d code=VIPCODE\n```\n\n## Use a promotion code\n\nEnable customer-redeemable promotion codes using the\n[allow_promotion_codes](https://docs.stripe.com/api/checkout/sessions/object#checkout_session_object-allow_promotion_codes)\nparameter in a Checkout Session. This enables a field in Checkout to allow\ncustomers to input promotion codes.\n\n```\ncurl https://api.stripe.com/v1/checkout/sessions \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d \"line_items[0][price_data][unit_amount]\"=2000 \\\n -d \"line_items[0][price_data][product_data][name]\"=T-shirt \\\n -d \"line_items[0][price_data][currency]\"=usd \\\n -d \"line_items[0][quantity]\"=1 \\\n -d mode=payment \\\n -d allow_promotion_codes=true \\\n --data-urlencode success_url=\"https://example.com/success\" \\\n --data-urlencode cancel_url=\"https://example.com/cancel\"\n```\n\n## Configure a promotion code\n\nFor each promotion code, you can customize eligible customers, redemptions, and\nother limits.\n\n### Limit by customer\n\nTo limit a promotion to a particular customer, specify a\n[customer](https://docs.stripe.com/api/promotion_codes/create#create_promotion_code-customer)\nwhen creating the promotion code. If no customer is specified, any customer can\nredeem the code.\n\n### Limit by first-time order\n\nYou can also limit the promotion code to first-time customers with\n[restrictions.first_time_transaction](https://docs.stripe.com/api/promotion_codes/create#create_promotion_code-restrictions-first_time_transaction).\nIf the `customer` isn’t defined, or if a defined `customer` has no prior\npayments or non-void [invoices](https://docs.stripe.com/api/invoices), it’s\nconsidered a first-time transaction.\n\n#### Note\n\nSessions that don’t create [Customers](https://docs.stripe.com/api/customers)\ninstead create [Guest\nCustomers](https://support.stripe.com/questions/guest-customer-faq) in the\nDashboard. Promotion codes limited to first-time customers are still accepted\nfor these Sessions.\n\n### Set a minimum amount\n\nWith promotion codes, you can set a minimum transaction amount for eligible\ndiscount by configuring\n[minimum_amount](https://docs.stripe.com/api/promotion_codes/create#create_promotion_code-restrictions-minimum_amount)\nand\n[minimum_amount_currency](https://docs.stripe.com/api/promotion_codes/create#create_promotion_code-restrictions-minimum_amount_currency).\nSince promotion code restrictions are checked at redemption time, the minimum\ntransaction amount only applies to the initial payment for a subscription.\n\n### Customize expirations\n\nYou can set an expiration date on the promotion code using\n[expires_at](https://docs.stripe.com/api/promotion_codes/create#create_promotion_code-expires_at).\nIf the underlying coupon already has `redeem_by` set, then the expiration date\nfor the promotion code can’t be later than that of the coupon. If\n`promotion_code[expires_at]` isn’t specified, the coupon’s `redeem_by`\nautomatically populates `expires_at`.\n\nFor example, you might have plans to support a coupon for a year, but you only\nwant it to be redeemable for one week after a customer receives it. You can set\n`coupon[redeem_by]` to one year from now, and set each\n`promotion_code[expires_at]` to one week after it’s created.\n\n### Limit redemptions\n\nYou can limit the number of redemptions by using\n[max_redemptions](https://docs.stripe.com/api/promotion_codes/create#create_promotion_code-max_redemptions),\nwhich works similarly to the coupon parameter. If the underlying coupon already\nhas `max_redemptions` set, then the `max_redemptions` for the promotion code\ncan’t be greater than that of the coupon.\n\nFor example, you might want a seasonal sale coupon to be redeemable by the first\n50 customers, but the winter promotion can only use 20 of those redemptions. In\nthis scenario, you can set `coupon[max_redemptions]: 50` and\n`promotion_code[max_redemptions]: 20`.\n\n### Inactive promotions\n\nYou can set whether a promotion code is currently redeemable by using the\n[active](https://docs.stripe.com/api/promotion_codes/create#create_promotion_code-active)\nparameter. However, if the underlying coupon for a promotion code becomes\ninvalid, all of its promotion codes become permanently inactive. Similarly, if a\npromotion code reaches its `max_redemptions` or `expires_at`, it becomes\npermanently inactive. You can’t reactivate these promotion codes.\n\n### Delete promotions\n\nYou can delete promotions in the Dashboard or the API. Deleting a promotion\nprevents it from being applied to future transactions or customers.\n\n## Links\n\n- [subscriptions](https://docs.stripe.com/billing/subscriptions/creating)\n- [Discounts for\nsubscriptions](https://docs.stripe.com/billing/subscriptions/coupons)\n- [Dashboard](https://dashboard.stripe.com/coupons)\n- [API](https://docs.stripe.com/api#coupons)\n- [coupon ID](https://docs.stripe.com/api/coupons/object#coupon_object-id)\n-\n[discounts](https://docs.stripe.com/api/checkout/sessions/create#create_checkout_session-discounts)\n- [https://example.com/success](https://example.com/success)\n- [https://example.com/cancel](https://example.com/cancel)\n- [promotion code](https://docs.stripe.com/api/promotion_codes)\n- [Dashboard](https://dashboard.stripe.com/coupons/create)\n- [API](https://docs.stripe.com/api#promotion_codes)\n-\n[allow_promotion_codes](https://docs.stripe.com/api/checkout/sessions/object#checkout_session_object-allow_promotion_codes)\n-\n[customer](https://docs.stripe.com/api/promotion_codes/create#create_promotion_code-customer)\n-\n[restrictions.first_time_transaction](https://docs.stripe.com/api/promotion_codes/create#create_promotion_code-restrictions-first_time_transaction)\n- [invoices](https://docs.stripe.com/api/invoices)\n- [Customers](https://docs.stripe.com/api/customers)\n- [Guest Customers](https://support.stripe.com/questions/guest-customer-faq)\n-\n[minimum_amount](https://docs.stripe.com/api/promotion_codes/create#create_promotion_code-restrictions-minimum_amount)\n-\n[minimum_amount_currency](https://docs.stripe.com/api/promotion_codes/create#create_promotion_code-restrictions-minimum_amount_currency)\n-\n[expires_at](https://docs.stripe.com/api/promotion_codes/create#create_promotion_code-expires_at)\n-\n[max_redemptions](https://docs.stripe.com/api/promotion_codes/create#create_promotion_code-max_redemptions)\n-\n[active](https://docs.stripe.com/api/promotion_codes/create#create_promotion_code-active)",
  "metadata": {
    "title": "Add discounts | Stripe Documentation",
    "description": "Discounts in Checkout allow you to reduce the amount charged to a customer by discounting their subtotal with coupons and promotion codes.",
    "sourceURL": "https://docs.stripe.com/payments/checkout/discounts"
  }
}