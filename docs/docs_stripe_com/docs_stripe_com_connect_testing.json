{
  "content": "# Testing Stripe Connect\n\n## Before going live, test your Connect integration for account creation, identity verification, and payouts.\n\nUse testing to make sure your [Connect](https://docs.stripe.com/connect)\nintegration handles different flows correctly. Use [test\nmode](https://docs.stripe.com/test-mode) to simulate live mode while taking\nadvantage of Stripe-provided special tokens to use in your tests. Take a look at\nour [payments testing guide](https://docs.stripe.com/testing) for more\ninformation on testing charges, disputes, and so on.\n\n## Create test accounts\n\nYou can create multiple test accounts and use any [account\ntype](https://docs.stripe.com/connect/accounts) or [controller\nproperties](https://docs.stripe.com/connect/migrate-to-controller-properties)\nyou might need (for example, representing multiple countries).\n\nYou can create test accounts using the [Accounts\nAPI](https://docs.stripe.com/api/accounts/create) or in the [Stripe\nDashboard](https://docs.stripe.com/connect/dashboard/managing-individual-accounts#creating-accounts).\n\nUse `000-000` as the SMS code when prompted for test accounts.\n\n## Test the OAuth flow\n\nYou can test your OAuth integration with connected accounts that use a\nStripe-hosted dashboard using your test mode `client_id`.\n\nYour test mode `client_id` is `ca_FkyHCg7X8mlvCUdMDao4mMxagUfhIwXb`. You can\nfind this in your [Connect OAuth\nsettings](https://dashboard.stripe.com/settings/connect/onboarding-options/oauth).\n\nYour test mode `client_id` allows you to:\n\n- Set your `redirect_uri` to a non-HTTPS URL\n- Set your `redirect_uri` to **localhost**\n- Force-skip the account form instead of having to fill out an entire account\napplication (Stripe Dashboard accounts only)\n- Get test access tokens for connected accounts\n\nTo test the [OAuth](https://docs.stripe.com/connect/oauth-standard-accounts)\nflow, create a new account after clicking the OAuth link. You can also test\nconnecting an existing Stripe account only if the email is different from your\nplatform account.\n\n## Identity verification\n\nAfter creating a test connected account, you can use tokens to test different\nverification statuses to make sure you’re handling different requirements and\naccount states. You can use the following tokens to test verification with test\naccounts.\n\n### Test dates of birth\n\nUse these dates of birth (DOB) to trigger certain verification conditions.\n\nDOBType`1901-01-01`Successful verification. Any other DOB results in\nunsuccessful verification.`1902-01-01`Successful, immediate verification. The\nverification result is returned directly in the response, not as part of a\n[webhook](https://docs.stripe.com/webhooks) event.`1900-01-01`This DOB triggers\nan Office of Foreign Assets Control (OFAC) alert.\n### Test addresses\n\nUse these addresses for `line1` to trigger certain verification conditions. You\nmust pass in legitimate values for the `city`, `state`, and `postal_code`\narguments.\n\nTokenType`address_full_match`​Successful\nverification.`address_no_match`Unsuccessful\nverification.`address_line1_no_match`Unsuccessful verification from partial\naddress match.\n### Test personal ID numbers\n\nUse these personal ID numbers for\n[individual.id_number](https://docs.stripe.com/api/accounts/create#create_account-individual-id_number)\nor the\n[id_number](https://docs.stripe.com/api/persons/create#create_person-id_number)\nattribute on the `Person` object to trigger certain verification conditions.\n\nNumberType`000000000`Successful verification. 0000 also works for SSN last 4\nverification.`111111111`Unsuccessful verification (identity\nmismatch).`222222222`Successful, immediate verification. The verification result\nis returned directly in the response, not as part of a\n[webhook](https://docs.stripe.com/webhooks) event.\n### Test identity documents\n\nFor testing, use test images or file tokens instead of uploading your own test\nIDs. For details, refer to [Uploading a\nfile](https://docs.stripe.com/connect/handling-api-verification#upload-a-file).\n\n### Test document images\n\nYou can use a [verified\nimage](https://d37ugbyn3rpeym.cloudfront.net/docs/identity/success.png) that\ncauses the user to be automatically marked `verified`. You can use an\n[unverified\nimage](https://d37ugbyn3rpeym.cloudfront.net/docs/identity/failed.png) that\ncauses the user to be automatically marked `unverified`.\n\n#### Note\n\nTest images take precedence over test ID numbers. If you upload a verified\nimage, verification succeeds, even if you also provide an unsuccessful test ID\nvalue. Similarly, an unverified image automatically fails verification\nregardless of the value of other test artifacts.\n\n### Test file tokens\n\nUse these file tokens to trigger certain identity verification conditions.\n\nTokenType`file_identity_document_success`Uses the verified image and marks that\ndocument requirement as satisfied.`file_identity_document_failure`Uses the\nunverified image and marks that document requirement as not satisfied.\n## Business information verification\n\n### Business address validation\n\nIn some countries, the business address associated with your connected account\nmust be validated before charges, [payouts](https://docs.stripe.com/payouts), or\nboth can be enabled on the connected account.\n\n### Test business addresses\n\nUse these addresses for `line1` to trigger certain validation conditions. You\nmust pass in legitimate values for the `city`, `state`, and `postal_code`\narguments.\n\nMake sure you start with an address token that has the least permissive\nvalidation condition you want to test for. This is because you can’t use an\naddress token that has a more restrictive validation condition than the previous\ntoken used. For example, if you provided `address_full_match` to have both\ncharges and payouts enabled, you can’t disable payouts or charges afterward by\nchanging the token to an invalid one. You can work around this by creating a new\naccount with the relevant token.\n\nTokenType`address_full_match`​Both charges and payouts are enabled on the\naccount.`address_no_match`​Only charges are enabled on the account. Since\nvalidation failed on the `line1` attribute, it becomes listed again in the\n[requirements](https://docs.stripe.com/api/accounts/object#account_object-requirements)\nhash.`address_line1_no_match`Neither charges nor payouts are enabled on the\naccount. Since validation failed, the address attributes become listed again in\nthe\n[requirements](https://docs.stripe.com/api/accounts/object#account_object-requirements)\nhash.\n### Test business tax IDs\n\nUse these business tax ID numbers for\n[company.tax_id](https://docs.stripe.com/api/accounts/create#create_account-company-tax_id)\nto trigger certain verification conditions. The test behavior might change\ndepending on the Connected Account countries and the regulations in those\ncountries. Depending on the country’s regulation, a valid tax document can mark\ntax ID verified in these countries.\n\nNumberType`000000000`Successful verification.`000000001`Successful verification\nas a non-profit.`111111111`Unsuccessful verification (identity\nmismatch).`111111112`Unsuccessful verification (tax ID not\nissued).`222222222`Successful, immediate verification. The verification result\nis returned directly in the response, not as part of a\n[webhook](https://docs.stripe.com/webhooks) event.\n### Test directorship verification\n\nStripe performs directorship verification by comparing the list of directors on\nthe `Account` object against a list retrieved from local registries. If the\ncountry requires it, you can trigger verification for an `Account` object by\nusing these tokens for the\n[person.first_name](https://docs.stripe.com/api/persons/object#person_object-first_name)\nattribute and setting the\n[person.relationship.director](https://docs.stripe.com/api/persons/object#person_object-relationship-director)\nattribute to true.\n\nTokenType`mismatch_director`Unsuccessful verification of director due to a\nmismatched name. This can trigger a `verification_directors_mismatch`\nverification error.`missing_director`Unsuccessful verification due to directors\nmissing on the account. This can trigger a `verification_missing_directors`\nverification error.`extraneous_director`Unsuccessful verification due to too\nmany directors on the account. This can trigger a\n`verification_extraneous_directors` verification error.\nThe verification errors can trigger if multiple directors on the `Account`\nobject use these magic tokens.\n\n### Test company name verification\n\nTrigger company name verification for an `Account` object by using this token\nfor the\n[company.name](https://docs.stripe.com/api/accounts/object#account_object-company-name)\nattribute.\n\nTokenType`mismatch_business_name`Unsuccessful verification due to a mismatched\nbusiness name.`disallowed_name`Unsuccessful verification due to a generic or\nwell-known business name.`match_name_relationships`Successful verification of\nthe business name.`match_name_only`Unsuccessful verification due to a business\nname discrepancy.\n### Test statement descriptor verification\n\nTrigger statement descriptor verification for an `Account` object by using this\ntoken for the\n[settings.payments.statement_descriptor](https://docs.stripe.com/api/accounts/object#account_object-settings-payments-statement_descriptor)\nattribute.\n\nTokenType`mismatch`Trigger an `invalid_statement_descriptor_business_mismatch`\nverification error.`disallowed`Trigger an\n`invalid_statement_descriptor_denylisted` verification error.\nTrigger statement descriptor prefix verification for an `Account` object by\nusing this token for the\n[settings.card_payments.statement_descriptor_prefix](https://docs.stripe.com/api/accounts/object#account_object-settings-card_payments-statement_descriptor_prefix)\nattribute.\n\nTokenType`mismatch`Trigger an `invalid_statement_descriptor_prefix_mismatch`\nverification error.`disallowed`Trigger an\n`invalid_statement_descriptor_prefix_denylisted` verification error.\n### Test business URL verification\n\nTrigger URL verification for an `Account` object by using this token for the\n[business_profile.url](https://docs.stripe.com/api/accounts/object#account_object-business_profile-url)\nattribute.\n\nTokenType`https://disallowed.stripe.com`Trigger an `invalid_url_denylisted`\nverification error.`https://geoblocked.stripe.com`Trigger an\n`invalid_url_website_inaccessible_geoblocked` verification\nerror.`https://problem.stripe.com`Trigger an `invalid_url_website_other`\nverification error.`https://missing.stripe.com`Trigger an\n`invalid_url_website_incomplete` verification\nerror.`https://mismatch.stripe.com`Trigger an\n`invalid_url_website_business_information_mismatch` verification\nerror.`https://passwordprotected.stripe.com`Trigger an\n`invalid_url_website_inaccessible_password_protected` verification\nerror.`https://accessible.stripe.com`Trigger a successful validation of the\nURL.`https://underconstruction.stripe.com`Trigger an\n`invalid_url_website_incomplete_under_construction` verification\nerror.`https://inaccessible.stripe.com`Trigger an\n`invalid_url_website_inaccessible` verification error.\n### Test Doing Business As (DBA) verification\n\nTrigger DBA verification for an `Account` object by using this token for the\n[business_profile.name](https://docs.stripe.com/api/accounts/object#account_object-business_profile-name)\nattribute.\n\nTokenType`disallowed_dba`Trigger an `invalid_business_profile_name_denylisted`\nverification error.`invalid_dba`Trigger an `invalid_business_profile_name`\nverification error.\n### Test product description verification\n\nTrigger product description verification for an `Account` object by using this\ntoken for the\n[business_profile.product_description](https://docs.stripe.com/api/accounts/object#account_object-business_profile-product_description)\nattribute.\n\nTokenType`require_url`Trigger an `invalid_url_web_presence_detected`\nverification error.\n### Test phone number validation\n\nClear phone number validation for an\n[Account](https://docs.stripe.com/api/accounts) object by using this token for\nthe following attributes:\n\n-\n[business_profile.support_phone](https://docs.stripe.com/api/accounts/object#account_object-business_profile-support_phone)\n-\n[company.phone](https://docs.stripe.com/api/accounts/object#account_object-company-phone)\n-\n[individual.phone](https://docs.stripe.com/api/accounts/object#account_object-individual-phone)\n\nClear phone number validation for a\n[Person](https://docs.stripe.com/api/persons) object by using this token for the\n[phone](https://docs.stripe.com/api/persons/object#person_object-phone)\nattribute.\n\nTokenType`0000000000`Successful validation\n### Test capability disabled reasons\n\nTrigger assignment of a specific\n[requirements.disabled_reason](https://docs.stripe.com/api/capabilities/object#capability_object-requirements-disabled_reason)\nto all of an `Account` object’s inactive `Capability` objects by using this\ntoken for the account’s\n[business_profile.url](https://docs.stripe.com/api/accounts/object#account_object-business_profile-url)\nattribute.\n\nTokenType`https://inactivity.stripe.com`Set an account with no recent activity\nas inactive and pause all verifications for it. Set the disabled reason for any\ninactive capabilities to `paused.inactivity` (`rejected.other` for API versions\nprior to `2024-06-20`).\n## Trigger or advance verification\n\n### Trigger cards\n\nUse these card numbers to trigger various conditions when you’re testing both\nrequirements and tiered verification. For the trigger actions to work, you must\nuse these cards with a Connect charge by setting\n[on_behalf_of](https://docs.stripe.com/connect/separate-charges-and-transfers#settlement-merchant),\nor creating the charge [directly on the connected\naccount](https://docs.stripe.com/connect/direct-charges).\n\nNumberTokenType4000000000004202`tok_visa_triggerNextRequirements`Changes the\nnext set of eventually due requirements to currently\ndue.4000000000004210`tok_visa_triggerChargeBlock`Triggers a charge\nblock.4000000000004236`tok_visa_triggerPayoutBlock`Triggers a payout block.\n#### Trigger next requirements\n\nLive mode can require additional verification information when a connected\naccount processes a certain amount of volume. This card sets any additional\nverification information to be required immediately. If no additional\ninformation is required, nothing appears.\n\n#### Trigger a charge or payout block\n\nIf required information isn’t provided by the deadline, Stripe disables the\nconnected account’s charges or payouts. These cards disable the connected\naccount and move any currently due requirements to overdue. These cards have no\neffect until an account provides the initial information that’s required to\nenable charges and payouts.\n\n### Trigger bank account ownership verification\n\nConnected accounts in the United States and India are subject to [Bank account\nownership\nverification](https://support.stripe.com/questions/bank-account-ownership-verification).\nYou can complete this verification by uploading supporting documents with the\nConnect Dashboard or with the API through the\n[documents[bank_account_ownership_verification]](https://docs.stripe.com/api/accounts/update#update_account-documents-bank_account_ownership_verification-files)\nhash.\n\nIn test mode, you can simulate the US bank account ownership verification\nprocess. Use the following test bank account numbers to trigger the verification\nprocess. One number presumes successful verification and the other prompts you\nto upload test images or file tokens to complete the verification process. These\ntest accounts are only available for US accounts.\n\nRoutingAccountType`110000000``000999999991`Triggers and completes the bank\naccount ownership verification process after a short\ndelay`110000000``000999999992`Triggers the bank account ownership verification\nprocess after a short delay and requests for document upload\n### Simulate requirements\n\nIf your platform has connected accounts in different countries or plans to, you\nmight need to verify a person’s address as well as their identity (depending on\nthe country). Stripe provides a sample [date of\nbirth](https://docs.stripe.com/connect/testing#test-dobs) (DOB) and sample\n[addresses](https://docs.stripe.com/connect/testing#test-verification-addresses)\nto test for this requirement.\n\nInformation providedPerson verification\nstatus`requirements.currently_due`Verified date of birth and verified\naddressVerifiedNoneVerified date of birth and unverified\naddressUnverified`verification.additional_document`Unverified date of birth and\nverified addressUnverified`verification.document`Unverified date of birth and\nunverified addressUnverified`verification.additional_document`,\n`verification.document`\n## Add funds to Stripe balance\n\nTo test [adding funds](https://docs.stripe.com/connect/top-ups) to your Stripe\nbalance from a bank account in the Dashboard, enable test mode and select the\ndesired test bank account in the drop-down menu within the **Add to balance**\ndialog. You can simulate success or failure due to insufficient funds.\n\nTo test adding funds in the API, use the following test bank tokens as the\nsource while in test mode. Each token simulates a specific kind of event.\n\nTokenType`btok_us_verified`Successful`btok_us_verified_noAccount`Unsuccessful\nwith a `no_account` code`btok_us_verified_accountClosed`Unsuccessful with an\n`account_closed` code`btok_us_verified_insufficientFunds`Unsuccessful with an\n`insufficient_funds` code`btok_us_verified_debitNotAuthorized`Unsuccessful with\na `debit_not_authorized` code`btok_us_verified_invalidCurrency`Unsuccessful with\nan `invalid_currency` code\n## Payouts\n\nUse the following test bank and debit card numbers to trigger certain events\nduring [payout](https://docs.stripe.com/connect/payouts-connected-accounts)\ntesting. You can only use these values in test mode with test secret keys.\n\nTest mode payouts simulate a live payout but aren’t processed with the bank.\nTest mode accounts with Stripe Dashboard access always have payouts enabled, as\nlong as valid external bank information and other relevant conditions are met,\nand never requires real identity verification.\n\n#### Note\n\nYou can’t use test bank and debit card numbers in the Stripe Dashboard on a live\nmode connected account. If you’ve entered your bank account information on a\nlive mode account, you can still use test mode, and test mode payouts will\nsimulate a live payout without processing actual money.\n\n### Bank numbers\n\nUse these test bank account numbers to test payouts. You can only use them with\ntest secret keys.\n\nAlbaniaAlgeriaAngolaAntigua &\nBarbudaArgentinaArmeniaAustraliaAustriaAzerbaijanBahamasBahrainBangladeshBelgiumBeninBhutanBoliviaBosnia\n& HerzegovinaBotswanaBrazilBruneiBulgariaCambodiaCanadaChileColombiaCosta\nRicaCôte d’IvoireCroatiaCyprusCzech RepublicDenmarkDominican\nRepublicEcuadorEgyptEl\nSalvadorEstoniaEthiopiaFinlandFranceGabonGambiaGermanyGhanaGibraltarGreeceGuatemalaGuyanaHong\nKongHungaryIcelandIndiaIndonesiaIrelandIsraelItalyJamaicaJapanJordanKazakhstanKenyaKuwaitLaosLatviaLiechtensteinLithuaniaLuxembourgMacao\nSAR\nChinaMadagascarMalaysiaMaltaMauritiusMexicoMoldovaMonacoMongoliaMoroccoMozambiqueNamibiaNetherlandsNew\nZealandNigerNigeriaNorth\nMacedoniaNorwayOmanPakistanPanamaParaguayPeruPhilippinesPolandPortugalQatarRomaniaRwandaSan\nMarinoSaudi ArabiaSenegalSerbiaSingaporeSlovakiaSloveniaSouth AfricaSouth\nKoreaSpainSri LankaSt. LuciaSwedenSwitzerlandTaiwanTanzaniaThailandTrinidad &\nTobagoTunisiaTurkeyUnited Arab EmiratesUnited Kingdom (IBAN)United Kingdom (Sort\nCode)United\nStatesUruguayUzbekistanVietnamRoutingAccountType`110000000``000123456789`Payout\nsucceeds.`110000000``000111111116`Payout fails with a `no_account`\ncode.`110000000``000111111113`Payout fails with a `account_closed`\ncode.`110000000``000222222227`Payout fails with a `insufficient_funds`\ncode.`110000000``000333333335`Payout fails with a `debit_not_authorized`\ncode.`110000000``000444444440`Payout fails with a `invalid_currency`\ncode.`110000000``000888888883`Payout fails if `method` is `instant`. Bank\naccount is not eligible for Instant Payouts.\n### Debit card numbers\n\nUse these test debit card numbers to test payouts to a debit card. These can\nonly be used with test secret keys.\n\nUnited\nStatesCanadaSingaporeAustraliaNumberTokenType4000056655665556`tok_visa_debit_us_transferSuccess`Visa\ndebit. Payout succeeds.4000056655665572`tok_visa_debit_us_transferFail`Visa\ndebit. Payout fails with a `could_not_process`\ncode.4000056755665555`tok_visa_debit_us_instantPayoutUnsupported`Visa debit.\nCard isn’t eligible for Instant\nPayouts.5200828282828210`tok_mastercard_debit_us_transferSuccess`Mastercard\ndebit. Payout\nsucceeds.6011981111111113`tok_discover_debit_us_transferSuccess`Discover debit.\nPayout succeeds.\n\n## Links\n\n- [Connect](https://docs.stripe.com/connect)\n- [test mode](https://docs.stripe.com/test-mode)\n- [payments testing guide](https://docs.stripe.com/testing)\n- [account type](https://docs.stripe.com/connect/accounts)\n- [controller\nproperties](https://docs.stripe.com/connect/migrate-to-controller-properties)\n- [Accounts API](https://docs.stripe.com/api/accounts/create)\n- [Stripe\nDashboard](https://docs.stripe.com/connect/dashboard/managing-individual-accounts#creating-accounts)\n- [Connect OAuth\nsettings](https://dashboard.stripe.com/settings/connect/onboarding-options/oauth)\n- [OAuth](https://docs.stripe.com/connect/oauth-standard-accounts)\n- [guide to testing\nverification](https://docs.stripe.com/connect/testing-verification)\n- [webhook](https://docs.stripe.com/webhooks)\n-\n[individual.id_number](https://docs.stripe.com/api/accounts/create#create_account-individual-id_number)\n-\n[id_number](https://docs.stripe.com/api/persons/create#create_person-id_number)\n- [Uploading a\nfile](https://docs.stripe.com/connect/handling-api-verification#upload-a-file)\n- [verified\nimage](https://d37ugbyn3rpeym.cloudfront.net/docs/identity/success.png)\n- [unverified\nimage](https://d37ugbyn3rpeym.cloudfront.net/docs/identity/failed.png)\n- [payouts](https://docs.stripe.com/payouts)\n-\n[requirements](https://docs.stripe.com/api/accounts/object#account_object-requirements)\n-\n[company.tax_id](https://docs.stripe.com/api/accounts/create#create_account-company-tax_id)\n-\n[person.first_name](https://docs.stripe.com/api/persons/object#person_object-first_name)\n-\n[person.relationship.director](https://docs.stripe.com/api/persons/object#person_object-relationship-director)\n-\n[company.name](https://docs.stripe.com/api/accounts/object#account_object-company-name)\n-\n[settings.payments.statement_descriptor](https://docs.stripe.com/api/accounts/object#account_object-settings-payments-statement_descriptor)\n-\n[settings.card_payments.statement_descriptor_prefix](https://docs.stripe.com/api/accounts/object#account_object-settings-card_payments-statement_descriptor_prefix)\n-\n[business_profile.url](https://docs.stripe.com/api/accounts/object#account_object-business_profile-url)\n-\n[business_profile.name](https://docs.stripe.com/api/accounts/object#account_object-business_profile-name)\n-\n[business_profile.product_description](https://docs.stripe.com/api/accounts/object#account_object-business_profile-product_description)\n- [Account](https://docs.stripe.com/api/accounts)\n-\n[business_profile.support_phone](https://docs.stripe.com/api/accounts/object#account_object-business_profile-support_phone)\n-\n[company.phone](https://docs.stripe.com/api/accounts/object#account_object-company-phone)\n-\n[individual.phone](https://docs.stripe.com/api/accounts/object#account_object-individual-phone)\n- [Person](https://docs.stripe.com/api/persons)\n- [phone](https://docs.stripe.com/api/persons/object#person_object-phone)\n-\n[requirements.disabled_reason](https://docs.stripe.com/api/capabilities/object#capability_object-requirements-disabled_reason)\n-\n[on_behalf_of](https://docs.stripe.com/connect/separate-charges-and-transfers#settlement-merchant)\n- [directly on the connected\naccount](https://docs.stripe.com/connect/direct-charges)\n- [Bank account ownership\nverification](https://support.stripe.com/questions/bank-account-ownership-verification)\n-\n[documents[bank_account_ownership_verification]](https://docs.stripe.com/api/accounts/update#update_account-documents-bank_account_ownership_verification-files)\n- [adding funds](https://docs.stripe.com/connect/top-ups)\n- [payout](https://docs.stripe.com/connect/payouts-connected-accounts)",
  "metadata": {
    "title": "Testing Stripe Connect | Stripe Documentation",
    "description": "Before going live, test your Connect integration for account creation, identity verification, and payouts.",
    "sourceURL": "https://docs.stripe.com/connect/testing"
  }
}