{
  "content": "# Bank transfer\n\n## Allow customers to pay invoices by transferring funds to a bank account.\n\nBank transfer payments are often used for large enterprise deals or new business\nrelationships. They can come with a lot of manual work for your team. Stripe can\naccept bank transfers from your customers using Stripe-provided,\ncustomer-specific bank account details.\n\nThe advantages of this approach are:\n\n- You keep your bank account details confidential from your customers.\n- You can automatically reconcile payments with open\n[invoices](https://docs.stripe.com/api/invoices).\n\n## Overview\n\nThe first time you accept a bank transfer payment from a customer, Stripe\ngenerates a virtual bank account for them, which you can then share with them\ndirectly. All future bank transfer payments from this customer get sent to this\nbank account. In some countries, Stripe also provides you with a unique transfer\nreference number that your customer should include with each transfer to make it\neasier to match the transfer against outstanding payments. Some countries have\nlimits on the number of virtual bank account numbers that you can create for\nfree.\n\nYou can find an overview of the common steps when accepting a bank transfer\npayment in the following sequence diagram:\n\nCustomer\n\nServer\n\nStripe\n\nStripe creates an invoice with bank account information: `POST /v1/invoices`\n\nInvoice sent by email\n\nThe customer sends the correct amount of funds by bank transfer\n\nAdds funds to cash balance\n\nReconciles against outstanding invoices\n\nPOST `invoice.paid` webhook\n\nPOST `payment_intent.succeeded` webhook\n\nResponds with `200 OK`\n\nCommon steps when accepting a bank transfer payment\n## Handling under- and over-payments\n\nWith bank transfer payments, it’s possible that the customer sends you more or\nless than the expected payment amount. If the customer sends too little, Stripe\npartially funds an open payment intent. Invoices won’t be partially funded and\nremain open until incoming funds cover the full invoice amount.\n\nIf the customer sends more than the expected amount, Stripe attempts to\nreconcile the incoming funds against an open payment and keep the remaining\nexcess amount in the customer cash balance. You can find more details on how\nStripe handles reconciliation in the [reconciliation\nsection](https://docs.stripe.com/payments/customer-balance/reconciliation) of\nour documentation.\n\nWhen a customer underpays:\n\nCustomer\n\nServer\n\nStripe\n\nPOST `cash_balance.funds_available`\n\nResponds with `200 OK`\n\nA customer has sent a bank transfer for less than the expected amount\nWhen a customer overpays:\n\nCustomer\n\nServer\n\nStripe\n\nPOST `payment_intent.succeeded`\n\nPOST `cash_balance.funds_available`\n\nPOST `invoice.paid`\n\nResponds with `200 OK`\n\nA customer has sent a bank transfer for more than the expected amount\n## Receive bank transfers\n\n### API\n\nYou can make an API call to create an invoice with bank transfers as a payment\nmethod.\n\nEUUKJPMXUS\nFirst, you create an invoice.\n\n```\ncurl https://api.stripe.com/v1/invoices \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d customer={{CUSTOMER_ID}} \\\n -d \"payment_settings[payment_method_types][]\"=customer_balance \\\n -d collection_method=send_invoice \\\n -d days_until_due=30\n```\n\nThen you can add one or more invoice items to the invoice.\n\n```\ncurl https://api.stripe.com/v1/invoiceitems \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d amount=1234 \\\n -d currency=usd \\\n -d customer={{CUSTOMER_ID}} \\\n -d description=\"Professional services\" \\\n -d invoice={{INVOICE_ID}}\n```\n\nThen you can finalize the invoice.\n\n```\ncurl -X POST https://api.stripe.com/v1/invoices/{{INVOICE_ID}}/finalize \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\"\n```\n\nAfter the invoice is finalized, your customer can view their payment\ninstructions on the hosted invoice page. The URL for the hosted invoice page is\nincluded in the API response as `hosted_invoice_url`.\n\n### Dashboard\n\nFor USD invoices, you can enable **Bank transfer** by default in the [Invoice\nsettings](https://dashboard.stripe.com/settings/billing/invoice).\n\nFor all other currencies, you can’t enable **Bank transfer** by default, but you\ncan still add it to individual invoices. To create an invoice that supports a\nbank transfer payment, add `customer_balance` to an invoice over the\n[API](https://docs.stripe.com/invoicing/payment-methods?dashboard-or-api=api#configure-payment-methods)\nor configure payment methods on invoices in the\n[Dashboard](https://docs.stripe.com/invoicing/dashboard#create-invoice).\n\n## Payment instructions\n\nFor each customer, Stripe generates a unique, virtual bank account number that\ncan accept transfers in the currency of the invoice. The transfer instructions\nfor this virtual bank account are visible to your customer on invoices.\n\nThe payment details Stripe creates are:\n\n- **Unique**—No two customers have the same account number.\n- **Consistent**—A single customer consistently receives the same funding\ninstructions across multiple invoices.\n- **Currency-appropriate**—In countries where bank transfers are supported,\nStripe generates local bank account information (for example, a UK account for\ncustomers in the UK).\n- **Customer-localized**—Payment instructions shown on invoices respect\n[Customer preferred\nlanguages](https://docs.stripe.com/invoicing/customize#customer-language), so\nyou can localize instructions for each customer.\n\n​​After a virtual bank account in Stripe receives a transfer, Stripe\nautomatically reconciles the funds to open invoices and creates a charge to pay\nthe invoice.\n\n## Automatic transfer reconciliation\n\nUpon receiving an inbound transfer, Stripe uses the transfer’s reference code,\namount, and date when determining the invoices for reconciliation.\n\n### Reference codes\n\n​​Transfers commonly include a memo such as:\n\n- *INVOICE-0011*\n- *Payment for INVOICE-0001*\n- *This is for 001. I’ll send the check for 002 next week.*\n\nIf the memo contains an invoice number, Stripe first attempts to reconcile the\ntransfer to the referenced invoice. Reference code reconciliation requires that:\n\n- the invoice number refers to an `open` or `past due` invoice.\n- if the invoice is `past due`, it has become past due within the past thirty\ndays.\n- the amount transferred is enough to pay the invoice.\n\n### Exact amount\n\nAfter considering reference codes, Stripe looks for the oldest open invoice\nwhere the amount precisely matches the amount transferred. If we find one, we\nreconcile the transfer to the invoice.\n\n### Multiple invoices\n\nIf any balance remains, it’s possible that your customer tried to pay multiple\ninvoices with one transfer. Stripe looks for a group of invoices (five or fewer)\nwhere the payment received matches the total expected. In the case where there\nare multiple possible combinations, Stripe picks the smallest combination. If\nthere are multiple options for the smallest combination, Stripe selects the\ncombination that contains the oldest invoice.\n\n### Oldest payable invoice\n\nIf more balance remains, it’s possible that your customer tried to pay multiple\ninvoices with one transfer, or transferred extra funds. Stripe progressively\npays open invoices by date (finalized until the balance runs out) or until no\ninvoices remain to pay.\n\n### Reconciliation failures\n\nWhen funds transferred into Stripe aren’t reconciled to any open\n[PaymentIntents](https://docs.stripe.com/api/payment_intents) or invoices, the\nfunds are placed in the customer balance and the `cash_balance.funds_available`\n[webhook](https://docs.stripe.com/webhooks) is sent.\n\n## Manual reconciliation\n\nIn certain circumstances, you might want to [override Stripe’s automatic\nreconciliation](https://docs.stripe.com/payments/customer-balance/reconciliation#cash-manual-reconciliation)\nbehavior on a per-customer basis.\n\nIn manual reconciliation mode, Stripe doesn’t attempt to automatically reconcile\nany funds received, so all payments must be reconciled manually.\n\n## Underpayments\n\nOccasionally, customers might make a payment below the amount you requested. In\nthese cases, you can treat the underpaid amount as an expense, and consider the\ninvoice as fully paid.\n\nTo allow automatic reconciliation of partial payments, you can configure a\nminimum payment amount and Stripe credits the difference to the customer.\nNavigate to the Dashboard’s [Automatic collection\nsettings](https://dashboard.stripe.com/settings/billing/automatic) section to\nspecify rules for underpayment.\n\n## Refunding transfers\n\nYou can refund completed payments through a refund or credit note back to the\ncustomer balance. ​​If any `PaymentIntents` or invoices are awaiting payment,\nthe [funds added to the customer\nbalance](https://docs.stripe.com/payments/bank-transfers) are reconciled against\nthem.\n\n## Testing\n\nTo test an inbound transfer of funds in the Dashboard or with the Stripe CLI,\nsee [Test your\nintegration](https://docs.stripe.com/payments/bank-transfers/accept-a-payment?payment-ui=direct-api#test-your-integration).\n\n## Links\n\n- [invoices](https://docs.stripe.com/api/invoices)\n- [reconciliation\nsection](https://docs.stripe.com/payments/customer-balance/reconciliation)\n- [Invoice settings](https://dashboard.stripe.com/settings/billing/invoice)\n-\n[API](https://docs.stripe.com/invoicing/payment-methods?dashboard-or-api=api#configure-payment-methods)\n- [Dashboard](https://docs.stripe.com/invoicing/dashboard#create-invoice)\n- [Customer preferred\nlanguages](https://docs.stripe.com/invoicing/customize#customer-language)\n- [PaymentIntents](https://docs.stripe.com/api/payment_intents)\n- [webhook](https://docs.stripe.com/webhooks)\n- [override Stripe’s automatic\nreconciliation](https://docs.stripe.com/payments/customer-balance/reconciliation#cash-manual-reconciliation)\n- [Automatic collection\nsettings](https://dashboard.stripe.com/settings/billing/automatic)\n- [funds added to the customer\nbalance](https://docs.stripe.com/payments/bank-transfers)\n- [Test your\nintegration](https://docs.stripe.com/payments/bank-transfers/accept-a-payment?payment-ui=direct-api#test-your-integration)",
  "metadata": {
    "title": "Bank transfer | Stripe Documentation",
    "description": "Allow customers to pay invoices by transferring funds to a bank account.",
    "sourceURL": "https://docs.stripe.com/invoicing/bank-transfer"
  }
}