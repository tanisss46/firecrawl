{
  "content": "# Stripe Connect and the Charges API\n\n#### Legacy API\n\nThe content of this section refers to a Legacy feature. Use the [Payment Intents\nAPI](https://docs.stripe.com/payments/accept-a-payment) instead.\n\nThe Charges API doesn’t support the following features, many of which are\nrequired for credit card compliance:\n\n- Merchants in India\n- [Bank requests for card\nauthentication](https://docs.stripe.com/payments/cards/overview)\n- [Strong Customer\nAuthentication](https://docs.stripe.com/strong-customer-authentication)\n\nLearn how [Connect](https://docs.stripe.com/connect) lets you make charges and\nissue transfers for [connected\naccounts](https://docs.stripe.com/connect/accounts). How you configure these\noptions determines your Stripe fees.\n\nConnect supports [three approaches to creating payments for a connected\naccount](https://docs.stripe.com/connect/charges). For more information about\nthe different types of Connect charges, see [the documentation on choosing an\napproach](https://docs.stripe.com/connect/charges#types). Stripe fees are\ndetermined by how you configure these options.\n\nThis page explains only how to make calls to the Charges API for connected\naccounts. Check the linked pages for more information about calls to other APIs\nfor related operations.\n\n## Direct charges\n\nTo create a direct charge on the connected account, create a Charge object and\nadd the `Stripe-Account` header with a value of the connected account ID:\n\n```\ncurl https://api.stripe.com/v1/charges \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -H \"Stripe-Account: {{CONNECTED_ACCOUNT_ID}}\" \\\n -d amount=1000 \\\n -d currency=usd \\\n -d source=tok_visa\n```\n\nThis example uses a [test\ntoken](https://docs.stripe.com/testing#cards)—**tok_visa**—but you could\ntokenize a test card using [Stripe.js and\nElements](https://docs.stripe.com/payments/elements) instead.\n\nSee [Accept a\npayment](https://docs.stripe.com/payments/accept-a-payment-charges) for more\ndetails.\n\n### Collect application fees on direct charges\n\nWith Connect, your platform can take an application fee on direct charges. To\nassess an application fee on a charge, pass an optional `application_fee_amount`\nvalue as a positive integer:\n\n```\ncurl https://api.stripe.com/v1/charges \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -H \"Stripe-Account: {{CONNECTED_ACCOUNT_ID}}\" \\\n -d amount=1000 \\\n -d currency=usd \\\n -d source=tok_visa \\\n -d application_fee_amount=123\n```\n\nSee [Direct charges](https://docs.stripe.com/connect/direct-charges) for\ninformation on transfer availability, refunds, and so on.\n\n## Destination charges\n\nTo create a destination charge, pass the connected account’s ID in the\n`transfer_data[destination]` attribute:\n\n```\ncurl https://api.stripe.com/v1/charges \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d amount=1000 \\\n -d currency=usd \\\n -d source=tok_visa \\\n -d \"transfer_data[destination]\"={{CONNECTED_ACCOUNT_ID}}\n```\n\nThis example uses a [test\ntoken](https://docs.stripe.com/testing#cards)—**tok_visa**—but you could\ntokenize a test card using [Stripe.js and\nElements](https://docs.stripe.com/payments/elements) instead.\n\nSee [Accept a\npayment](https://docs.stripe.com/payments/accept-a-payment-charges) for more\ndetails.\n\n### Collect fees on destination charges with application_fee_amount\n\nWhen creating destination charges with an `application_fee_amount`, the full\ncharge amount is immediately transferred from the platform to the\n`transfer_data[destination]` account after the charge is captured. The\n`application_fee_amount` (capped at the full amount of the charge) is then\ntransferred back to the platform.\n\n```\ncurl https://api.stripe.com/v1/charges \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d amount=1000 \\\n -d currency=usd \\\n -d source=tok_visa \\\n -d application_fee_amount=123 \\\n -d \"transfer_data[destination]\"={{CONNECTED_ACCOUNT_ID}}\n```\n\nTo provide a better reporting experience, an application fee object is created\nafter the application fee is collected. Use the `amount` property on the\napplication fee object for reporting. You can then access these objects with the\n[Application Fees](https://docs.stripe.com/api/application_fees/list) endpoint.\n\n### Collect fees on destination charges with transfer_data[amount]\n\nYou can also take a fee by using\n[transfer_data[amount]](https://docs.stripe.com/api/charges/object#charge_object-transfer_data-amount).\n\nThe `transfer_data[amount]` is a positive integer reflecting the amount of the\ncharge that’s transferred to the `transfer_data[destination]`. You subtract your\nplatform’s fees from the charge amount, then pass the result of this calculation\nas the `transfer_data[amount]`:\n\n```\ncurl https://api.stripe.com/v1/charges \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d amount=1000 \\\n -d currency=usd \\\n -d source=tok_visa \\\n -d \"transfer_data[amount]\"=877 \\\n -d \"transfer_data[destination]\"={{CONNECTED_ACCOUNT_ID}}\n```\n\nSee [Destination charges](https://docs.stripe.com/connect/destination-charges)\nfor information on transfer availability, refunds, and so on.\n\n## Separate charges and transfers\n\n#### Caution\n\nYou can only use separate charges and transfers if both your platform and the\nconnected account are in the same region. For example, if your platform account\nis in Europe, the connected needs to be in Europe too.\n\nTo create a charge and set up the associated transfer, create a `transfer_group`\nand assign the charge to the `transfer_group`.\n\n```\n# Create a Charge:\ncurl https://api.stripe.com/v1/charges \\\n -u sk_test_BQokikJOvBiI2HlWgH4olfQ2: \\\n -d \"amount\"=10000 \\\n -d \"currency\"=\"usd\" \\\n -d \"source\"=\"tok_visa\" \\\n -d \"transfer_group\"=\"{ORDER10}\"\n```\n\n```\n# Create a Transfer to a connected account (later):\ncurl https://api.stripe.com/v1/transfers \\\n -u sk_test_BQokikJOvBiI2HlWgH4olfQ2: \\\n -d \"amount\"=7000 \\\n -d \"currency\"=\"usd\" \\\n -d \"destination\"=\"{{CONNECTED_STRIPE_ACCOUNT_ID}}\" \\\n -d \"transfer_group\"=\"{ORDER10}\"\n```\n\n```\n# Create a second Transfer to another connected account (later):\ncurl https://api.stripe.com/v1/transfers \\\n -u sk_test_BQokikJOvBiI2HlWgH4olfQ2: \\\n -d \"amount\"=2000 \\\n -d \"currency\"=\"usd\" \\\n -d \"destination\"=\"{{OTHER_CONNECTED_STRIPE_ACCOUNT_ID}}\" \\\n -d \"transfer_group\"=\"{ORDER10}\"\n```\n\nThis example uses a [test\ntoken](https://docs.stripe.com/testing#cards)—**tok_visa**—but you could\ntokenize a test card using [Stripe.js and\nElements](https://docs.stripe.com/payments/elements) instead.\n\nSee [Accept a\npayment](https://docs.stripe.com/payments/accept-a-payment-charges) for more\ninformation.\n\n### Using on_behalf_of with separate charges and transfers\n\nWith separate charges and transfers, by default:\n\n- Charges are settled in the platform’s country\n- The fee structure for the platform’s country is used\n- The platform’s information is displayed on the customer’s credit card\nstatement\n\nTo use the connected account’s country and to display their information instead,\nuse the `on_behalf_of` argument.\n\n#### Caution\n\nYou can only use `on_behalf_of` with separate charges and transfers for\nconnected accounts with the\n[card_payments](https://docs.stripe.com/connect/account-capabilities#card-payments)\ncapability.\n\n```\ncurl https://api.stripe.com/v1/charges \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d amount=1000 \\\n -d currency=usd \\\n -d source=tok_visa \\\n -d on_behalf_of={{CONNECTED_ACCOUNT_ID}}\n```\n\nSee [Creating separate charges and\ntransfers](https://docs.stripe.com/connect/separate-charges-and-transfers) for\ninformation on transfer availability, refunds, and so on.\n\n## Links\n\n- [Payment Intents API](https://docs.stripe.com/payments/accept-a-payment)\n- [Bank requests for card\nauthentication](https://docs.stripe.com/payments/cards/overview)\n- [Strong Customer\nAuthentication](https://docs.stripe.com/strong-customer-authentication)\n- [Connect](https://docs.stripe.com/connect)\n- [connected accounts](https://docs.stripe.com/connect/accounts)\n- [three approaches to creating payments for a connected\naccount](https://docs.stripe.com/connect/charges)\n- [the documentation on choosing an\napproach](https://docs.stripe.com/connect/charges#types)\n- [test token](https://docs.stripe.com/testing#cards)\n- [Stripe.js and Elements](https://docs.stripe.com/payments/elements)\n- [Accept a payment](https://docs.stripe.com/payments/accept-a-payment-charges)\n- [Direct charges](https://docs.stripe.com/connect/direct-charges)\n- [Application Fees](https://docs.stripe.com/api/application_fees/list)\n-\n[transfer_data[amount]](https://docs.stripe.com/api/charges/object#charge_object-transfer_data-amount)\n- [Destination charges](https://docs.stripe.com/connect/destination-charges)\n-\n[card_payments](https://docs.stripe.com/connect/account-capabilities#card-payments)\n- [Creating separate charges and\ntransfers](https://docs.stripe.com/connect/separate-charges-and-transfers)",
  "metadata": {
    "title": "Stripe Connect and the Charges API | Stripe Documentation",
    "description": "",
    "sourceURL": "https://docs.stripe.com/payments/charges-api/connect"
  }
}