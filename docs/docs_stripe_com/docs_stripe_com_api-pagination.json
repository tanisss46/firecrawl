{
  "content": "# How pagination works\n\n## Learn how to paginate results for list and search endpoints.\n\nThe Stripe API has list and search endpoints that can return multiple objects,\nsuch as listing Customers or searching for PaymentIntents. To mitigate negative\nimpacts to performance, these endpoints don’t return all results at once.\nInstead, Stripe returns one page of results per API call, with each page\ncontaining up to 10 results by default. Use the\n[limit](https://docs.stripe.com/api/pagination#pagination-limit) parameter to\nchange the number of results per page.\n\nFor example, this is an API request to list Customers, with a `limit` of 3:\n\n```\ncurl -G https://api.stripe.com/v1/customers \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d limit=3\n```\n\nThe response from Stripe contains one page with 3 results:\n\n```\n{\n \"data\": [\n {\n \"id\": \"cus_005\",\n \"object\": \"customer\",\n \"name\": \"John Doe\",\n },\n {\n \"id\": \"cus_004\",\n \"object\": \"customer\",\n \"name\": \"Jane Doe\",\n },\n {\n \"id\": \"cus_003\",\n \"object\": \"customer\",\n \"name\": \"Jenny Rosen\",\n },\n ],\n \"has_more\": true,\n /* ... */\n}\n```\n\nKeep in mind the following details when using these endpoints:\n\n- Objects are inside the `data` property.\n- Objects are in reverse chronological order, meaning the most recently created\nobject is the first one.\n- The `has_more` property indicates if there are additional objects that weren’t\nreturned in this request.\n\nInstead of looping over the `data` array to go through objects, you should\npaginate results. This prevents you from missing some objects when the\n[has_more](https://docs.stripe.com/api/pagination#pagination-has_more) parameter\nis `true`.\n\n## Auto-pagination\n\nTo retrieve all objects, use the auto-pagination feature. This automatically\nmakes multiple API calls until `has_more` becomes `false`.\n\n```\ncustomers = Stripe::Customer.list()\n\ncustomers.auto_paging_each do |customer|\n # Do something with customer\nend\n```\n\n#### Note\n\nWhen using auto-pagination with a list endpoint and setting\n[ending_before](https://docs.stripe.com/api/pagination#pagination-ending_before),\nthe results are in chronological order, meaning the most recently created\ncustomer is the last one.\n\n## Manual pagination\n\nFollow these steps to manually paginate results. This process is different when\ncalling a list endpoint or a search endpoint.\n\nListSearch- Make an API call to list the objects that you want to find.\n\n```\ncurl https://api.stripe.com/v1/customers \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\"\n```\n\n- In the response, check the value of\n[has_more](https://docs.stripe.com/api/pagination#pagination-has_more):\n- If the value is `false`, you’ve retrieved all the objects.\n- If the value is `true`, get the ID of the last object returned, and make a new\nAPI call with the\n[starting_after](https://docs.stripe.com/api/pagination#pagination-starting_after)\nparameter set.\n\nRepeat this step until you’ve retrieved all of the objects that you want to\nfind.\n\n```\ncurl -G https://api.stripe.com/v1/customers \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d starting_after={{LAST_CUSTOMER_ID}}\n```\n\n## Links\n\n- [this\nplaylist](https://www.youtube.com/playlist?list=PLy1nL-pvL2M7AvG4xrF6gmbSUW2FBUl9p)\n- [limit](https://docs.stripe.com/api/pagination#pagination-limit)\n- [has_more](https://docs.stripe.com/api/pagination#pagination-has_more)\n-\n[ending_before](https://docs.stripe.com/api/pagination#pagination-ending_before)\n-\n[starting_after](https://docs.stripe.com/api/pagination#pagination-starting_after)",
  "metadata": {
    "title": "How pagination works | Stripe Documentation",
    "description": "Learn how to paginate results for list and search endpoints.",
    "sourceURL": "https://docs.stripe.com/api-pagination"
  }
}