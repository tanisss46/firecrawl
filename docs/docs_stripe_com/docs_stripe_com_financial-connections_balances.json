{
  "content": "# Access balances for a Financial Connections account\n\n## Learn how to access an account's balances with your user's permission.\n\nThe Financial Connections API allows you to retrieve up-to-date balances of a\n[Financial Connections\nAccount](https://docs.stripe.com/api/financial_connections/accounts). Balance\ndata is useful for a variety of applications, including reducing the risk of\ninsufficient funds failures for ACH, underwriting, or building financial\nmanagement tools.\n\n## Before you begin\n\nYou must have a completed Financial Connections registration to access balances\nin live mode. Check your [Dashboard\nsettings](https://dashboard.stripe.com/settings/financial-connections) to check\nthe state of your registration or begin the registration process. Test mode\nFinancial Connections data is always available.\n\n[Create a\ncustomerRecommendedServer-side](https://docs.stripe.com/financial-connections/balances#customer)\nWe recommend that you create a [Customer](https://docs.stripe.com/api/customers)\nwith an email address to represent your user, that you then attach to your\npayment. Attaching a Customer object allows you to [list previously linked\naccounts](https://docs.stripe.com/api/financial_connections/accounts/list)\nlater. By providing an email address on the Customer object, Financial\nConnections can improve the authentication flow by streamlining sign-in or\nsign-up for your user, depending on whether they’re a returning\n[Link](https://support.stripe.com/questions/link-for-financial-connections-support-for-businesses)\nuser.\n\n```\ncurl https://api.stripe.com/v1/customers \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d email={{CUSTOMER_EMAIL}}\n```\n\n[Request access to an account's\nbalancesServer-side](https://docs.stripe.com/financial-connections/balances#request-account-balances)\nYou must collect an account before you can access its balance data. To learn\nmore about how to collect Financial Connections Accounts consult the integration\nguide most relevant to your use case: [accept\npayments](https://docs.stripe.com/financial-connections/ach-direct-debit-payments),\n[facilitate Connect\npayouts](https://docs.stripe.com/financial-connections/connect-payouts), or\n[build other-data powered\nproducts](https://docs.stripe.com/financial-connections/other-data-powered-products).\n\nWhen collecting an account, you specify the data you need access to with the\n[permissions](https://docs.stripe.com/financial-connections/fundamentals#data-permissions)\nparameter. The set of requested data permissions are viewable by the user in the\n[authentication\nflow](https://docs.stripe.com/financial-connections/fundamentals#authentication-flow).\nFinancial Connections Accounts are collectible through various integration\npaths, and how you specify the parameter varies slightly by API.\n\nPayment IntentsSetup IntentsSessionsCheckoutInvoicesSubscriptions\n```\ncurl https://api.stripe.com/v1/payment_intents \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d amount=20000 \\\n -d currency=usd \\\n -d customer={{CUSTOMER_ID}} \\\n -d \"payment_method_types[]\"=us_bank_account \\\n-d\n\"payment_method_options[us_bank_account][financial_connections][permissions][]\"=balances\n\\\n-d\n\"payment_method_options[us_bank_account][financial_connections][permissions][]\"=payment_method\n```\n\nWhen using dynamic payment methods for certain payments APIs, you can also\nconfigure requested permissions in the Dashboard. Learn how to [access\nadditional account data on Financial Connections\naccounts](https://docs.stripe.com/financial-connections/ach-direct-debit-payments?dashboard-or-api=dashboard#access).\n\n[Initiate a balance\nrefreshServer-side](https://docs.stripe.com/financial-connections/balances#initiate-balance-refresh)\nAll Financial Connections data retrievals are asynchronous. You initiate a\nbalance refresh and wait for it to complete, then retrieve the results. You can\ninitiate balance refreshes with the `prefetch` API parameter or the [Refresh\nAPI](https://docs.stripe.com/api/financial_connections/accounts/refresh).\n\n### Prefetch balance data\n\nSpecify whether you want to prefetch account balances *before* account\ncollection. This initiates the refresh process as soon as your user connects\ntheir account in the [authentication\nflow](https://docs.stripe.com/financial-connections/fundamentals#authentication-flow).\nSet `prefetch` when you require balance data for every linked account, to make\nsure you receive it with minimal delay. An example of this is if you plan to\nperform balance checks prior to initiating an ACH payment. The `prefetch`\nparameter is available on all APIs that support Financial Connections.\n\n```\ncurl https://api.stripe.com/v1/payment_intents \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d amount=20000 \\\n -d currency=usd \\\n -d \"payment_method_types[]\"=us_bank_account \\\n-d\n\"payment_method_options[us_bank_account][financial_connections][prefetch][]\"=balances\n\\\n-d\n\"payment_method_options[us_bank_account][financial_connections][permissions][]\"=payment_method\n\\\n-d\n\"payment_method_options[us_bank_account][financial_connections][permissions][]\"=balances\n```\n\n### Initiate an on-demand refresh\n\nUse the [Refresh\nAPI](https://docs.stripe.com/api/financial_connections/accounts/refresh) to\ninitiate on-demand balance refreshes *after* account collection, and fetch\nbalance information for a specific account at your convenience, allowing you to\ndefer the decision until a later time.\n\nUse the Financial Connections account ID to initiate a refresh. If you’re\nintegrating through a payments flow, find the account ID [on the associated\nPayment\nMethod](https://docs.stripe.com/financial-connections/ach-direct-debit-payments#finding-the-financial-connections-account-id).\nWhen using a Financial Connections Session, retrieve it [through the\nsession](https://docs.stripe.com/financial-connections/other-data-powered-products?platform=web#collect-an-account).\n\n```\ncurl\nhttps://api.stripe.com/v1/financial_connections/accounts/{{ACCOUNT_ID}}/refresh\n\\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d \"features[]\"=balance\n```\n\n#### Note\n\nRefreshes aren’t allowed on inactive accounts.\n\n### Wait for the balance refresh to complete\n\nThe\n[balance_refresh](https://docs.stripe.com/api/financial_connections/accounts/object#financial_connections_account_object-balance_refresh)\nfield on a Financial Connections account represents the balance refresh state.\nThis field remains `null` until you request the `balances` permission and\ninitiate a refresh. After you start a balance refresh, the state changes to\n`pending`, and after completion, it moves to either `succeeded` or `failed`. We\nsend the\n[financial_connections.account.refreshed_balance](https://docs.stripe.com/api/events/types#event_types-financial_connections.account.refreshed_balance)\nevent when the balance refresh completes. To determine the success of the\nrefresh, check the `balance_refresh.status` field while handling the webhook.\n\nbalance_refresh: `null`\n\nbalance_refresh.status: `pending`\n\nbalance_refresh.status: `succeeded`\n\nbalance_refresh.status: `failed`\n\nfinancial_connections.account.refreshed_balance\n\nprefetchRefresh APIsuccessfailureBalance refresh flow\nAfter a balance refresh completes, Stripe sets the availability of future\nrefreshes through the\n[balance_refresh.next_refresh_available_at](https://docs.stripe.com/api/financial_connections/accounts/object#financial_connections_account_object-balance_refresh-next_refresh_available_at)\nfield. Check this field before initiating a new balance refresh to make sure\nthat refreshes are currently available. If you attempt a refresh while the value\nis `null` (as is always the case when the refresh is pending or the account is\ninactive) or the current time is less than the `next_refresh_available_at`\ntimestamp, the refresh won’t be initiated.\n\n#### Private preview\n\nIn the unlikely event that a refresh fails, the `error` field on the refresh\nhash is a preview feature that provides the cause of the failure and recommended\nnext steps. If you’d like to use it, [email\nus](mailto:financial-connections-beta+refresh-error@stripe.com) for access.\n\n[Retrieve an account's\nbalancesServer-side](https://docs.stripe.com/financial-connections/balances#retrieve-account-balances)\nAfter the balance refresh has completed, retrieve the Financial Connections\nAccount from the body of the\n[financial_connections.account.refreshed_balance](https://docs.stripe.com/api/events/types#event_types-financial_connections.account.refreshed_balance)\nevent or through the API.\n\n```\ncurl https://api.stripe.com/v1/financial_connections/accounts/{{ACCOUNT_ID}} \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\"\n```\n\nIf the refresh completed successfully, the account object contains balance data.\n\n```\n{\n \"id\": \"fca_1Jbry3BAjqvGMUSxCDjFsrLU\",\n \"object\": \"financial_connections.account\",\n \"balance\": {\n \"as_of\": 1651516592,\n \"cash\": {\n \"available\": {\n \"usd\": 6000\n }\n },\n \"current\": {\n \"usd\": 6000\n },\n \"type\": \"cash\"\n },\n \"balance_refresh\": {\n \"last_attempted_at\": 1651516582,\n \"next_refresh_available_at\": 1651516583,\n \"status\": \"succeeded\",\n },\n // ... other fields on the Financial Connections Account\n}\n```\n\n#### Balance data details\n\nThe `balance` hash describes the different types of balances made available by a\nfinancial institution.\n\nBalance TypesDescription`current`The `current` balance is the amount of funds\nthat have posted to the account. This amount ignores events that have yet to\npost to an account such as incoming transfers, outgoing transfers, and other\nholds. A positive amount indicates money owed to the account holder. A negative\namount indicates money owed by the account holder.`available`The balance object\nis polymorphic, with types `cash` and `credit`. If the balance has `type:\n\"cash\"`, you’ll see a `cash` sub-object with the `available` property, which is\nthe amount of funds available for use, such as any to be transferred or paid\nout, after considering incoming and outgoing holds.`used`The balance object is\npolymorphic, with types `cash` and `credit`. If the balance has `type:\n\"credit\"`, you’ll see a `credit` sub-object with the `used` property, which is\nthe amount of funds that have been consumed after taking outgoing holds into\naccount. For credit balances, `current` and `used` amounts use the same sign\nconvention used for cash balances: a positive amount means funds owed to the\naccount holder, a negative amount means funds owed by the account holder. In\nmost cases a credit balance has negative amounts.\nThe availability of balances varies by underlying financial institution. We\nreturn all balance data that we have access to. In rare cases, most often when\ndealing with smaller financial institutions, Stripe can’t retrieve balance data\nfrom a financial institution or partner of any kind, in which case the `balance`\nobject is `null`. The balance object is also `null` if the account has been\ndisconnected. In some instances only a `current` balance is returned. See our\nlist of [supported\ninstitutions](https://docs.stripe.com/financial-connections/supported-institutions)\nfor data coverage.\n\nFor the `cash` balance type, use the `available` sub-object to confirm\nsufficient funds exist prior to initiating an ACH Direct Debit payment. If an\n`available` balance is null, you might want to use the `current` balance to\nconfirm sufficient funds prior to initiating an ACH Direct Debit, but be mindful\nthat this amount ignores events that have yet to post to an account such as\nincoming transfers, outgoing transfers, and other holds.\n\nThe `as_of` field on a balance is the date and time that the financial\ninstitution calculated this balance. This isn’t the same as the date and time of\nbalance data retrieval. For example, certain institutions only update balance\ndata once per day, while others update more frequently.\n\n## Links\n\n- [Financial Connections\nAccount](https://docs.stripe.com/api/financial_connections/accounts)\n- [Dashboard\nsettings](https://dashboard.stripe.com/settings/financial-connections)\n- [Customer](https://docs.stripe.com/api/customers)\n- [list previously linked\naccounts](https://docs.stripe.com/api/financial_connections/accounts/list)\n-\n[Link](https://support.stripe.com/questions/link-for-financial-connections-support-for-businesses)\n- [accept\npayments](https://docs.stripe.com/financial-connections/ach-direct-debit-payments)\n- [facilitate Connect\npayouts](https://docs.stripe.com/financial-connections/connect-payouts)\n- [build other-data powered\nproducts](https://docs.stripe.com/financial-connections/other-data-powered-products)\n-\n[permissions](https://docs.stripe.com/financial-connections/fundamentals#data-permissions)\n- [authentication\nflow](https://docs.stripe.com/financial-connections/fundamentals#authentication-flow)\n- [access additional account data on Financial Connections\naccounts](https://docs.stripe.com/financial-connections/ach-direct-debit-payments?dashboard-or-api=dashboard#access)\n- [Refresh\nAPI](https://docs.stripe.com/api/financial_connections/accounts/refresh)\n- [on the associated Payment\nMethod](https://docs.stripe.com/financial-connections/ach-direct-debit-payments#finding-the-financial-connections-account-id)\n- [through the\nsession](https://docs.stripe.com/financial-connections/other-data-powered-products?platform=web#collect-an-account)\n-\n[balance_refresh](https://docs.stripe.com/api/financial_connections/accounts/object#financial_connections_account_object-balance_refresh)\n-\n[financial_connections.account.refreshed_balance](https://docs.stripe.com/api/events/types#event_types-financial_connections.account.refreshed_balance)\n-\n[balance_refresh.next_refresh_available_at](https://docs.stripe.com/api/financial_connections/accounts/object#financial_connections_account_object-balance_refresh-next_refresh_available_at)\n- [supported\ninstitutions](https://docs.stripe.com/financial-connections/supported-institutions)",
  "metadata": {
    "title": "Access balances for a Financial Connections account | Stripe Documentation",
    "description": "Learn how to access an account's balances with your user's permission.",
    "sourceURL": "https://docs.stripe.com/financial-connections/balances"
  }
}