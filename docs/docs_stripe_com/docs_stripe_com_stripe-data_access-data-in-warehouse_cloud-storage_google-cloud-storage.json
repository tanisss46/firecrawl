{
  "content": "# Export data to Google Cloud Storage\n\n## Automate recurring data exports from Stripe to your Google Cloud Storage.\n\n# Google Cloud Storage destination\n\nData pipeline can deliver copies of all your Stripe data as Parquet files into\nyour Google Cloud Storage (GCS) bucket. It includes a directory of files for\neach table, delivered, and updated every 6 hours.\n\n[Prerequisites](https://docs.stripe.com/stripe-data/access-data-in-warehouse/cloud-storage/google-cloud-storage#prerequisites)\nBefore starting the integration, make sure you have access and permission to:\n\n- Create a Google Cloud Storage bucket.\n- Create a service account enabling Stripe to create objects in the provisioned\nbucket.\n- Access the Stripe Dashboard as an admin.\n[Select Your Google Cloud\nProject](https://docs.stripe.com/stripe-data/access-data-in-warehouse/cloud-storage/google-cloud-storage#select-project)-\nNavigate to the [Google Cloud Console](https://console.cloud.google.com/).\n- Select the project that you want to send your Stripe data to.\n[Create a new Service Account and generate a JSON\nkey](https://docs.stripe.com/stripe-data/access-data-in-warehouse/cloud-storage/google-cloud-storage#create-service-account)-\nOn the [Service\nAccounts](https://console.cloud.google.com/iam-admin/serviceaccounts) page, make\nsure you’re in the correct Google Cloud Project.\n- Click **+ CREATE SERVICE ACCOUNT**.\n- Enter a name for the service account, for example,\n“<name>-stripe-data-pipeline.”\n- Add a description—for example, “This role gives Stripe access to upload data\nfiles to our bucket.”\n- Click **CREATE AND CONTINUE**.\n- In the **Select a Role** dropdown, add three roles: `Storage Object User`,\n`Storage Object Creator`, and `Storage Insights Collector Service`.\n- Click **DONE**.\n- For your new [Service\nAccount](https://console.cloud.google.com/iam-admin/serviceaccounts), click\n**Manage keys** in the **Actions** menu.\n- Click **ADD KEY ▾** and select **Create new key**.\n- Choose **Key type JSON** and click **CREATE**. The JSON file downloads to your\ndevice.\n[Create a New\nBucket](https://docs.stripe.com/stripe-data/access-data-in-warehouse/cloud-storage/google-cloud-storage#create-bucket)-\nMake sure you’re in the correct Google Cloud project by navigating to **Cloud\nStorage** > **Buckets** in the [Google Cloud\nconsole](https://console.cloud.google.com/storage/browser).\n- Click **+ CREATE**.\n- In the **Name** field, we recommend a name including “stripe,” such as\n“<name>-stripe-data.”\n- For the **Location type**, we recommend **Multi-Regional US**.\n- For the **Storage class**, we recommend **Set a default class - Standard**.\n- For the **Access Control**, choose **Prevent public access** with **Uniform**\naccess control.\n- For **Data protection**, we recommend a logical **Retention Policy**, for\nexample **7 days**.\n- Click **CREATE** button to create the bucket.\n- Select the **PERMISSIONS** tab for your newly created bucket.\n- Under **Permissions** in the **VIEW BY PRINCIPAL** tab, check the box next to\nthe Service Account you created in the previous step.\n[OptionalGenerate encryption\nkeys](https://docs.stripe.com/stripe-data/access-data-in-warehouse/cloud-storage/google-cloud-storage#generate-encryption-key)[Establishing\nyour Google Cloud Storage\nconnection](https://docs.stripe.com/stripe-data/access-data-in-warehouse/cloud-storage/google-cloud-storage#establishing-connection)-\nVisit the [Data Pipeline\nDashboard](https://dashboard.stripe.com/settings/stripe-data-pipeline).\n- Click **Get started**.\n- Select the Google Cloud Storage logo and click **Continue ->**. This step\ngenerates a bucket name.\n- Enter the bucket name generated in the previous step.\n- Upload your Service Account `.json` file generated earlier.\n- Select your data encryption option. If you chose to use a customer managed\nkey, upload your public key.\n- Click the **Next** button. Clicking this button sends test data to the bucket\nyou provided, but not production data.\n- When you confirm test data delivery, go to your [Cloud Storage\nbucket](https://console.cloud.google.com/storage/browser).\n- Open the bucket, navigate to the **penny_test** directory, and open the\n**acct_** prefixed sub-directory to locate the delivered\n`account_validation.csv` test file.\n- Click the **account_validation.csv** file.\n- Click **DOWNLOAD**.\n- Click the **Upload the test value file** and upload the downloaded\n`account_validation.csv`.\n- Click **Confirm value**.\n- When you confirm the test value, click **Subscribe**. This subscribes you to\nthe product and schedules the initial full load of data for delivery to your\nGoogle Cloud Storage bucket, a process that can take 6-12 hours.\n\n*Google Cloud Storage is a trademark of Google LLC.\n\n## Links\n\n- [Google Cloud Console](https://console.cloud.google.com/)\n- [Service Accounts](https://console.cloud.google.com/iam-admin/serviceaccounts)\n- [Google Cloud console](https://console.cloud.google.com/storage/browser)\n- [Data Pipeline\nDashboard](https://dashboard.stripe.com/settings/stripe-data-pipeline)",
  "metadata": {
    "title": "Export data to Google Cloud Storage | Stripe Documentation",
    "description": "Automate recurring data exports from Stripe to your Google Cloud Storage.",
    "sourceURL": "https://docs.stripe.com/stripe-data/access-data-in-warehouse/cloud-storage/google-cloud-storage"
  }
}