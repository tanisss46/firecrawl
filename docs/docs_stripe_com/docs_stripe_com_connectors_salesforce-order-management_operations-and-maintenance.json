{
  "content": "# About the Stripe Connector for Salesforce Order Management\n\n## Learn about the core concepts of the connector.\n\n## Payment Intents\n\nA [Payment Intent](https://docs.stripe.com/payments/payment-intents) is a Stripe\nobject you can use to track a payment through its entire lifecycle, including\nany required authentication steps. To find the `PaymentIntent` in Salesforce\nOrder Management, locate the Gateway Reference Number (`GatewayRefNumber`) field\nagainst the payment authorization record for an order summary.\n\n## Payment authorization\n\nA payment authorization is relevant to both Stripe and the Salesforce OMS. An\nauthorized amount is a sum that a business transmits to a credit or debit card\nprocessor to make sure a customer has sufficient funds to complete a\npurchase—the approved amount of money to be charged.\n\nThere are two [capture\nmodes](https://docs.stripe.com/api/payment_intents/create#create_payment_intent-capture_method)\nin the Stripe LINK cartridge for Salesforce B2C Commerce Cloud—authorize and\ncapture. If the LINK cartridge is setup to authorize a payment during checkout,\nthen a payment authorization record is created in Salesforce Order Management.\nYou can view the payment authorization against an order summary using this\nroute:\n\n**Order Summary Record > Order Payment Summary Record > Payment Authorizations\nin Related Tab**\n\nIf you don’t see `Refunds` in the **Related** tab, contact your Salesforce\nadministrator and include the payment authorization related list in the page\nlayout (as shown):\n\n!\n\nThe PaymentIntent ID (`pi_XXXXXX`) at Stripe is stored in the Gateway Reference\nNumber (`GatewayRefNumber`) field of the payment authorization record. The\nProcessing Mode (`ProcessingMode`) is set as `External`, which implies that the\npayment authorization was processed outside the Salesforce payment platform.\n\n## Payment\n\nIf the capture mode in the Stripe LINK cartridge is set to `Capture`, then the\npayment is captured from the customer. In this case, a payment record is created\nin Salesforce Order Management. You can view the payment against an Order\nSummary using this route:\n\n**Order Summary Record > Order Payment Summary Record > Payments in Related\nTab**\n\nIf you don’t see `Refunds` in the **Related tab**, contact your Salesforce\nadministrator and include the payments related list in the page layout (as\nshown):\n\n!\n\n## Balance Transaction ID\n\nThe Balance Transaction ID (`txn_XXXXXXXXX`) against the PaymentIntent\n(`pi_XXXXXX`) at Stripe is stored in the Gateway Reference Number\n(`GatewayRefNumber`) field. The Processing Mode (`ProcessingMode`) is set as\n`External`, which means the payment was processed outside the Salesforce payment\nplatform. In the event the payment was authorized in Salesforce B2C Commerce\nCloud Storefront, and the amount was captured in Salesforce OMS later, the\npayment record is represented as shown:\n\n!\n\nThe Salesforce Payment Gateway Id (`SFXXXXX`) against the Payment Intent\n(`pi_XXXXXX`) at Stripe is stored in the Gateway Reference Number\n(`GatewayRefNumber`) field. The Processing Mode (`ProcessingMode`) is set as\n`Salesforce`, which implies that the payment was processed by the Salesforce\npayment platform.\n\n## Refund\n\nIf a refund is initiated from Salesforce OMS, you can trace it to a refund\nrecord by following this route:\n\n**Order Summary Record > Order Payment Summary Record > Refunds (in the Related\ntab)**\n\nIf you don’t see `Refunds` in the **Related** tab, contact your Salesforce\nadministrator and include the refunds related list in the page layout (as\nshown):\n\n!\n\nThe Salesforce Payment Gateway Id (`SFXXXXX`) is stored in the Gateway Reference\nNumber (`GatewayRefNumber`) field. The Processing Mode (`ProcessingMode`) is set\nas `Salesforce`, which implies that the refund was processed by the Salesforce\npayment platform.\n\n## Payment gateway logs\n\nYou can view logs for the transactions made with the Salesforce Platform by\nnavigating to **Order Summary Record > Order Payment Summary Record > Gateway\nLogs** in the **Related** tab. If you don’t see the gateway logs in the\n**Related** tab, contact your Salesforce administrator and include the gateway\nlogs in the related the page layout, or execute this SOQL in Developer Console\nor SOQL Builder in VS Code:\n\n```\nSELECT Id,OrderPaymentSummaryId, ReferencedEntityId,Request, Response,\nSfRefNumber, SfResultCode, GatewayRefNumber, GatewayAuthCode, GatewayDate,\nGatewayMessage, GatewayResultCode, GatewayResultCodeDescription,\nInteractionStatus FROM PaymentGatewayLog\n```\n\n## Next steps\n\n-\n[Testing](https://docs.stripe.com/connectors/salesforce-order-management/testing)\n\n## Links\n\n- [Payment Intent](https://docs.stripe.com/payments/payment-intents)\n- [capture\nmodes](https://docs.stripe.com/api/payment_intents/create#create_payment_intent-capture_method)\n-\n[Testing](https://docs.stripe.com/connectors/salesforce-order-management/testing)",
  "metadata": {
    "title": "About the Stripe Connector for Salesforce Order Management | Stripe Documentation",
    "description": "Learn about the core concepts of the connector.",
    "sourceURL": "https://docs.stripe.com/connectors/salesforce-order-management/operations-and-maintenance"
  }
}