{
  "content": "# App manifest reference\n\n## Learn about the app manifest, an index of all fields, types, and descriptions for your app manifest file.\n\nAn app manifest describes how your app integrates with the Stripe platform.\nEvery Stripe app needs a `stripe-app.json` manifest file at the root of the\nproject directory structure.\n\nYou can update the app manifest using the [Stripe Apps\nCLI](https://docs.stripe.com/stripe-apps/reference/cli), or you can edit it\ndirectly. For instance, you can [add a\npermission](https://docs.stripe.com/stripe-apps/reference/permissions) using the\ncommand `stripe apps grant permission`, or by adding a\n[permissionRequest](https://docs.stripe.com/stripe-apps/reference/app-manifest#permissionrequest)\nto the app manifest directly.\n\nApp manifest files follow a\n[schema](https://docs.stripe.com/stripe-apps/reference/app-manifest#schema)\ndescribed on this page.\n\n## Example\n\n```\n{\n \"id\": \"com.invoicing.[YOUR_APP]\",\n \"version\": \"1.2.3\",\n \"name\": \"[YOUR APP] Shipment Invoicing\",\n \"icon\": \"./[YOUR_APP]_icon_32.png\",\n \"distribution_type\": \"public\",\n \"permissions\": [\n {\n \"permission\": \"invoice_write\",\n \"purpose\": \"Allows [YOUR APP] to add shipping line items to an invoice.\"\n },\n {\n \"permission\": \"product_read\",\n\"purpose\": \"Allows [YOUR APP] to use product sizes for calculating shipping.\"\n }\n ],\n \"ui_extension\": {\n \"views\": [\n {\n \"viewport\": \"stripe.dashboard.invoice.detail\",\n \"component\": \"AddShipping\"\n }\n ],\n \"content_security_policy\": {\n \"connect-src\": [\n \"https://api.example.com/a_specific_endpoint\",\n \"https://api.example.com/a_whole_subdirectory/\"\n ],\n \"image-src\": [\n \"https://images.example.com/one_image.jpg\",\n \"https://images.example.com/a_whole_subdirectory/\"\n ],\n\"purpose\": \"These URLs allow the app to contact [YOUR APP] for creating shipping\ndetails and loading images of shipping partner logos\"\n }\n },\n \"post_install_action\": {\n \"type\": \"external\",\n \"url\": \"https://example.com\"\n },\n \"constants\": {\n \"API_BASE\": \"https://api.example.com\"\n }\n}\n```\n\n## Schema\n\nApp manifest files are JSON files with these fields:\n\nField nameTypeExamplesidslugcom.invoicing.myappA globally unique identifier for\nyour app, defined by you. Stripe validates upon initial\nsubmission.versionstring1.2.4An app version that you define. You can use\nwhatever format you want for version identifiers.namestringMy AppThe name shown\nin the UI when referring to your app. Public distribution apps should not\ninclude the words “Stripe”, “app”, “free” or “paid”.iconstring./favicon.pngThe\nrelative path within the app bundle to a 300x300 pixel PNG icon to show\nalongside attribution.distribution_type“public” | “private”“public”The\n[distribution type](https://docs.stripe.com/stripe-apps/distribution-options)\nfor the app.sandbox_install_compatibletrue | falsetrueEnable [sandbox\ninstalls](https://docs.stripe.com/stripe-apps/enable-sandbox-support) for the\napp.stripe_api_access_type“platform” | “oauth” | “restricted_api_key”oauthThe\n[API authentication\nmethod](https://docs.stripe.com/stripe-apps/api-authentication) of your\napp.allowed_redirect_urisArray<String>noneThe URLs that users are redirected to\nafter installing your app with OAuth or with an install\nlink.permissionsArray<[PermissionRequest](https://docs.stripe.com/stripe-apps/reference/app-manifest#permissionrequest)>noneThe\npermissions required by the app in order to\nfunction.ui_extension[UIExtensionManifest](https://docs.stripe.com/stripe-apps/reference/app-manifest#uiextensionmanifest)noneConfiguration\nspecific to the “UI Extension”\ncapability.post_install_action[PostInstallAction](https://docs.stripe.com/stripe-apps/reference/app-manifest#postinstallaction)noneAn\noptional configuration to direct users to custom location after an app is\ninstalled.constantsObject`{\"API_BASE\": \"https://api.example.com/v1\"}`An object\nwith arbitrary constant values that you can access in the [UI extension context\nprops](https://docs.stripe.com/stripe-apps/reference/extensions-sdk-api#props)\nand [override for local development using the CLI manifest\nflag](https://docs.stripe.com/stripe-apps/reference/app-manifest#extended-manifest).\n### PermissionRequest\n\nA permission request has these fields:\n\nField nameTypeExamplepermissionstringcustomer_writePermissions that the app is\nrequesting. [Learn more about\npermissions](https://docs.stripe.com/stripe-apps/reference/permissions).purposestring\n| Map<locale, string>“This app loads images from images.example.com.”A\nuser-facing explanation that tells people installing your app why it needs these\npermissions.namestring“Necessary for [YOUR APP] to update invoices with selected\nshipping charges”A Stripe-facing explanation that tells app reviewers why your\napp needs these permissions.\n### UiExtensionManifest\n\nA UI extension manifest has these fields:\n\nField\nnameTypeExampleviewsArray<[ViewManifest](https://docs.stripe.com/stripe-apps/reference/app-manifest#viewmanifest)>noneReact\ncomponents that show up in the Dashboard in a distinct place. [Learn\nmore](https://docs.stripe.com/stripe-apps/design#types-of-views).content_security_policy[CSPRequest](https://docs.stripe.com/stripe-apps/reference/app-manifest#csprequest)noneRequest\nfor your UI extension to be granted access to specific URLs for a specific\npurpose.\n### ViewManifest\n\nA view manifest has these fields:\n\nField nameTypeExampleviewportstringstripe.dashboard.invoice.detailAn identifier\nthat indicates where a UI extension might appear within the Dashboard. See the\n[list of available\nviewports](https://docs.stripe.com/stripe-apps/reference/viewports).componentstringAddShippingSelectorAn\nexported React component that uses one of our [view\ncomponents](https://docs.stripe.com/stripe-apps/components#views).\n### CSPRequest\n\nA content security policy request has these fields:\n\nField\nnameTypeExampleconnect-srcArray<string>https://o0.ingest.sentry.io/api/URLs of\npermitted third-party APIs. If the URL ends in a slash, all of its children also\nreceive permission. See [Use third-party\nAPIs](https://docs.stripe.com/stripe-apps/build-ui#use-third-party-apis) for\ndetails.image-srcArray<string>https://images.example.com/URLs the\n[Img](https://docs.stripe.com/stripe-apps/components/img) component can load\nfrom. If the URL ends in a slash, all of its children also receive\npermission.purposestring | Map<locale, string>“This app loads images from\nhttps://images.example.com and sends anonymous error reports to our partner\nSentry for debugging purposes.\"An explanation to show users when the app is\ninstalled that explains why the plugin needs to communicate directly with these\nURLs.\nURLs must conform to the [CSP\nspec](https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP). We only allow\nHTTPS schemes.\n\n### PostInstallAction\n\nA post-install action has these fields:\n\nField nameTypeExampletypestring`external`, `settings`Additional action after\nusers installed your app in the Stripe Dashboard. For more information, see\n[Enable post-install\nconfiguration](https://docs.stripe.com/stripe-apps/post-install-actions).urlstringhttps://example.comExternal\nURL to redirect users to after installing your app. This is required only if the\npost-install action type is `external`.\n## Use an extended manifest file for development\n\nDuring local development you may need to use different [app\nmanifest](https://docs.stripe.com/stripe-apps/reference/app-manifest) values\nthan those you use in production. For example, your app’s backend could be\nlocated at `https://api.example.com/v1` but your local development backend runs\nat `http://localhost:8888/v1`.\n\nGiven this example of a manifest file:\n\n```\n{\n \"id\": \"com.invoicing.[YOUR_APP]\",\n \"version\": \"1.2.3\",\n \"name\": \"[YOUR APP] Shipment Invoicing\",\n \"icon\": \"./[YOUR_APP]_icon_32.png\",\n \"permissions\": [],\n \"ui_extension\": {\n \"views\": [\n {\n \"viewport\": \"stripe.dashboard.invoice.detail\",\n \"component\": \"InvoiceDetail\"\n }\n ],\n \"content_security_policy\": {\n \"connect-src\": [\"https://api.example.com/v1\"],\n \"purpose\": \"Allow the app to retrieve example data\"\n }\n },\n \"constants\": {\n \"API_BASE\": \"https://api.example.com/v1\"\n }\n}\n```\n\nCreate another manifest file called `stripe-app.[anything].json` that extends\nyour main manifest and overrides it with local values. For example:\n\n```\n{\n \"extends\": \"stripe-app.json\",\n \"ui_extension\": {\n \"content_security_policy\": {\n \"connect-src\": [\"http://localhost:8888/v1\"]\n }\n },\n \"constants\": {\n \"API_BASE\": \"http://localhost:8888/v1\"\n }\n}\n```\n\nTo use the local manifest file during development, load it using the\n`--manifest` flag. For example:\n\n```\nstripe apps start --manifest stripe-app.dev.json\n```\n\nAccess the `constants` values in your views using [context\nprops](https://docs.stripe.com/stripe-apps/reference/extensions-sdk-api#props).\nFor example:\n\n```\nimport {useEffect, useState} from 'react';\nimport type {ExtensionContextValue} from '@stripe/ui-extension-sdk/context';\nimport {Box} from '@stripe/ui-extension-sdk/ui';\n\nconst InvoiceDetail = ({environment}: ExtensionContextValue) => {\n const [data, setData] = useState(null);\n\n useEffect(() => {\n fetch(`${environment.constants.API_BASE}/some-endpoint`)\n .then(response => response.json())\n .then(json => setData(json));\n }, []);\n\n return data ? <Box>Here is your message: {data.message}</Box> : 'Loading...';\n};\n```\n\n## See also\n\n- [Stripe Apps CLI reference](https://docs.stripe.com/stripe-apps/reference/cli)\n- [Permissions\nreference](https://docs.stripe.com/stripe-apps/reference/permissions)\n- [How UI extensions\nwork](https://docs.stripe.com/stripe-apps/how-ui-extensions-work)\n\n## Links\n\n- [Stripe Apps CLI](https://docs.stripe.com/stripe-apps/reference/cli)\n- [add a permission](https://docs.stripe.com/stripe-apps/reference/permissions)\n-\n[https://api.example.com/a_specific_endpoint](https://api.example.com/a_specific_endpoint)\n-\n[https://api.example.com/a_whole_subdirectory/](https://api.example.com/a_whole_subdirectory/)\n-\n[https://images.example.com/one_image.jpg](https://images.example.com/one_image.jpg)\n-\n[https://images.example.com/a_whole_subdirectory/](https://images.example.com/a_whole_subdirectory/)\n- [https://example.com](https://example.com)\n- [https://api.example.com](https://api.example.com)\n- [distribution type](https://docs.stripe.com/stripe-apps/distribution-options)\n- [sandbox installs](https://docs.stripe.com/stripe-apps/enable-sandbox-support)\n- [API authentication\nmethod](https://docs.stripe.com/stripe-apps/api-authentication)\n- [UI extension context\nprops](https://docs.stripe.com/stripe-apps/reference/extensions-sdk-api#props)\n- [Learn more](https://docs.stripe.com/stripe-apps/design#types-of-views)\n- [list of available\nviewports](https://docs.stripe.com/stripe-apps/reference/viewports)\n- [view components](https://docs.stripe.com/stripe-apps/components#views)\n- [Use third-party\nAPIs](https://docs.stripe.com/stripe-apps/build-ui#use-third-party-apis)\n- [Img](https://docs.stripe.com/stripe-apps/components/img)\n- [CSP spec](https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP)\n- [Enable post-install\nconfiguration](https://docs.stripe.com/stripe-apps/post-install-actions)\n- [app manifest](https://docs.stripe.com/stripe-apps/reference/app-manifest)\n- [https://api.example.com/v1](https://api.example.com/v1)\n- [http://localhost:8888/v1](http://localhost:8888/v1)\n- [How UI extensions\nwork](https://docs.stripe.com/stripe-apps/how-ui-extensions-work)",
  "metadata": {
    "title": "App manifest reference | Stripe Documentation",
    "description": "Learn about the app manifest, an index of all fields, types, and descriptions for your app manifest file.",
    "sourceURL": "https://docs.stripe.com/stripe-apps/reference/app-manifest"
  }
}