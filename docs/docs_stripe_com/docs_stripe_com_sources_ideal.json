{
  "content": "# iDEAL payments with Sources\n\n## Use Sources to accept payments using iDEAL, the most popular payment method in the Netherlands.\n\n#### Warning\n\nWe deprecated the Sources API and plan to remove support for local payment\nmethods. If you currently integrate with iDEAL using the Sources API, you must\n[migrate to the Payment Methods\nAPI](https://docs.stripe.com/payments/payment-methods/transitioning).\n\nFor information about integrating iDEAL with the current APIs, see [iDEAL\npayments](https://docs.stripe.com/payments/ideal).\n\nStripe users in Europe and the United States can accept iDEAL payments from\ncustomers in the Netherlands using [Sources](https://docs.stripe.com/sources)—a\nsingle integration path for creating payments using any supported method.\n\nDuring the payment process, a [Source](https://docs.stripe.com/api#sources)\nobject is created and your customer is redirected to their bank’s website or\nmobile application to authorize the payment. After completing this, your\nintegration uses the source to make a charge request and complete the payment.\n\niDEAL is a [push](https://docs.stripe.com/sources#pull-or-push-of-funds)-based,\n[single-use](https://docs.stripe.com/sources#single-use-or-reusable) and\n[synchronous](https://docs.stripe.com/sources#synchronous-or-asynchronous-confirmation)\nmethod of payment. This means your customer takes action to send the amount to\nyou through a\n[redirect](https://docs.stripe.com/sources#flow-for-customer-action) and there\nis immediate confirmation about the success or failure of a payment.\n\n[Create a Source object](https://docs.stripe.com/sources/ideal#create-source)\nTo create a `Source` object client-side, follow the [iDEAL Bank Element\nQuickstart](https://docs.stripe.com/payments/ideal). The iDEAL Bank Element lets\nyour customers select their bank inline (rather than in an interstitial bank\nselection page) and check out faster. Once you’ve created a source object, you\ncan proceed to customer authorization in the next step.\n\n### Custom client-side source creation\n\nIf you choose to collect your customer’s bank yourself or not collect it at all,\ncreate your own form and call `stripe.createSource` as described in the\n[Stripe.js reference](https://docs.stripe.com/js#stripe-create-source). When\ndoing so, make sure to collect the following information from your customer:\n\nParameterValue`type`ideal`amount`A positive integer in the [smallest currency\nunit](https://docs.stripe.com/currencies#zero-decimal) representing the amount\nto charge the customer (for example, 1099 for a 10.99 EUR payment).`currency`eur\n(iDEAL must always use Euros)`ideal[bank]` (optional)The customer’s\nbank.`redirect[return_url]`The URL the customer should be redirected to after\nthe authorization process.`statement_descriptor` (optional)A custom statement\ndescriptor for the payment.\n### Server-side source creation\n\nA `Source` object can also be created server-side using the [Source creation\nendpoint](https://docs.stripe.com/api#create_source) with the above parameters.\n\nUsing either method, Stripe returns a `Source` object containing the relevant\ndetails for the method of payment used. Information specific to iDEAL is\nprovided within the `ideal` subhash.\n\n```\n{\n \"id\": \"src_16xhynE8WzK49JbAs9M21jaR\",\n \"object\": \"source\",\n \"amount\": 1099,\n \"client_secret\": \"src_client_secret_UfwvW2WHpZ0s3QEn9g5x7waU\",\n \"created\": 1445277809,\n \"currency\": \"eur\",\n \"flow\": \"redirect\",\n \"livemode\": true,\n \"owner\": {\n```\n\nSee all 35 lines\n### Source creation in mobile applications\n\nIf you’re building an iOS or Android app, you can implement sources using our\nmobile SDKs. Refer to our sources documentation for\n[iOS](https://docs.stripe.com/mobile/ios/sources) or\n[Android](https://docs.stripe.com/mobile/android/sources) to learn more.\n\n### Optional: Providing a custom statement descriptor\n\niDEAL requires a [statement\ndescriptor](https://support.stripe.com/questions/when-i-charge-a-customer-what-will-they-see-on-their-card-statements)\nbefore the customer is redirected to authenticate the payment. By default, your\nStripe account’s statement descriptor is used (you can review this in the\n[Dashboard](https://dashboard.stripe.com/settings/public)). You can provide a\ncustom descriptor by specifying `statement_descriptor` when creating a source.\n\n```\nstripe.createSource({\n type: 'ideal',\n amount: 1099,\n currency: 'eur',\n statement_descriptor: 'ORDER AT11990',\n owner: {\n name: 'Jenny Rosen',\n },\n redirect: {\n return_url: '__TOKEN_PLACEHOLDER_0__',\n },\n}).then(function(result) {\n // handle result.error or result.source\n});\n```\n\nProviding a custom statement descriptor within a subsequent charge request has\nno effect.\n\n### Optional: Specifying the customer’s bank\n\nWhen your customer is redirected, they’re first presented with a page to select\nwhich bank they use and complete authentication. If you already know which bank\nyour customer uses for iDEAL payments, or request this during the checkout\nprocess, you can optionally provide the `ideal[bank]` parameter when creating a\nsource and one of the following values. This allows your customer to be\nimmediately redirected to their bank. The supported values for `ideal[bank]`\nare:\n\nBank nameValueABN AMRO`abn_amro`ASN\nBank`asn_bank`Bunq`bunq`ING`ing`Knab`knab`N26`n26`Nationale-Nederlanden`nn`Rabobank`rabobank`Revolut`revolut`RegioBank`regiobank`SNS\nBank (De Volksbank)`sns_bank`Triodos Bank`triodos_bank`Van\nLanschot`van_lanschot`Yoursafe`yoursafe`\n### Error codes\n\nSource creation for iDEAL payments may return any of the following errors:\n\nErrorDescription`payment_method_not_available`The payment method is currently\nnot available. You should invite your customer to fallback to another payment\nmethod to proceed.`processing_error`An unexpected error occurred preventing us\nfrom creating the source. The source creation should be\nretried.`invalid_ideal_bank`The iDEAL bank parameter is invalid. It must be one\nof the values provided above.[Have the customer authorize the\npayment](https://docs.stripe.com/sources/ideal#customer-action)\nWhen creating a source, its status is initially set to `pending` and cannot yet\nbe used to make a charge request. Your customer must authorize an iDEAL payment\nto make the source chargeable. To allow your customer to authorize the payment,\nredirect them to the URL provided within the`redirect[url]` attribute of the\n`Source` object.\n\nAfter the authorization process, your customer is redirected back to the URL\nprovided as a value of `redirect[return_url]`. This happens regardless of\nwhether authorization was successful or not. If the customer has authorized the\npayment, the `Source` object’s status will transition to `chargeable` when it is\nready to be used in a charge request. If your customer declines the payment, the\nstatus will transition to `failed`.\n\nStripe populates the `redirect[return_url]` with the following GET parameters\nwhen returning your customer to your website:\n\n- `source`: a string representing the original ID of the `Source` object\n- `livemode`: indicates if this is a live payment, either `true` or `false`\n- `client_secret`: used to confirm that the returning customer is the same one\nwho triggered the creation of the source (source IDs are not considered secret)\n\nYou may include any other GET parameters you may need when specifying\n`redirect[return_url]`. Do not use the above as parameter names yourself as\nthese would be overridden with the values we populate.\n\n### Mobile applications\n\nTo integrate iDEAL within a mobile application, provide your application URI\nscheme as the `redirect[return_url]` value. By doing so, your customers are\nreturned to your app after completing authorization. Refer to our Sources\ndocumentation for [iOS](https://docs.stripe.com/mobile/ios/sources) or\n[Android](https://docs.stripe.com/mobile/android/sources) to learn more.\n\nIf you are integrating without using our mobile SDKs, the redirect URL must be\nopened using the device’s native browser. The use of in-app web views and\ncontainers is prohibited by iDEAL and can prevent your customer from completing\nauthentication—resulting in a lower conversion rate.\n\n### Testing the redirect process\n\nWhen creating a `Source` object using your test API keys, you can follow the URL\nreturned in the `redirect[url]` field. This leads to a Stripe page that displays\ninformation about the API request, and where you can either authorize or cancel\nthe payment. Authorizing the payment redirects you to the URL specified in\n`redirect[return_url]`.\n\nAlternatively, to accelerate testing, use the following value for\n`owner[email]`, where `xxx_` is any prefix of your choice (these patterns are\nsignificant only in testmode):\n\nEmail AddressEffect`xxx_chargeable@example.com`The source will be created as\n`pending`, but automatically transition to `chargeable` within seconds of its\ncreation.[Charge the\nSource](https://docs.stripe.com/sources/ideal#charge-request)\nOnce the customer has authenticated the payment, the source’s `status`\ntransitions to `chargeable` and it can be used to make a charge request. This\ntransition happens asynchronously and may occur after the customer was\nredirected back to your website.\n\nSome customers using iDEAL assume that the order process is complete once they\nhave authenticated the payment and received confirmation from their bank. This\nresults in customers who close their browser instead of following the redirect\nand returning to your app or website.\n\nFor these reasons it is essential that your integration rely on\n[webhooks](https://docs.stripe.com/webhooks) to determine when the source\nbecomes chargeable in order to create a charge. Please refer to our [best\npractices](https://docs.stripe.com/sources/best-practices) for more details on\nhow to best integrate payment methods using webhooks.\n\n### Webhooks\n\nThe following webhook events are sent to notify you about changes to the\nsource’s status:\n\nEventDescription`source.chargeable`A `Source` object becomes `chargeable` after\na customer has authenticated and verified a payment.`source.failed`A `Source`\nobject failed to become chargeable as your customer declined to authenticate the\npayment.`source.canceled`A `Source` object expired and cannot be used to create\na charge.\n### Make a charge request using the source\n\nOnce the source is chargeable, from your `source.chargeable` webhook handler,\nyou can make a charge request using the source ID as the value for the `source`\nparameter to complete the payment.\n\n```\ncurl https://api.stripe.com/v1/charges \\\n -u sk_test_BQokikJOvBiI2HlWgH4olfQ2: \\\n -d amount=\"1099\" \\\n -d currency=\"eur\" \\\n -d source=src_18eYalAHEMiOZZp1l9ZTjSU0\n```\n\niDEAL Sources are\n[single-use](https://docs.stripe.com/sources#single-use-or-reusable) and cannot\nbe used for recurring or additional payments.\n\nRefer to our [Sources & Customers](https://docs.stripe.com/sources/customers)\nguide for more information on how single-use Sources interact with\n[Customers](https://docs.stripe.com/api/customers).\n\n[Confirm that the charge has\nsucceeded](https://docs.stripe.com/sources/ideal#charge-confirmation)\nSince iDEAL is a\n[synchronous](https://docs.stripe.com/sources#synchronous-or-asynchronous-confirmation)\npayment method and the customer has already authenticated the payment as part of\nthe redirect, unless there is an unexpected error, the\n[Charge](https://docs.stripe.com/api#charge_object) will immediately succeed.\n\nYou will also receive the following webhook event as the charge is created:\n\nEventDescription`charge.succeeded`The charge succeeded and the payment is\ncomplete.\nWe recommend that you rely on the `charge.succeeded` webhook event to notify\nyour customer that the payment process has been completed and their order is\nconfirmed. Please refer to our [best\npractices](https://docs.stripe.com/sources/best-practices) for more details on\nhow to best integrate payment methods using webhooks.\n\n### Disputed payments\n\nThe risk of fraud or unrecognized payments is extremely low with iDEAL as the\ncustomer must authenticate the payment with their bank. As such, there is no\ndispute process that can result in a chargeback and funds withdrawn from your\nStripe account.\n\n### Refunds\n\nPayments made with iDEAL can only be submitted for refund within 180 days from\nthe date of the original charge. After 180 days, it is no longer possible to\nrefund the charge.\n\n### Sources expiration\n\nA source must be used within six hours of becoming `chargeable`. If it is not,\nits status is automatically transitioned to `canceled` and your integration\nreceives a `source.canceled` webhook event. Additionally, `pending` sources are\ncanceled after one hour if they’re not used to authenticate a payment.\n\nOnce a source is canceled, the customer’s authenticated payment is refunded\nautomatically—no money is moved into your account. For this reason, make sure\nthe order is canceled on your end and the customer is notified once you receive\nthe `source.canceled` event.\n\n## See also\n\n- [Other supported payment methods](https://docs.stripe.com/sources)\n- [Sources API reference](https://docs.stripe.com/api#sources)\n- [Best practices](https://docs.stripe.com/sources/best-practices)\n\n## Links\n\n- [migrate to the Payment Methods\nAPI](https://docs.stripe.com/payments/payment-methods/transitioning)\n- [iDEAL payments](https://docs.stripe.com/payments/ideal)\n- [Dashboard](https://dashboard.stripe.com/account/payments/settings)\n- [iDEAL Terms of Service](https://stripe.com/ideal/legal)\n- [Sources](https://docs.stripe.com/sources)\n- [Source](https://docs.stripe.com/api#sources)\n- [push](https://docs.stripe.com/sources#pull-or-push-of-funds)\n- [single-use](https://docs.stripe.com/sources#single-use-or-reusable)\n-\n[synchronous](https://docs.stripe.com/sources#synchronous-or-asynchronous-confirmation)\n- [redirect](https://docs.stripe.com/sources#flow-for-customer-action)\n- [Stripe.js reference](https://docs.stripe.com/js#stripe-create-source)\n- [smallest currency unit](https://docs.stripe.com/currencies#zero-decimal)\n- [Source creation endpoint](https://docs.stripe.com/api#create_source)\n- [iOS](https://docs.stripe.com/mobile/ios/sources)\n- [Android](https://docs.stripe.com/mobile/android/sources)\n- [statement\ndescriptor](https://support.stripe.com/questions/when-i-charge-a-customer-what-will-they-see-on-their-card-statements)\n- [Dashboard](https://dashboard.stripe.com/settings/public)\n- [webhooks](https://docs.stripe.com/webhooks)\n- [best practices](https://docs.stripe.com/sources/best-practices)\n- [Sources & Customers](https://docs.stripe.com/sources/customers)\n- [Customers](https://docs.stripe.com/api/customers)\n- [Charge](https://docs.stripe.com/api#charge_object)",
  "metadata": {
    "title": "iDEAL payments with Sources | Stripe Documentation",
    "description": "Use Sources to accept payments using iDEAL, the most popular payment method in the Netherlands.",
    "sourceURL": "https://docs.stripe.com/sources/ideal"
  }
}