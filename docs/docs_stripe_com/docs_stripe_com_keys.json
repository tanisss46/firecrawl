{
  "content": "# API keys\n\n## Use API keys to authenticate API requests.\n\nStripe authenticates your API requests using your account’s API keys. If a\nrequest doesn’t include a valid key, Stripe returns an [invalid request\nerror](https://docs.stripe.com/error-handling#invalid-request-errors). If a\nrequest includes a deleted or expired key, Stripe returns an [authentication\nerror](https://docs.stripe.com/error-handling#authentication-errors).\n\nUse the [Developers Dashboard](https://dashboard.stripe.com/test/apikeys) to\ncreate, reveal, delete, and roll API keys. To access your v1 API keys, select\nthe **API Keys** tab in your Dashboard.\n\n## Sandbox versus live mode\n\nAll Stripe API requests occur in either a\n[sandbox](https://docs.stripe.com/sandboxes) or live mode. Use a sandbox to\naccess test data, and live mode to access actual account data. Each mode has its\nown set of API keys. Objects in one mode aren’t accessible to the other. For\ninstance, a sandbox [product\nobject](https://docs.stripe.com/api/products/object) can’t be part of a\nlive-mode payment.\n\n#### Live mode key access\n\nYou can only reveal a live mode secret or restricted API key one time. If you\nlose it, you can’t retrieve it from the Dashboard. In that case, roll it or\ndelete it and create a new one.\n\nType When to useObjectsHow to useConsiderationssandboxesUse a sandbox, and its\nassociated test API keys, as you build your integration. In a sandbox, card\nnetworks and payment providers don’t process payments.API calls return simulated\nobjects. For example, you can retrieve and use test `account`, `payment`,\n`customer`, `charge`, `refund`, `transfer`, `balance`, and `subscription`\nobjects.Use [test credit cards and\naccounts](https://docs.stripe.com/testing#cards). You can’t accept real payment\nmethods or work with real accounts.[Identity](https://docs.stripe.com/identity)\ndoesn’t perform any verification checks. Also, Connect [account\nobjects](https://docs.stripe.com/api/accounts/object) don’t return sensitive\nfields.live modeUse live mode, and its associated live API keys, when you’re\nready to launch your integration and accept real money. In live mode, card\nnetworks and payment providers do process payments.API calls return real\nobjects. For example, you can retrieve and use real `account`, `payment`,\n`customer`, `charge`, `refund`, `transfer`, `balance`, and `subscription`\nobjects.Accept real credit cards and work with customer accounts. You can accept\nactual payment authorizations, charges, and captures for credit cards and\naccounts.Disputes have a more nuanced flow and a simpler [testing\nprocess](https://docs.stripe.com/testing#disputes). Also, some [payment\nmethods](https://docs.stripe.com/payments/payment-methods) have a more nuanced\nflow and require more steps.\n## Secret and publishable keys\n\nAll accounts have a total of four API keys by default—two in a\n[sandbox](https://docs.stripe.com/sandboxes), and two in live mode:\n\n- **Sandbox secret key**: Use this key to authenticate requests on your server\nwhen you’re testing in a sandbox. By default, you can use this key to perform\nany API request without restriction.\n- **Sandbox publishable key**: Use this key for testing purposes in your web or\nmobile app’s client-side code.\n- **Live mode secret key**: Use this key to authenticate requests on your server\nwhen in live mode. By default, you can use this key to perform any API request\nwithout restriction.\n- **Live mode publishable key**: Use this key, when you’re ready to launch your\napp, in your web or mobile app’s client-side code.\n\n#### Testing and development\n\nUse only your test API keys for testing and development. This ensures that you\ndon’t accidentally modify your live customers or charges.\n\nYou can find your secret and publishable keys in [API\nkeys](https://dashboard.stripe.com/test/apikeys). When you’re logged in,\nStripe’s documentation automatically populates code examples with your test API\nkeys (only you can see these values). If you’re not logged in, our code examples\ninclude randomly generated API keys. You can replace them with your own test\nkeys or [log\nin](https://dashboard.stripe.com/login?redirect=https%3A%2F%2Fdocs.stripe.com%2Fkeys)\nto see the code examples populated with your test API keys. If you can’t view\nyour API keys, ask the owner of your Stripe account to add you to their\n[team](https://docs.stripe.com/get-started/account/teams), with the proper\npermissions.\n\nThe following table shows randomly generated examples of secret and publishable\ntest API keys:\n\n#### Restricted API keys\n\nThe Dashboard can also generate restricted API keys, enabling customizable and\nlimited access to the API. However, Stripe doesn’t offer any restricted keys by\ndefault.\n\nType Value When to useSecret`sk_test_BQokikJOvBiI2HlWgH4olfQ2`On the server\nside: Must be secret and stored securely in your web or mobile app’s server-side\ncode (such as in an environment variable or credential management system) to\ncall Stripe APIs. Don’t expose this key on a website or embed it in a mobile\napplication.Publishable`pk_test_TYooMQauvdEDq54NiTphI7jx`On the client side: Can\nbe publicly accessible in your web or mobile app’s client-side code (such as\ncheckout.js) to securely collect payment information, such as with [Stripe\nElements](https://docs.stripe.com/payments/elements). By default, [Stripe\nCheckout](https://docs.stripe.com/payments/checkout) securely collects payment\ninformation.RestrictedA string that starts with `rk_test_`In microservices: Must\nbe secret and stored securely in your microservice code to call Stripe APIs.\nDon’t expose this key on a website or embed it in a mobile application.\n### Keep your keys safe\n\nAnyone can use your live mode secret API key to make any API call on behalf of\nyour account, such as creating a charge or performing a refund. Keep your keys\nsafe by following the [secret API keys best\npractices](https://docs.stripe.com/keys-best-practices).\n\n#### Customize API access with restricted API keys\n\nTo provide limited access to the API, [create restricted API\nkeys](https://dashboard.stripe.com/test/apikeys/create). You can configure a\nrestricted API key to allow read or write access to specific API resources. When\nusing microservices that interact with the API on your behalf, define restricted\nkeys that allow only the minimum access those microservices require. For\nexample, if you use a dispute monitoring service, create a restricted key that\nonly provides read access to dispute-related resources. That key allows the\nservice to get the data it needs, but doesn’t allow it to make any changes or\naccess any other data.\n\nRestricted keys can’t interact with many parts of Stripe’s API because they’re\nonly intended to reduce risk when using or building microservices. Don’t use\nrestricted keys as an alternative to your account’s secret or publishable API\nkeys during development of your Stripe integration.\n\n#### Permission errors\n\nIf you use a restricted API key in a call it doesn’t have access to, Stripe\nraises a [permission\nerror](https://docs.stripe.com/error-handling#permission-errors).\n\n#### Limit the IP addresses that can send API requests\n\nYou can increase the security of a secret or restricted key by limiting the IP\naddresses that can use it to send API requests. Additionally, you can [restrict\na key to one or more IP addresses or to a range of IP\naddresses](https://docs.stripe.com/keys#limit-api-secret-keys-ip-address).\n\n## Reveal a secret API key in a sandbox\n\nWith sandboxes, you can reveal a secret API key as many times as you want.\n\nTo reveal a secret key in a sandbox:\n\n- In the Developers Dashboard, select the [API\nkeys](https://dashboard.stripe.com/test/apikeys) tab.\n- In the **Standard keys** list, in the **Secret key** row, click **Reveal test\nkey**.\n- the key value by clicking it.\n- Save the key value.\n- Click **Hide test key**.\n\n## Reveal a secret or restricted API key for live mode\n\nFor security, in live mode Stripe only shows you a secret or restricted API key\none time. Store the key in a safe place where you won’t lose it. To help\nyourself remember where you stored it, you can leave a note on the key in the\nDashboard. If you lose the key, you can roll it or delete it and create another.\n\n#### You can't reveal a live mode secret key that you created\n\nAfter you create a secret or restricted API key in live mode, we display the\nvalue before you save it. You must copy the value before saving it because you\ncan’t reveal it later. You can only reveal a default secret key or a key\ngenerated by a scheduled roll.\n\nTo reveal a secret or restricted key in live mode and attach a note:\n\n#### Note\n\nThe `API keys` link here opens in live mode.\n\n- In the Developers Dashboard, select the [API\nkeys](https://dashboard.stripe.com/apikeys) tab.\n- In the **Standard keys** list or **Restricted keys** list, in the row for the\nkey you want to reveal, click **Reveal live key**.\n- the key value by clicking it.\n- Save the key value.\n- Click **Hide test key**.\n- Click the overflow menu () next to the key, then select **Edit key**.\n- In the **Note** field, enter the location where you saved the key, then click\n**Save**.\n- If you created the key before Stripe introduced this feature, click **Hide\nlive key**.\n\n#### Note\n\nKeys that you created before Stripe introduced this feature aren’t automatically\nhidden when they’re revealed. You must manually hide them.\n\n## Roll an API key\n\nRolling a key revokes it and generates a replacement key. You can roll a key\nimmediately or schedule a key to roll after a certain time. Roll a key in\nscenarios such as the following examples:\n\n- If you’re in live mode and you lose a secret key or restricted key, you can’t\nrecover it from the Dashboard and must replace it.\n- If a secret or restricted key is compromised, you need to revoke it to block\nany potentially malicious API requests that might use it.\n- Your policy requires rotating keys at certain intervals.\n\nTo roll an API key:\n\n- Open the [API keys](https://dashboard.stripe.com/test/apikeys) page.\n- In the row for the key you want to roll, click the overflow menu (), then\nselect **Roll key**.\n- Choose an expiration date from the **Expiration** dropdown.\n- Click **Roll API key**.\n- The dialog displays the new key value. it by clicking it.\n- Save the key value. You can’t retrieve it later.\n- In the **Add a note** field, enter the location where you saved the key and\nclick **Done** or **Save**.\n\nIf you chose **Now** for the **Expiration**, we delete the old key. If you\nselected a different time, you can see the time remaining until the key expires\nbelow its name.\n\nRegardless of the old key’s expiration time, the new key is ready to use\nimmediately.\n\nWhen you roll a publishable key, the replacement key’s name is always\n`Publishable key`. When you roll a secret key, the replacement key’s name is\nalways `Secret key`. When you roll a restricted key, the replacement key’s name\nis the same as the rolled key. You can rename a secret or restricted key by\nclicking its overflow menu and selecting **Edit key**.\n\n## Delete a secret or restricted API key\n\nIf you delete a key, any code that uses that key can no longer make API calls.\nCreate a new key and update the code to use it.\n\n#### Note\n\nYou can’t delete a publishable key.\n\nTo delete a key:\n\n- In the Developers Dashboard, select the [API\nkeys](https://dashboard.stripe.com/test/apikeys) tab.\n- Locate the key you want to delete in either the **Standard keys** or\n**Restricted keys** list. Click the overflow menu icon () in the row of that\nkey, then select **Delete key**.\n- In the Delete API key dialog, if you’re sure that you want to delete the key,\nclick **Delete key**. Otherwise, click **Cancel**.\n\n## Create a secret API key\n\nTo create a secret API key:\n\n- Open the [API keys](https://dashboard.stripe.com/test/apikeys) page.\n- Click **Create secret key**.\n- Stripe sends a verification code to your email address or in a text message.\n(As with any email or text message, it might not arrive immediately.) Enter the\ncode in the dialog. If the dialog doesn’t continue automatically, click\n**Continue**.\n- Enter a name in the **Key name** field.\n- Click **Create**.\n- The dialog displays the new key value. it by clicking it.\n- Save the key value. You can’t retrieve it later.\n- In the **Add a note** field, enter the location where you saved the key and\nclick **Done**.\n\n## Create a restricted API key\n\nA [restricted API key](https://docs.stripe.com/keys#limit-access) only allows\nthe level of access that you specify.\n\nTo create a restricted API key:\n\n- Open the [API keys](https://dashboard.stripe.com/test/apikeys) page.\n- You can create a restricted key from scratch or start by cloning an existing\nrestricted key.- To create a restricted key from scratch, click **Create\nrestricted key**. In this case, the default value for all permissions is\n**None**.\n- To clone an existing key, in the row for the key you want to clone, click the\noverflow menu (), then select **Duplicate key**. In this case, the default value\nfor each permission is its value in the cloned key.\n- In the **Key name** field, enter a name. If you cloned an existing key, the\ndefault name is the cloned key’s name.\n- For each resource you want the new key to access, select the permission for\nthis key to allow. If you use Connect, you can also select the permission for\nthis key to allow when accessing connected accounts. Available permissions are\n**None**, **Read**, or **Write**.\n- Click **Create key**.\n- Stripe sends a verification code to your email address or in a text message.\n(As with any email or text message, it might not arrive immediately.) Enter the\ncode in the dialog. If the dialog doesn’t continue automatically, click\n**Continue**.\n- The dialog displays the new key value. it by clicking it.\n- Save the key value. You can’t retrieve it later.\n- In the **Add a note** field, enter the location where you saved the key and\nclick **Done**.\n\n## Limit secret or restricted keys to a list or range of IP addresses\n\nTo limit API requests using a key to one or more specific IP addresses or to a\nrange of IP addresses:\n\n#### Valid IP address ranges\n\nYou can specify any valid CIDR range. For example, a valid range could be\n`100.10.38.0 - 100.10.38.255`, specified as `100.10.38.0/24`. All addresses in\nthe range must start with `100.10.38`.\n\n- Open the [API keys](https://dashboard.stripe.com/test/apikeys) page.\n- In the **Standard keys** list or **Restricted keys** list, in the row for the\nkey you want to reveal, click the overflow menu (), then select **Manage IP\nrestrictions**.\n- Click **Limit use to a set of IP addresses**.\n- Enter an IP address or range of IP addresses:- For an individual IP address,\nenter it in the **IP address** field.\n- For a range of IP addresses, enter the range in Classless Inter-Domain Routing\n(CIDR) notation. In the **IP Address** field, enter the first address in the\nrange. In the **CIDR** field, enter the network prefix size.\n- You can also select the **Bulk manage** tab and enter individual IP addresses\nand ranges, separated by spaces. Changes you make in one tab appear in the other\ntab.\n- To add another address or range, click **+ Add**.\n- Click **Save**.\n\n## Change a secret or restricted API key’s name or note\n\nTo change the name or note text of a secret or restricted key:\n\n- Open the [API keys](https://dashboard.stripe.com/test/apikeys) page.\n- In the row for the key you want to change, click the overflow menu (), then\nselect **Edit key**.\n- If you want to change the name, in **Key name**, enter the new name.\n- If you want to change the note text, in **Note**, enter the new note text.\n- Click **Save**.\n\n## View the API request logs\n\nTo [open the API request\nlogs](https://docs.stripe.com/development/dashboard/request-logs), click the\noverflow menu () for any key, then select **View request logs**. Opening the\nlogs redirects you to the main Stripe Dashboard.\n\n## Links\n\n- [invalid request\nerror](https://docs.stripe.com/error-handling#invalid-request-errors)\n- [authentication\nerror](https://docs.stripe.com/error-handling#authentication-errors)\n- [Developers Dashboard](https://dashboard.stripe.com/test/apikeys)\n- [sandbox](https://docs.stripe.com/sandboxes)\n- [product object](https://docs.stripe.com/api/products/object)\n- [test credit cards and accounts](https://docs.stripe.com/testing#cards)\n- [Identity](https://docs.stripe.com/identity)\n- [account objects](https://docs.stripe.com/api/accounts/object)\n- [testing process](https://docs.stripe.com/testing#disputes)\n- [payment methods](https://docs.stripe.com/payments/payment-methods)\n- [log\nin](https://dashboard.stripe.com/login?redirect=https%3A%2F%2Fdocs.stripe.com%2Fkeys)\n- [team](https://docs.stripe.com/get-started/account/teams)\n- [Stripe Elements](https://docs.stripe.com/payments/elements)\n- [Stripe Checkout](https://docs.stripe.com/payments/checkout)\n- [secret API keys best practices](https://docs.stripe.com/keys-best-practices)\n- [create restricted API keys](https://dashboard.stripe.com/test/apikeys/create)\n- [permission error](https://docs.stripe.com/error-handling#permission-errors)\n- [API keys](https://dashboard.stripe.com/apikeys)\n- [restricted API key](https://docs.stripe.com/keys#limit-access)\n- [open the API request\nlogs](https://docs.stripe.com/development/dashboard/request-logs)",
  "metadata": {
    "title": "API keys | Stripe Documentation",
    "description": "Use API keys to authenticate API requests.",
    "sourceURL": "https://docs.stripe.com/keys"
  }
}