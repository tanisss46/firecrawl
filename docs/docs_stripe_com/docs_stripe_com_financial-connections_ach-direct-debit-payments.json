{
  "content": "# Collect a bank account to optimize ACH Direct Debit payments with account data\n\n## Use account data such as balances to optimize your payments integration.\n\nStripe offers a number of ways to accept ACH Direct Debit payments from your\nusers. All of these methods require that you\n[verify](https://docs.stripe.com/payments/ach-direct-debit#verification) the\nuser’s account before you can debit their account. Financial Connections is the\nsecure method offered by Stripe to perform instant bank account verification,\nthat’s also extensible to more powerful features such as balance or ownership\nchecks. When using Financial Connections to power your ACH flows, you can:\n\n- Reduce payment failure rate from closed or inactive accounts\n- Improve payments conversion by keeping users on session, instead of forcing\nthem to leave your payments flow to locate their account and routing numbers\n- Save development time by eliminating the need to create a custom bank account\ncollection form\n- Enable the collection of additional bank account data, such as balances and\nownership information, to further optimize your integration\n\n## Before you begin\n\nFinancial Connections is the default verification method for all hosted ACH\npayment flows, such as Checkout or the Payment Element. If you use a hosted\nflow, skip directly to [accessing additional account\ndata](https://docs.stripe.com/financial-connections/ach-direct-debit-payments#access).\nIf you’re not already set up to collect ACH payments, [set that\nup](https://docs.stripe.com/payments/ach-direct-debit/accept-a-payment?platform=web&ui=stripe-hosted)\nfirst.\n\n[Enable Financial\nConnections](https://docs.stripe.com/financial-connections/ach-direct-debit-payments#enable)\nThe `verification_method` parameter on various API resources controls whether\nFinancial Connections is enabled for bank account verification. Financial\nConnections with microdeposit fallback is the default.\n\n#### Common mistake\n\nBank accounts that your customers link through manual entry and microdeposits\nwon’t have access to additional bank account data like balances, ownership, and\ntransactions.\n\nVerification methodDescription`automatic` (default)Financial Connections with\nthe option to manually enter bank account information and use\nmicrodeposits`instant`Financial Connections only, with no manual entry +\nmicrodeposit fallback`microdeposits`Manual entry and microdeposits only\nThis option is available on the following APIs:\n\n-\n[PaymentIntent](https://docs.stripe.com/api/payment_intents/create#create_payment_intent-payment_method_options-us_bank_account-verification_method)\n-\n[SetupIntent](https://docs.stripe.com/api/setup_intents/create#create_setup_intent-payment_method_options-us_bank_account-verification_method)\n-\n[CheckoutSession](https://docs.stripe.com/api/checkout/sessions/create#create_checkout_session-payment_method_options-us_bank_account-verification_method)\n-\n[Invoice](https://docs.stripe.com/api/invoices/create#create_invoice-payment_settings-payment_method_options-us_bank_account-verification_method)\n-\n[Subscription](https://docs.stripe.com/api/subscriptions/create#create_subscription-payment_settings-payment_method_options-us_bank_account-verification_method)\n- [Payment\nElement](https://docs.stripe.com/js/elements_object/create_without_intent#stripe_elements_no_intent-options-paymentMethodOptions-us_bank_account-verification_method)\n[Create a\ncustomerRecommended](https://docs.stripe.com/financial-connections/ach-direct-debit-payments#customer)\nWe recommend that you create a [Customer](https://docs.stripe.com/api/customers)\nwith an email address to represent your user, that you then attach to your\npayment. Attaching a Customer object allows you to [list previously linked\naccounts](https://docs.stripe.com/api/financial_connections/accounts/list)\nlater. By providing an email address on the Customer object, Financial\nConnections can improve the authentication flow by streamlining sign-in or\nsign-up for your user, depending on whether they’re a returning\n[Link](https://support.stripe.com/questions/link-for-financial-connections-support-for-businesses)\nuser.\n\n```\ncurl https://api.stripe.com/v1/customers \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d email={{CUSTOMER_EMAIL}}\n```\n\n[Request access to additional account\ndata](https://docs.stripe.com/financial-connections/ach-direct-debit-payments#access)\nTo access additional account data on Financial Connections Accounts, first make\nsure you’ve submitted your Financial Connections application by checking\n[Financial Connections settings in the\nDashboard](https://dashboard.stripe.com/settings/financial-connections). To view\nthis page, activate your account. How you configure which types of account data\nyou have access to depends on your integration.\n\nDynamic payment methodsPayment method types\nIf you use Stripe’s [dynamic payment method\nfeature](https://docs.stripe.com/payments/payment-methods/dynamic-payment-methods)\nto collect ACH payments for non-Connect use cases, you can configure requested\nFinancial Connections data directly from the [ACH Dashboard settings\npage](https://dashboard.stripe.com/test/settings/payment_methods). Account and\nrouting number is always required for ACH debits; other data types are optional.\n\n#### Note\n\nWe recommend configuring permissions in the Dashboard because it allows you to\nchange which data you collect without any code changes.\n\nTo override the Dashboard configuration, specify Financial Connections\npermissions directly in the API. To do this for PaymentIntents:\n\n```\ncurl https://api.stripe.com/v1/payment_intents \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d amount=2000 \\\n -d currency=usd \\\n -d customer={{CUSTOMER_ID}} \\\n -d \"automatic_payment_methods[enabled]\"=true \\\n-d\n\"payment_method_options[us_bank_account][financial_connections][permissions][]\"=payment_method\n\\\n-d\n\"payment_method_options[us_bank_account][financial_connections][permissions][]\"=balances\n\\\n-d\n\"payment_method_options[us_bank_account][financial_connections][permissions][]\"=ownership\n\\\n-d\n\"payment_method_options[us_bank_account][financial_connections][permissions][]\"=transactions\n```\n\n[Use data to optimize ACH\nintegration](https://docs.stripe.com/financial-connections/ach-direct-debit-payments#optimize)\nAfter you have been approved for additional bank account data access like\nbalances or ownership, you can use this data to optimize ACH payments\nperformance. For example, you can use balance data to reduce the risk of\ninsufficient funds failures. See related data guides for examples:\n\n- [Balances](https://docs.stripe.com/financial-connections/balances): check\naccount balance prior to payment initiation to reduce NSFs.\n- [Ownership](https://docs.stripe.com/financial-connections/ownership): pull\naccount owners and compare against your internal data models to catch potential\nfraud.\n- [Transactions](https://docs.stripe.com/financial-connections/transactions):\npull an account’s transaction history to check when the customer’s paycheck\nmight land.\n\n### Finding the Financial Connections Account ID\n\nTo initiate data refreshes and retrieve data on a Financial Connections Account,\nyou first need to get the account’s ID from the linked Payment Method by\nexpanding the Payment Intent’s `payment_method` property:\n\n```\ncurl -G https://api.stripe.com/v1/payment_intents/{{PAYMENT_INTENT}} \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d \"expand[]\"=payment_method\n```\n\nThe Financial Connections Account ID is on the expanded Payment Method’s\n[us_bank_account\nhash](https://docs.stripe.com/api/payment_methods/object#payment_method_object-us_bank_account).\nIf you allow [manual entry\nfallback](https://docs.stripe.com/financial-connections/ach-direct-debit-payments#enable)\nand the user manually entered their account information, this field is `null`.\n\n```\n{\n \"id\": \"pi_3OK3g4FitzZY8Nvm11121Lhb\",\n \"object\": \"payment_intent\",\n \"payment_method\": {\n \"us_bank_account\": {\n \"financial_connections_account\": \"fca_1OK123bitUAA8SvmruWkck76\"\n }\n // ... other fields on the Payment Method\n }\n // ... other fields on the Payment Intent\n}\n```\n\n## Links\n\n- [overview of integration\noptions](https://docs.stripe.com/financial-connections/use-cases)\n- [verify](https://docs.stripe.com/payments/ach-direct-debit#verification)\n- [set that\nup](https://docs.stripe.com/payments/ach-direct-debit/accept-a-payment?platform=web&ui=stripe-hosted)\n- [this section of the ACH\nguide](https://docs.stripe.com/payments/ach-direct-debit/accept-a-payment?platform=web&ui=direct-api#web-collect-details)\n-\n[PaymentIntent](https://docs.stripe.com/api/payment_intents/create#create_payment_intent-payment_method_options-us_bank_account-verification_method)\n-\n[SetupIntent](https://docs.stripe.com/api/setup_intents/create#create_setup_intent-payment_method_options-us_bank_account-verification_method)\n-\n[CheckoutSession](https://docs.stripe.com/api/checkout/sessions/create#create_checkout_session-payment_method_options-us_bank_account-verification_method)\n-\n[Invoice](https://docs.stripe.com/api/invoices/create#create_invoice-payment_settings-payment_method_options-us_bank_account-verification_method)\n-\n[Subscription](https://docs.stripe.com/api/subscriptions/create#create_subscription-payment_settings-payment_method_options-us_bank_account-verification_method)\n- [Payment\nElement](https://docs.stripe.com/js/elements_object/create_without_intent#stripe_elements_no_intent-options-paymentMethodOptions-us_bank_account-verification_method)\n- [Customer](https://docs.stripe.com/api/customers)\n- [list previously linked\naccounts](https://docs.stripe.com/api/financial_connections/accounts/list)\n-\n[Link](https://support.stripe.com/questions/link-for-financial-connections-support-for-businesses)\n- [Financial Connections settings in the\nDashboard](https://dashboard.stripe.com/settings/financial-connections)\n- [dynamic payment method\nfeature](https://docs.stripe.com/payments/payment-methods/dynamic-payment-methods)\n- [ACH Dashboard settings\npage](https://dashboard.stripe.com/test/settings/payment_methods)\n- [Balances](https://docs.stripe.com/financial-connections/balances)\n- [Ownership](https://docs.stripe.com/financial-connections/ownership)\n- [Transactions](https://docs.stripe.com/financial-connections/transactions)\n- [us_bank_account\nhash](https://docs.stripe.com/api/payment_methods/object#payment_method_object-us_bank_account)\n- [manual entry\nfallback](https://docs.stripe.com/financial-connections/ach-direct-debit-payments#enable)",
  "metadata": {
    "title": "Collect a bank account to optimize ACH Direct Debit payments with account data | Stripe Documentation",
    "description": "Use account data such as balances to optimize your payments integration.",
    "sourceURL": "https://docs.stripe.com/financial-connections/ach-direct-debit-payments"
  }
}