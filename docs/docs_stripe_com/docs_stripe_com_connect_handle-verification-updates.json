{
  "content": "# Handle verification updates\n\n## Help your connected accounts maintain compliance with changing verification requirements.\n\nBefore your connected accounts can accept payments and send payouts, you must\nfulfill what are typically called Know Your Customer (KYC) requirements. To do\nso, you must collect [certain information about your connected\naccounts](https://docs.stripe.com/connect/required-verification-information) and\nsend it to Stripe for verification.\n\nStripe frequently updates KYC requirements, often due to changes implemented by\nfinancial regulators, card networks, and other financial institutions.\n\n#### Get risk requirements with the API\n\nAs part of a current preview, you can handle current and upcoming risk-related\naccount issues with the\n[account.requirements](https://docs.stripe.com/api/accounts/object#account_object-requirements)\nattribute. To learn more about how to participate in the preview, submit your\nemail.\n\nThese updates might require you to take the following actions:\n\n- Modify your onboarding flow to account for the changed requirements.\n- Collect updated information from affected connected accounts and handle\nverification responses.\n- [Handle risk-related\nrequirements](https://docs.stripe.com/connect/handling-api-verification) by\nnotifying connected accounts of identified issues so you can guide them to\nresolve through Stripe interfaces.\n\nWhen [upcoming requirements\nupdates](https://support.stripe.com/user/questions/onboarding-requirements-updates)\naffect your connected accounts, we’ll notify you.\n\nIf you use embedded or Stripe-hosted onboarding, you can proactively collect\ninformation to fulfill [future\nrequirements](https://docs.stripe.com/api/accounts/object#account_object-future_requirements).\nFor embedded onboarding, include the `collectionOptions` attribute in the\n[embedded onboarding\ncomponent](https://docs.stripe.com/connect/supported-embedded-components/account-onboarding).\nFor Stripe-hosted onboarding, specify the `collection_options` parameter when\n[creating account\nlinks](https://docs.stripe.com/api/account_links/create#create_account_link-collection_options).\n\n### API version considerations\n\nIn [API version 2023-10-16](https://docs.stripe.com/upgrades#2023-10-16) and\nlater, the `account` object’s\n[requirements.errors](https://docs.stripe.com/api/accounts/object#account_object-requirements-errors)\narray specifies the latest verification error types in the `code` attribute. We\nrecommend upgrading to API version 2023-10-16 and using `requirements.errors`.\n\nIf you can’t update to version 2023-10-16, earlier versions of the\n`requirements.errors` array include a `detailed_code` field to return\nverification errors that weren’t compatible with the `code` attribute. The\n`detailed_code` attribute doesn’t appear in the API reference.\n\nIf you’re using account or remediation links to collect new requirements, set\nthe [API version to 2021-09-07](https://docs.stripe.com/sdks/set-version) or\nlater.\n\nIf you’re receiving `account.updated` events. Set the webhooks [API version to\n2021-09-07](https://docs.stripe.com/upgrades#2021-09-07) or later.\n\n## Modify your onboarding flow\n\n### Onboarding flow options\n\nWhen requirements change, we update Stripe-hosted and embedded onboarding flows\nto reflect the changes. However, if you use a custom API-based onboarding flow,\nyou must update it to handle any changed requirements.\n\nRegardless of the onboarding flow type, you must address requirements changes\nfor your existing connected accounts.\n\nOnboarding Flow TypeDescriptionUpdate\nResponsibility[API-based](https://docs.stripe.com/connect/custom/onboarding#api-based-onboarding)You\nbuild custom flows using Stripe APIs for your connected accounts. Your\nintegration must meet all of Stripe’s onboarding requirements.You’re responsible\nfor identifying requirements changes and updating your flows to handle\nthem.[Embedded](https://docs.stripe.com/connect/custom/onboarding#embedded-onboarding)\nnew(Recommended method) Your connected accounts interact with a [highly\nthemeable](https://docs.stripe.com/connect/customize-connect-embedded-components)\nand\n[customizable](https://docs.stripe.com/connect/embedded-onboarding#customize-policies-shown-to-your-users)\nUI in an embedded component without leaving your application.You don’t have to\nupdate your onboarding flow when requirements change. Stripe automatically\nupdates embedded onboarding components\naccordingly.[Stripe-hosted](https://docs.stripe.com/connect/custom/onboarding#stripe-hosted-onboarding)Your\napplication redirects your connected accounts to Stripe to complete the\nonboarding process in a co-branded interface.You don’t have to update your\nonboarding flow when requirements change. Stripe automatically updates hosted\nonboarding accordingly.\nIf you use embedded components or Stripe-hosted onboarding, requirements changes\ndon’t require you to update your onboarding flow. Skip to the section on\n[collecting updated\ninformation](https://docs.stripe.com/connect/handle-verification-updates#collect-updated-information-from-affected-users).\n\nIf you use a custom API-based onboarding flow, handle updated requirements by\nfollowing these steps or by replacing your onboarding flow with embedded\ncomponents or Stripe-hosted onboarding.\n\n#### Note\n\nYou can’t use the API to respond to Stripe risk reviews. You can enable your\nconnected accounts to respond using embedded components, Stripe-hosted\nonboarding, or remediation links. You can also use the Dashboard to respond to\nrisk reviews on behalf of your connected accounts.\n\n### Modify your API-based onboarding flow\n\n#### 1. Preview updated verification requirements\n\nWhen verification requirements change, you must collect updated information by\n[a certain\ndate](https://support.stripe.com/user/questions/onboarding-requirements-updates).\nOtherwise, connected accounts won’t be able to use the capabilities you request\n(for example, `card_payments`). See details about the [information you need to\ncollect](https://docs.stripe.com/connect/required-verification-information)\nbased on an account’s region, capabilities requested, and other factors.\n\nYou can avoid disruption of your connected accounts’ capabilities by planning\nthe collection of updated information before the `current_deadline`. To preview\ninformation about upcoming requirements changes, look at the Account object’s\n[future_requirements\nhash](https://docs.stripe.com/api/accounts/object#account_object-future_requirements).\n\n```\n{\n \"id\": \"{{CONNECTED_ACCOUNT_ID}}\",\n \"object\": \"account\",\n \"future_requirements\": {\n \"current_deadline\": 1656608400,\n \"currently_due\": [\n \"company.tax_id\"\n ],\n \"disabled_reason\": null,\n \"errors\": [],\n \"eventually_due\": [\n \"company.tax_id\"\n ],\n \"past_due\": [],\n \"pending_verification\": []\n },\n ...\n}\n```\n\n#### Note\n\nIf you use [Stripe Data](https://docs.stripe.com/stripe-data), you can retrieve\nthe `future_requirements` hash using [a Sigma\nquery](https://docs.stripe.com/stripe-data/query-connect-data#account-requirements).\n\n#### 2. Add required fields to your onboarding flow\n\nWhen you’ve identified the updated information you need to collect, add\ncorresponding fields to your onboarding flow and update your connected accounts\nusing the Accounts API.\n\nTo avoid disruption to your connected accounts, have your onboarding flow\naddress all requirements listed in the Account object’s\n[future_requirements.currently_due](https://docs.stripe.com/api/accounts/object#account_object-future_requirements-currently_due)\nlist.\n\nYou can also prepare for requirements that will apply when an account reaches\ntheir thresholds by considering the\n[future_requirements.eventually_due](https://docs.stripe.com/api/accounts/object#account_object-future_requirements-eventually_due)\nlist.\n\n#### 3. Test your updated onboarding flow\n\nTo simulate future verification requirements, create a test account using the\nAccounts API with `enforce_future_requirements` in the email field. That\npopulates the account’s `requirements` hash with all known future verification\nrequirements.\n\nWith controller propertiesWith account type\n```\ncurl https://api.stripe.com/v1/accounts \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d \"controller[stripe_dashboard][type]\"=none \\\n -d \"controller[fees][payer]\"=application \\\n -d \"controller[losses][payments]\"=application \\\n -d \"controller[requirement_collection]\"=application \\\n -d country=US \\\n -d business_type=individual \\\n -d \"capabilities[card_payments][requested]\"=true \\\n -d \"capabilities[transfers][requested]\"=true \\\n --data-urlencode email=\"jenny.rosen+enforce_future_requirements@example.com\"\n```\n\nTo verify that your updated onboarding flow fulfills the account requirements,\nonboard the test account and check its `requirements` hash. If your flow covers\nall the requirements, the\n[currently_due](https://docs.stripe.com/api/accounts/object#account_object-requirements-currently_due)\nlist is empty.\n\n#### 4. Listen for account status changes to enable functionality\n\nDetect account status changes by listening to the `account.updated` event. After\nan account has gone through your onboarding flow, inspect the `currently_due`\nand `pending_verification` lists in the account’s `requirements` hash. When both\nare empty, and `requirements.disabled_reason` is null, you can enable\nfunctionality for the account. When `payouts_enabled` is true, the account can\nreceive payouts. When `charges_enabled` is true, unlock payments for the\naccount.\n\n```\ncurl https://api.stripe.com/v1/accounts/{{CONNECTED_ACCOUNT_ID}} \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\"\n```\n\n```\n{\n \"id\": \"{{CONNECTED_ACCOUNT_ID}}\",\n \"object\": \"account\",\n \"charges_enabled\": true,\n \"payouts_enabled\": true,\n \"requirements\": {\n \"alternatives\": [],\n \"current_deadline\": null,\n \"currently_due\": [],\n \"disabled_reason\": null,\n \"errors\": [],\n \"eventually_due\": [],\n \"past_due\": [],\n \"pending_verification\": []\n },\n ...\n}\n```\n\n## Collect updated information from accounts with outstanding requirements\n\nYou can collect updated information from your connected accounts using embedded\ncomponents, Stripe-hosted onboarding, or the Stripe API. We recommend either\nintegrating embedded components or directing your connected accounts to\n[Stripe-hosted onboarding using Account\nLinks](https://docs.stripe.com/connect/custom/hosted-onboarding).\n\nIn all cases, follow these steps:\n\n### 1. Adjust your integration to handle new verification responses\n\nWhen Stripe receives updated information about your connected accounts, it takes\ntime to verify the associated account fields. Until we complete verification,\nassume that any related functionality remains disabled. To detect field\nverification updates, listen for\n[account.updated](https://docs.stripe.com/api/events/types#event_types-account.updated)\nevents and inspect them for [verification\nerrors](https://docs.stripe.com/connect/handling-api-verification#validation-and-verification-errors).\nIf you don’t resolve an error before its deadline, it disables requested\ncapabilities for affected accounts.\n\nA disabled capability’s `requirements` hash contains a\n[disabled_reason](https://docs.stripe.com/api/capabilities/object#capability_object-requirements-disabled_reason)\nthat you can use to determine the action you must take. To investigate or to\nprovide required information, use the [Accounts to review\ntab](https://docs.stripe.com/connect/dashboard/review-actionable-accounts) in\nyour Connect Dashboard.\n\n### 2. Identify accounts with outstanding requirements\n\nIn your Connect Dashboard, select [Accounts to\nreview](https://dashboard.stripe.com/connect/accounts_to_review). It displays a\nlist of connected accounts with current or future outstanding requirements. You\ncan filter the list by account issue and status.\n\nYou can also see what information each connected account must provide, and the\ndeadline, in the account object’s\n[future_requirements](https://docs.stripe.com/api/accounts/object#account_object-future_requirements)\nhash or by using a [Sigma\nquery](https://docs.stripe.com/stripe-data/query-connect-data).\n\n### 3. Prepare for enforcement of updated requirements\n\nOn the enforcement date for an account (`future_requirements.current_deadline`),\nthe contents of the `future_requirements` hash move to the `requirements` hash\nand Stripe generates an\n[account.updated](https://docs.stripe.com/api/events/types#event_types-account.updated)\nevent. Because this enforcement can cause more accounts to require review, use\nthe enforcement date as a reminder to check the [Accounts to review\ntab](https://docs.stripe.com/connect/dashboard/review-actionable-accounts) in\nyour Connect Dashboard.\n\n### 4. Send connected accounts to the information collection flow\n\nIf any account has\n[currently_due](https://docs.stripe.com/api/accounts/object#account_object-requirements-currently_due)\nrequirements or [verification\nerrors](https://docs.stripe.com/api/accounts/object#account_object-requirements-errors),\nyou must address them by the requirements\n[current_deadline](https://docs.stripe.com/api/accounts/object#account_object-requirements-current_deadline).\nAt that deadline, the requirements in the `requirements.currently_due` array are\nadded to the `requirements.past_due` array and any associated capabilities\nbecome disabled until you provide the information and resolve the errors.\n\nFuture requirements can immediately affect an account’s capabilities when they\nbecome current requirements. Make sure to address all requirements before their\ndeadlines, even if they’re still in `future_requirements`.\n\nWhen your accounts have `requirements` that are `currently_due`, direct your\naccounts to address any issues according to your onboarding flow or with\nremediation links:\n\n- **API-based onboarding:** Use your [custom onboarding\nflow](https://docs.stripe.com/connect/custom/onboarding#api-based-onboarding),\noptionally collecting `future_requirements` as well.\n- **Embedded onboarding:** Render the [embedded onboarding\ncomponent](https://docs.stripe.com/connect/custom/onboarding#embedded-onboarding)\nfor affected accounts.\n- **Stripe-hosted onboarding:** Use the [Account Links\nAPI](https://docs.stripe.com/api/account_links) to generate a single-use link to\n[Stripe-hosted\nonboarding](https://docs.stripe.com/connect/custom/onboarding#stripe-hosted-onboarding).\nSend your connected accounts to this link from your application.\n- **Remediation links:** Use the Dashboard to generate [remediation\nlinks](https://docs.stripe.com/connect/dashboard/remediation-links) that your\nconnected accounts can use to provide required information.\n\n## See also\n\n- [Handling verification with the\nAPI](https://docs.stripe.com/connect/handling-api-verification)\n- [Required verification\ninformation](https://docs.stripe.com/connect/required-verification-information)\n- [Testing Connect](https://docs.stripe.com/connect/testing)\n- [Testing account identity\nverification](https://docs.stripe.com/connect/testing-verification)\n\n## Links\n\n- [certain information about your connected\naccounts](https://docs.stripe.com/connect/required-verification-information)\n-\n[account.requirements](https://docs.stripe.com/api/accounts/object#account_object-requirements)\n- [Handle risk-related\nrequirements](https://docs.stripe.com/connect/handling-api-verification)\n- [upcoming requirements\nupdates](https://support.stripe.com/user/questions/onboarding-requirements-updates)\n- [future\nrequirements](https://docs.stripe.com/api/accounts/object#account_object-future_requirements)\n- [embedded onboarding\ncomponent](https://docs.stripe.com/connect/supported-embedded-components/account-onboarding)\n- [creating account\nlinks](https://docs.stripe.com/api/account_links/create#create_account_link-collection_options)\n- [API version 2023-10-16](https://docs.stripe.com/upgrades#2023-10-16)\n-\n[requirements.errors](https://docs.stripe.com/api/accounts/object#account_object-requirements-errors)\n- [API version to 2021-09-07](https://docs.stripe.com/sdks/set-version)\n- [API version to 2021-09-07](https://docs.stripe.com/upgrades#2021-09-07)\n-\n[API-based](https://docs.stripe.com/connect/custom/onboarding#api-based-onboarding)\n-\n[Embedded](https://docs.stripe.com/connect/custom/onboarding#embedded-onboarding)\n- [highly\nthemeable](https://docs.stripe.com/connect/customize-connect-embedded-components)\n-\n[customizable](https://docs.stripe.com/connect/embedded-onboarding#customize-policies-shown-to-your-users)\n-\n[Stripe-hosted](https://docs.stripe.com/connect/custom/onboarding#stripe-hosted-onboarding)\n- [Stripe Data](https://docs.stripe.com/stripe-data)\n- [a Sigma\nquery](https://docs.stripe.com/stripe-data/query-connect-data#account-requirements)\n-\n[future_requirements.currently_due](https://docs.stripe.com/api/accounts/object#account_object-future_requirements-currently_due)\n-\n[future_requirements.eventually_due](https://docs.stripe.com/api/accounts/object#account_object-future_requirements-eventually_due)\n-\n[currently_due](https://docs.stripe.com/api/accounts/object#account_object-requirements-currently_due)\n- [Stripe-hosted onboarding using Account\nLinks](https://docs.stripe.com/connect/custom/hosted-onboarding)\n-\n[account.updated](https://docs.stripe.com/api/events/types#event_types-account.updated)\n- [verification\nerrors](https://docs.stripe.com/connect/handling-api-verification#validation-and-verification-errors)\n-\n[disabled_reason](https://docs.stripe.com/api/capabilities/object#capability_object-requirements-disabled_reason)\n- [Accounts to review\ntab](https://docs.stripe.com/connect/dashboard/review-actionable-accounts)\n- [Accounts to review](https://dashboard.stripe.com/connect/accounts_to_review)\n- [Sigma query](https://docs.stripe.com/stripe-data/query-connect-data)\n-\n[current_deadline](https://docs.stripe.com/api/accounts/object#account_object-requirements-current_deadline)\n- [Account Links API](https://docs.stripe.com/api/account_links)\n- [remediation\nlinks](https://docs.stripe.com/connect/dashboard/remediation-links)\n- [Testing Connect](https://docs.stripe.com/connect/testing)\n- [Testing account identity\nverification](https://docs.stripe.com/connect/testing-verification)",
  "metadata": {
    "title": "Handle verification updates | Stripe Documentation",
    "description": "Help your connected accounts maintain compliance with changing verification requirements.",
    "sourceURL": "https://docs.stripe.com/connect/handle-verification-updates"
  }
}