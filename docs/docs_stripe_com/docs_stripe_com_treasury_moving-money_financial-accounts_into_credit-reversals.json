{
  "content": "# Moving money with Treasury using CreditReversal objects\n\n## Learn how you can return funds from received credits that add money to your Treasury financial account.\n\nReversing a\n[ReceivedCredit](https://docs.stripe.com/api/treasury/received_credits) creates\na [CreditReversal](https://docs.stripe.com/api/treasury/credit_reversals). You\ncan reverse `ReceivedCredits` only in some scenarios (detailed in the following\ntable). Whether you can reverse a `ReceivedCredit` depends on the network and\nsource flow.\n\nThe `reversal_details` sub-hash on the `ReceivedCredit` object can have the\nfollowing combination of values, which determines if you can reverse the\n`ReceivedCredit`.\n\nRESTRICTED REASONDEADLINE (EPOCH TIMESTAMP)EXAMPLE\nSCENARIO`source_flow_restricted``null`A Stripe network `ReceivedCredit` that’s\nthe result of a flow other than an `OutboundPayment`. Stripe restricts users\nfrom reversing such `ReceivedCredits`.`network_restricted``null`Network\nconstraints prevent Stripe from allowing reversal on some `ReceivedCredits`,\nsuch as a `ReceivedCredit` from a wire transfer.`null``{{TIMESTAMP}}`A\n`ReceivedCredit`, which is reversible, but only until the timestamp in\n`deadline`. ACH `ReceivedCredits` have a deadline that determines how long you\nhave to reverse them.`deadline_passed``{{TIMESTAMP}}`A `ReceivedCredit` that’s\nreversible before the timestamp in `deadline`, but is no longer reversible\nbecause the `deadline` has passed. ACH `ReceivedCredits` have a limited time of\nwhen they’re reversible after they’re created.`already_reversed``null`A\n`ReceivedCredit` that’s already reversed has this `restricted_reason`. It might\nhave a non-null `deadline` value.`null``null`You can reverse `ReceivedCredits`\nanytime if they have `null` for both `restricted_reason` and `deadline`.\n## Create a CreditReversal\n\nUse `POST /v1/treasury/credit_reversals` to create a `CreditReversal`. Set the\n`received_credit` parameter in the body of the request to the value of the\n`ReceivedCredit` ID to reverse.\n\n#### Note\n\nYou can’t update `CreditReversals`, so you must set any optional\n[metadata](https://docs.stripe.com/api/treasury/credit_reversals/create#create_credit_reversal-metadata)\non creation.\n\nThe following request creates a `CreditReversal` based on the `ReceivedCredit`\nID value on the required `received_credit` parameter. The request also sets an\noptional metadata value.\n\n```\ncurl https://api.stripe.com/v1/treasury/credit_reversals \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -H \"Stripe-Account: {{CONNECTED_ACCOUNT_ID}}\" \\\n -d received_credit={{RECEIVED_CREDIT_ID}} \\\n -d \"metadata[reason]\"=Because\n```\n\nIf successful, the response returns the new `CreditReversal` object.\n\n```\n{\n \"id\": \"{{CREDIT_REVERSAL_ID}}\",\n \"object\": \"credit_reversal\",\n \"amount\": 1000,\n \"currency\": \"usd\",\n \"financial_account\": \"{{FINANCIAL_ACCOUNT_ID}}\",\n\"hosted_regulatory_receipt_url\":\n\"https://payments.stripe.com/regulatory-receipt/{{URL_ID}}\",\n \"livemode\": false,\n \"metadata\": {\n \"csr_id\": \"CSR-12\"\n```\n\nSee all 19 lines\n## Retrieve a CreditReversal\n\nUse `GET /v1/treasury/credit_reversals/{{CREDIT_REVERSAL_ID}}` to retrieve the\n`CreditReversal` with the associated ID.\n\n```\ncurl https://api.stripe.com/v1/treasury/credit_reversals/{{CREDIT_REVERSAL_ID}}\n\\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -H \"Stripe-Account: {{CONNECTED_ACCOUNT_ID}}\"\n```\n\nThe response returns the specific `CreditReversal` object.\n\n```\n{\n \"id\": \"{{CREDIT_REVERSAL_ID}}\",\n \"object\": \"credit_reversal\",\n \"livemode\": \"{{Boolean}}\",\n \"created\": \"{{Timestamp}}\",\n \"financial_account\": \"{{FINANCIAL_ACCOUNT_ID}}\",\n \"amount\": 1000,\n \"currency\": \"usd\",\n // The ReceivedCredit that was reversed\n \"received_credit\": \"{{RECEIVED_CREDIT_ID}}\",\n // The rails used to reversed. Always the same as that of the ReceivedCredit\n \"network\": \"ach\",\n \"status\": \"processing\" | \"posted\",\n \"status_transitions\": {\n \"posted_at\": null | \"{{Timestamp}}\",\n },\n // Transaction representing balance impact of the CreditReversal\n \"transaction\": \"{{TRANSACTION_ID}}\",\n// A unique, Stripe-hosted direct link to the regulatory receipt for the\nCreditReversal\n \"hosted_regulatory_receipt_url\": \"{{Url}}\",\n // A map of String-String intended for users to use custom data\n \"metadata\": {},\n}\n```\n\n## List CreditReversals\n\nUse `GET /v1/treasury/credit_reversals` to retrieve a list of `CreditReversals`\nfor the financial account with the ID provided in the required\n`financial_account` parameter. You can filter the list by standard list\nparameters, `status`, or by `ReceivedCredit` ID using the `received_credit`\nparameter.\n\n```\n{\n // Standard list parameters\n \"limit\", \"starting_after\", \"ending_before\",\n // Filter by status\n \"status\": \"processing\" | \"posted\",\n // Filter by FinancialAccount (Required)\n \"financial_account\": \"{{FINANCIAL_ACCOUNT_ID}}\",\n // Filter by ReceivedCredit\n \"received_credit\": \"{{RECEIVED_CREDIT_ID}}\"\n}\n\n```\n\nThe following request returns the three most recent credit reversals with a\nstatus of `posted` for the specified financial account.\n\n```\ncurl -G https://api.stripe.com/v1/treasury/credit_reversals \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -H \"Stripe-Account: {{CONNECTED_ACCOUNT_ID}}\" \\\n -d limit=3 \\\n -d status=posted \\\n -d financial_account={{FINANCIAL_ACCOUNT_ID}}\n```\n\nIf successful, the response returns the relevant list of [CreditReversal\nobjects](https://docs.stripe.com/api/treasury/credit_reversals).\n\n## Test CreditReversals\n\nTo test CreditReversals, you must first create [test mode\nReceivedCredits](https://docs.stripe.com/treasury/moving-money/financial-accounts/into/credit-reversals#testingrc).\nThen use `POST /v1/treasury/credit_reversals` and specify the test mode\n`ReceivedCredit` ID in the `received_credit` parameter to create a test mode\n`CreditReversal`.\n\n## CreditReversal Webhooks\n\nStripe emits the following `CreditReversal` events to your\n[webhook](https://docs.stripe.com/webhooks) endpoint:\n\n- `treasury.credit_reversal.created` on `CreditReversal` creation.\n- `treasury.credit_reversal.posted` when the `CreditReversal` posts.\n\n## Links\n\n- [ReceivedCredit](https://docs.stripe.com/api/treasury/received_credits)\n- [CreditReversal](https://docs.stripe.com/api/treasury/credit_reversals)\n-\n[metadata](https://docs.stripe.com/api/treasury/credit_reversals/create#create_credit_reversal-metadata)\n- [webhook](https://docs.stripe.com/webhooks)",
  "metadata": {
    "title": "Moving money with Treasury using CreditReversal objects | Stripe Documentation",
    "description": "Learn how you can return funds from received credits that add money to your Treasury financial account.",
    "sourceURL": "https://docs.stripe.com/treasury/moving-money/financial-accounts/into/credit-reversals"
  }
}