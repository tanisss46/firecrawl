{
  "content": "# Notification banner\n\n## Show a banner that lists required actions for risk interventions and onboarding requirements.\n\nRenders a notification banner that lists open tasks that can affect a connected\naccount’s status or capabilities. Tasks can involve risk interventions or\noutstanding requirements for account capabilities, such as accepting payments\nand payouts. The banner renders only when the connected account must respond to\nrisk interventions or provide currently due requirements [after initial\nonboarding](https://docs.stripe.com/connect/supported-embedded-components/notification-banner#account-onboarding).\n\nSizeDesktopLocale (United States)This demo is read-only with limited\nfunctionality. Visit [furever.dev](https://furever.dev/) for a fully functional\ndemo.\n## Requirements collection options\n\nYou can control the collection of `currently_due` or `eventually_due`\nrequirements and the inclusion of [future\nrequirements](https://docs.stripe.com/connect/handle-verification-updates) by\nusing the `collectionOptions` attribute when you integrate the notification\nbanner component.\n\n## External account collection\n\nUse the\n[external_account_collection](https://docs.stripe.com/api/account_sessions/create#create_account_session-components-notification_banner-features-external_account_collection)\nfeature to control whether the component collects external account information.\nThis parameter is enabled by default, and only platforms responsible for\ncollecting updated information when requirements are due or change (including\nCustom accounts) can disable it. When `external_account_collection` is enabled,\n[user\nauthentication](https://docs.stripe.com/connect/get-started-connect-embedded-components#user-authentication-in-connect-embedded-components)\nis required. You can opt out of Stripe user authentication with the\n[disable_stripe_user_authentication](https://docs.stripe.com/api/account_sessions/create#create_account_session-components-notification_banner-features-disable_stripe_user_authentication)\nparameter.\n\n## Disable Stripe user authentication\n\nUse the\n[disable_stripe_user_authentication](https://docs.stripe.com/api/account_sessions/create#create_account_session-components-notification_banner-features-disable_stripe_user_authentication)\nfeature to control whether the component requires Stripe user authentication.\nThe default value is the opposite of the\n[external_account_collection](https://docs.stripe.com/api/account_sessions/create#create_account_session-components-notification_banner-features-external_account_collection)\nvalue. For example, if you don’t set `external_account_collection`, it defaults\nto true and `disable_stripe_user_authentication` defaults to false. This value\ncan only be true for accounts where `controller.requirement_collection` is\n`application`.\n\nWe recommend implementing 2FA or equivalent security measures as a [best\npractice](https://docs.stripe.com/connect/risk-management/best-practices#prevent-account-take-overs).\nFor account configurations that support this feature, such as Custom accounts,\nyou assume liability for connected accounts if they can’t pay back [negative\nbalances](https://docs.stripe.com/connect/risk-management/best-practices#decide-your-approach-to-negative-balance-liability).\n\n### Create an Account Session\n\nWhen [creating an Account\nSession](https://docs.stripe.com/api/account_sessions/create), enable\nnotification banner by specifying `notification_banner` in the `components`\nparameter.\n\n```\ncurl https://api.stripe.com/v1/account_sessions \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d account={{CONNECTED_ACCOUNT_ID}} \\\n -d \"components[notification_banner][enabled]\"=true \\\n-d \"components[notification_banner][features][external_account_collection]\"=true\n```\n\n### Render the notification banner component\n\n```\n// Include this element in your HTML\nconst notificationBanner = stripeConnectInstance.create('notification-banner');\ncontainer.appendChild(notificationBanner);\n\n// Optional:\n// notificationBanner.setCollectionOptions({\n// fields: 'eventually_due',\n// futureRequirements: 'include',\n// })\n```\n\nHTML + JSReactMethodTypeDescriptionDefault`setCollectionOptions``{ fields:\n'currently_due' | 'eventually_due', future_requirements: 'omit' | 'include'\n}`Customizes collecting `currently_due` or `eventually_due` requirements and\ncontrols whether to include [future\nrequirements](https://docs.stripe.com/api/accounts/object#account_object-future_requirements).\nSpecifying `eventually_due` collects both `eventually_due` and `currently_due`\nrequirements.`{fields: 'currently_due', futureRequirements: 'omit'}`\n## Configure custom banner behavior\n\nYou can configure custom behavior, such as different margins, for when the\nbanner includes any notifications or when the notifications require any action.\nTo do so, set a custom callback function using `onNotificationsChange`.\n\n```\n// index.html\n\n<h1 id=\"notification-banner-action-warning\"></h1>\n\n<div id=\"notification-banner-container\"></div>\n\n// index.js\nconst handleNotificationsChange = (response) => {\n const warning = document.getElementById(\"notification-banner-action-warning\");\n\n if (response.actionRequired > 0) {\n// Do something related to required actions, such as adding margins to the\nbanner container or tracking the current number of notifications.\n warning.style.display = \"block\";\n warning.textContent =\n \"You must resolve the notifications on this page before proceeding.\";\n } else if (response.total > 0) {\n // Do something related to notifications that don't require action.\n warning.style.display = \"block\";\n warning.textContent = \"The items below are in review.\";\n } else {\n warning.style.display = \"none\";\n }\n};\n\nconst container = document.getElementById('notification-banner-container');\nconst notificationBanner = stripeConnectInstance.create('notification-banner');\nnotificationBanner.setOnNotificationsChange(handleNotificationsChange);\ncontainer.appendChild(notificationBanner);\n```\n\nHTML + JSReactMethodDescriptionVariables`setOnNotificationsChange`Allows users\nto specify an optional custom behavior in a callback function.-\n`response.total`: The total number of notifications in the banner\n- `response.actionRequired`: The number of notifications that require user\naction\n\n## Testing\n\nTo test this component in test mode, specify different [test\ninputs](https://docs.stripe.com/connect/testing) for fields that fail\nverifications or generate requirements on the account. For example, you can use\nthe [account management\ncomponent](https://docs.stripe.com/connect/supported-embedded-components/account-management)\nto enter `address_no_match` in `line1` of an individual’s address to trigger an\naddress mismatch. In production, it can be difficult to verify that this\ncomponent is working as expected because it’s hidden when an account has no\nbanner items. To validate your integration is working, you can:\n\n- Set a callback using `onNotificationsChange` that verifies `response.total` is\nzero\n- Confirm the component is being displayed with no content using a [loader start\nhandler](https://docs.stripe.com/connect/get-started-connect-embedded-components#reacting-to-component-display)\n\n## Account onboarding\n\nUse the notification banner after the account goes through [account\nonboarding](https://docs.stripe.com/connect/supported-embedded-components/account-onboarding)\nand has\n[details_submitted](https://docs.stripe.com/api/accounts/object#account_object-details_submitted).\nThe banner won’t render any UI if the account is missing `details_submitted`.\n\n## Links\n\n- [after initial\nonboarding](https://docs.stripe.com/connect/supported-embedded-components/notification-banner#account-onboarding)\n- [furever.dev](https://furever.dev)\n- [future\nrequirements](https://docs.stripe.com/connect/handle-verification-updates)\n-\n[external_account_collection](https://docs.stripe.com/api/account_sessions/create#create_account_session-components-notification_banner-features-external_account_collection)\n- [user\nauthentication](https://docs.stripe.com/connect/get-started-connect-embedded-components#user-authentication-in-connect-embedded-components)\n-\n[disable_stripe_user_authentication](https://docs.stripe.com/api/account_sessions/create#create_account_session-components-notification_banner-features-disable_stripe_user_authentication)\n- [best\npractice](https://docs.stripe.com/connect/risk-management/best-practices#prevent-account-take-overs)\n- [negative\nbalances](https://docs.stripe.com/connect/risk-management/best-practices#decide-your-approach-to-negative-balance-liability)\n- [creating an Account\nSession](https://docs.stripe.com/api/account_sessions/create)\n- [future\nrequirements](https://docs.stripe.com/api/accounts/object#account_object-future_requirements)\n- [test inputs](https://docs.stripe.com/connect/testing)\n- [account management\ncomponent](https://docs.stripe.com/connect/supported-embedded-components/account-management)\n- [loader start\nhandler](https://docs.stripe.com/connect/get-started-connect-embedded-components#reacting-to-component-display)\n- [account\nonboarding](https://docs.stripe.com/connect/supported-embedded-components/account-onboarding)\n-\n[details_submitted](https://docs.stripe.com/api/accounts/object#account_object-details_submitted)",
  "metadata": {
    "title": "Notification banner | Stripe Documentation",
    "description": "Show a banner that lists required actions for risk interventions and onboarding requirements.",
    "sourceURL": "https://docs.stripe.com/connect/supported-embedded-components/notification-banner"
  }
}