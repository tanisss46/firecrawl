{
  "content": "# Stripe connector for Amazon S3Public preview\n\n## Automate recurring file imports from your Amazon S3 bucket to Stripe.\n\nThis guide explains how to import files from Amazon S3 into the Stripe Data\nManagement Platform. By following these steps, you set up an automated job for\nimporting data to keep your Stripe products up-to-date.\n\n## Prerequisites\n\nBefore starting the integration, make sure you have the following:\n\n- An active AWS account and S3 bucket with access to the relevant files.\n- Admin account access to the Stripe Dashboard.\n[Log in to your AWS\naccount](https://docs.stripe.com/stripe-data/import-external-data/connectors/s3#section-1)\nYou need access to your AWS Access Console during the configuration process.\n\n- Sign in to the [AWS Management Console](https://console.aws.amazon.com/)\n[Prepare your Files in Amazon\nS3](https://docs.stripe.com/stripe-data/import-external-data/connectors/s3#section-2)\nTo validate your connection configuration, use well-formatted data in your S3\nbucket. The configuration process shows you available files, and runs an initial\nsync when the connection is configured.\n\n- Visit your [Amazon S3 console](https://s3.console.aws.amazon.com/)\n- Make sure that your files are stored in a designated S3 bucket and organized\naccording to your import preferences.- If you don’t currently have an S3 bucket,\nyou can follow the [AWS guidelines for creating your first\nbucket](https://docs.aws.amazon.com/AmazonS3/latest/userguide/creating-bucket.html).\n- Stripe has the following file requirements for successful retrieval:- File\nnames must adhere to [S3 Object naming\nconventions](https://docs.aws.amazon.com/AmazonS3/latest/userguide/object-keys.html).\n- The maximum file size is 1 GB.\n- Remember the bucket name and region because you need them for future steps.\n- Keep your AWS Console open to configure an IAM role in future steps.\n\n### Supported file formats\n\n- CSV\n- TSV\n- JSON\n- JSONLINE\n- For more formats, please [contact support](https://support.stripe.com/)\n[Configure the Stripe Amazon S3 Connector to import files from your S3\nBucket](https://docs.stripe.com/stripe-data/import-external-data/connectors/s3#section-3)-\nSign in to the [Stripe Data Management Connector\nDashboard](https://dashboard.stripe.com/data-management/connectors)\n- Click **+ Set up connector** > **Amazon S3**.\n- Provide a unique connector name for this Connection. Consider using details\nabout the data source, objects in the file, and product destination to create a\nstrong unique name.\n- In your Amazon console, navigate to the [IAM\nconsole](https://console.aws.amazon.com/iam/).\n- The next step of the Stripe Amazon S3 Connector setup provides details to\nCreate an IAM Role using a Custom trust policy.- In the navigation pane of the\nconsole, click **Policies** > **Create policy**.\n- To create your permission policy, select **JSON** and replace the existing\npolicy text by copying and pasting the provided code block. In the Resource\nsection of the **Policy editor** code block, replace `USER_TARGET_BUCKET` with\nyour intended bucket name. Click **Next**. Under **Policy details**, add a\npolicy name, along with any tags (optional), then click **Create policy**.\n- Return to the navigation pane of the console, then click **Roles** > **Create\nrole**.\n- Choose the **Custom trust policy** role type, copy and paste the provided code\nblock, then click **Next**.\n- To select your permission policy, locate the newly created permission policy\nin the list. Enable the checkbox to select the policy, scroll down, then click\n**Next**.\n- To create a role name, copy and paste the provided role name, then click\n**Create role**.\n- The following step of the Stripe Amazon S3 Connector setup establishes the\nconnection between your Amazon S3 bucket and Stripe.- From the AWS Console,\n[find and provide your AWS Account\nID](https://docs.aws.amazon.com/accounts/latest/reference/manage-acct-identifiers.html#FindAccountId).\n- Provide the Bucket Name and Region saved from your AWS Console during Step\n2.3.\n- If you use folders to organize your files in your Amazon S3 bucket, specify a\nfolder within the above bucket.- If you specify a folder within the above\nbucket, we only fetch data from this folder, not the entire bucket.\n- After successfully setting up a new connector, Stripe fetches all data from\nthe Amazon S3 bucket that was modified in the last 90 days.- We fetch data after\nevery five minutes.\n- Only objects with a LastModified date later than the last sync are imported\nfor recurring imports.\n- Step 4 previews the files available in the connected Amazon S3 bucket and\nallows you to associate them with a data template.- The file preview validates\nthat your credentials connect Stripe with the expected Amazon S3 bucket and\nfolder.\n- The data template associates this connection with an expected file format for\ninitial and recurring imports.\n- Click **Done** to create an Active Data Connection and initiate the initial\nData Import.\n[Maintaining your Amazon S3\nconnection](https://docs.stripe.com/stripe-data/import-external-data/connectors/s3#section-4)\nAfter your connection is established, we fetch your data every 5 minutes. To\nmonitor the health of your connection, you can perform the following actions:\n\n- Visit the [Stripe Data Management Connector\ndashboard](https://dashboard.stripe.com/data-management/connectors) for the\nstatus and last sync details of your established connections.\n- Manage a single Connection by clicking on a connector.- You can edit the\nconnector name or data template, re-authenticate a broken connection, and delete\na connection.\n- We recommend setting up an automated job to regularly deliver new files to\nyour S3 bucket.\n- The Amazon List Object API doesn’t allow for filtering objects by\nLastModified. As a result, you must list all the contents of your bucket for\neach import. Make sure that you only allow the associated IAM role access to\ndata that you intend to import to Stripe. We recommend limiting the number of\nfiles in your bucket below 50000. To achieve this, make sure that you set the\nexpiry time for your objects accordingly.\n\n## Interested in the Stripe Connector for S3?\n\nPlease provide your email address below and our team will be in touch.\n\nCollect EmailSign upRead our [privacy policy](https://stripe.com/privacy).\n\n## Links\n\n- [AWS Management Console](https://console.aws.amazon.com/)\n- [Amazon S3 console](https://s3.console.aws.amazon.com/)\n- [AWS guidelines for creating your first\nbucket](https://docs.aws.amazon.com/AmazonS3/latest/userguide/creating-bucket.html)\n- [S3 Object naming\nconventions](https://docs.aws.amazon.com/AmazonS3/latest/userguide/object-keys.html)\n- [contact support](https://support.stripe.com/)\n- [Stripe Data Management Connector\nDashboard](https://dashboard.stripe.com/data-management/connectors)\n- [IAM console](https://console.aws.amazon.com/iam/)\n- [find and provide your AWS Account\nID](https://docs.aws.amazon.com/accounts/latest/reference/manage-acct-identifiers.html#FindAccountId)\n- [privacy policy](https://stripe.com/privacy)",
  "metadata": {
    "title": "Stripe connector for Amazon S3 | Stripe Documentation",
    "description": "Automate recurring file imports from your Amazon S3 bucket to Stripe.",
    "sourceURL": "https://docs.stripe.com/stripe-data/import-external-data/connectors/s3"
  }
}