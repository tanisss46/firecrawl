{
  "content": "# Configure Stripe Connector for Salesforce Billing\n\n## Learn how to configure Stripe Connector for Salesforce Billing.\n\n## Assign permission sets\n\nThis section guides you through setting up the **Permission Sets** that are\nnecessary to use all three managed packages.\n\nNavigate to **Setup > Users > Permission Sets**.\n\n!\n\nThe Salesforce Permission Sets top-level view\n\nFor all admin users in your org, assign the following permission sets:\n**Salesforce Billing Admin**, **Salesforce CPQ Admin**, and **Stripe Payment\nGateway Admin**.\n\n!\n\nProperly configured Admin Permission Sets\n\nFor all **standard users** that will process payments in your organization,\nassign the following permission sets: **Salesforce CPQ User** and **Stripe\nPayment Gateway User**. For Salesforce Billing permissions, follow the\n[Salesforce Billing Permissions\nRequirements](https://help.salesforce.com/s/articleView?id=sf.blng_profile_permissions.htm&type=5)\ndocumentation to manually provide standard users the permissions they need.\n\n!\n\nProperly configured User Permission Sets\n\n## Assign page layouts\n\nThis section shows how to assign the correct **Page Layouts** for your users.\nEach page layout must contain all the base information and actions that you will\nneed to go through the payment processing flows.\n\n### Opportunity page layout\n\nNavigate to **Setup > Object Manager** and click the **Opportunity** object.\n\n!\n\nOpportunity in the Salesforce Object Manager\n\nClick the **Page Layouts** tab and click **Page Layout Assignment**.\n\n!\n\nOpportunity object Page Layouts\n\nClick **Edit assignment**, set the **Standard User** and **System\nAdministrator** profiles to view the **CPQ Opportunity Layout**, and click\n**Save**.\n\n!\n\nOpportunity object Page Layouts\n\n### Account page layout\n\nNavigate to **Setup > Object Manager** and click the **Account** object.\n\n!\n\nAccount in the Salesforce Object Manager\n\nClick the **Page Layouts** tab and click **Page Layout Assignment**.\n\n!\n\nAccount object Page Layouts\n\nClick **Edit assignment**, set the **Standard User** and **System\nAdministrator** profiles to view the **Billing Account Layout**, and click\n**Save**.\n\n!\n\nAccount object Page Layouts\n\n### Order page layout\n\nNavigate to **Setup > Object Manager** and click the **Order** object.\n\n!\n\nOrder in the Salesforce Object Manager\n\nClick the **Page Layouts** tab, and click **Page Layout Assignment**.\n\n!\n\nOrder object Page Layouts\n\nClick **Edit assignment**, set the **Standard User** and **System\nAdministrator** profiles to view the **Billing Order Layout**, and click\n**Save**.\n\n!\n\nOrder object Page Layouts\n\n### Order Product page layout\n\nNavigate to **Setup > Object Manager** and click the **Order Product** object.\n\n!\n\nOrder [Product](https://docs.stripe.com/api/products) in the Salesforce Object\nManager\n\nClick the **Page Layouts** tab, and click **Page Layout Assignment**.\n\n!\n\nOrder Product object Page Layouts\n\nClick **Edit assignment**, set the **Standard User** and **System\nAdministrator** profiles to view the **Billing Order Product Layout**, and click\n**Save**.\n\n!\n\nOrder Product object Page Layouts\n\n### Product page layout\n\nNavigate to **Setup > Object Manager** and click the **Product** object.\n\n!\n\nProduct in the Salesforce Object Manager\n\nClick the **Page Layouts** tab, and click **Page Layout Assignment**.\n\n!\n\nProduct object Page Layouts\n\nClick **Edit assignment**, set the **Standard User** and **System\nAdministrator** profiles to view the **Billing Product Layout**, and click\n**Save**.\n\n!\n\nProduct object Page Layouts\n\n## Additional configuration steps\n\nThis section guides you through the final steps for the **Stripe Connector for\nSalesforce CPQ & Billing** to function properly on your organization. It\nconsists of adding a few **buttons/actions** to page layouts, as well as adding\nnew **picklist** values to picklist fields.\n\n### Add a refund action to Payment Method objects\n\nThe **Refund UI** flow is packaged with Salesforce Billing, but it’s not\navailable in the default configuration. Use the following steps to add the\n**Refund** action to the **Payment Page Layout**.\n\nNavigate to **Setup > Object Manager** and click the **Payment** object.\n\n!\n\nPayment in the Salesforce Object Manager\n\nClick the **Page Layouts** tab, and click **Payment Layout**.\n\n!\n\nPayment object Page Layouts\n\nIn the pallete, click **Mobile & Lightning Actions**, drag the **Refund** action\nto the page layout (under the **Salesforce Mobile and Lightning Experience\nActions** section), and click **Save**.\n\n!\n\nPayment object Page Layouts\n\n### Add a verify action to Payment Method objects\n\nACH payment methods require the extra step of verifying the bank account.\nSalesforce Billing doesn’t have this capability, but it’s available in the\nStripe for Salesforce Billing managed package. Use the following steps to add\nthe **Verify** action to the **Payment Method Page Layout**.\n\nNavigate to **Setup > Object Manager** and click the **Payment Method** object.\n\n!\n\nPayment Method in the Salesforce Object Manager\n\nClick the **Page Layouts** tab, and click **Payment Method Layout**.\n\n!\n\nPayment Method object Page Layouts\n\nIn the pallete, click **Mobile & Lightning Actions**, drag the **Verify** action\nto the page layout (under the **Salesforce Mobile and Lightning Experience\nActions** section), and click **Save**.\n\n!\n\nPayment Method object Page Layouts\n\n### Add an ACH Payment Method button to the Related list on Account objects\n\nThe **Stripe Connector for Salesforce CPQ & Billing** comes with its own flow\nfor adding a new ACH Payment Method. The following steps will add the **New ACH\nPayment Method Button** to the Billing Account Page Layout.\n\nNavigate to **Setup > Object Manager** and click the **Account** object.\n\n!\n\nAccount in the Salesforce Object Manager\n\nClick the **Page Layouts** tab, then click **Billing Account Layout**.\n\n!\n\nBilling Account object Page Layouts\n\nScroll down to the **Payment Methods Related List** and click the **wrench\nicon**.\n\n!\n\nEditing the Billing Account page layout\n\n- In the **Buttons section**, click the **plus icon**.\n- in the **Custom Buttons** sub-section, add the **New Payment Method ACH** to\nthe **Selected Buttons** side.\n- Click **OK** and **Save** in the pallet.\n\n!\n\nEditing the Billing Account buttons\n\n### Add the Individual and Company bank account types on Payment Method objects\n\nThe **Stripe API** requires you to pass a **bank account type** when creating a\nnew **ACH** payment method. Use the following steps to add **Individual** and\n**Company** as bank account types in Salesforce.\n\nNavigate to **Setup > Object Manager** and click the **Payment Method** object.\n\n!\n\nPayment Method in the Salesforce Object Manager\n\nClick the **Fields & Relationships** tab and click **Bank Account Type**.\n\n!\n\nBank Account types in the Salesforce Object Manager\n\nScroll down to the **Values** list and click **View Bank Account Type Value\nSet**.\n\n!\n\nViewing existing bank account types\n\nClick **New**\n\n!\n\nClick New\n\nAdd “Individual” and “Company” in the text field, select the **Add the new\npicklist values to all Record Types** checkbox, and click **Save**.\n\n!\n\nAdding new types of bank accounts\n\n### Add Stripe as a Payment Gateway field type picklist value\n\nYou need to set up **Stripe** as a valid payment gateway to be used in\n**Salesforce Billing**. The following steps add **Stripe** as a **Gateway Type**\nfor the **Payment Gateway** object.\n\nNavigate to **Setup > Object Manager** and click the **Payment Gateway** object.\n\n!\n\nPayment Gateway in the Salesforce Object Manager\n\nClick the **Fields & Relationships** tab and click **Gateway Type**.\n\n!\n\nPayment Gateway in the Salesforce Object Manager\n\nScroll down to the **Values** list and click **View Gateway Type Value Set**.\n\n!\n\nViewing existing bank account types\n\nClick **New**\n\n!\n\nAdding a new payment gateway Click Ok\n\nAdd **Stripe** into the text field, select the **Add the new picklist values to\nall Record Types** checkbox, and click **Save**.\n\n!\n\nAdding a new payment gateway\n\n## Stripe Payment Gateway setup\n\nThe final step to configure **Stripe Connector for Salesforce CPQ & Billing** is\nto go through the **Setup Assistant**. This is an app that comes with the\nmanaged package, and authorizes your Salesforce organization to be able to use\nthe **Stripe Payment Gateway**.\n\nClick the **App Launcher** icon.\n\n!\n\nSalesforce App Launcher\n\nIn the App Launcher, click the **Stripe Payment Gateway Setup** app.\n\n!\n\nSalesforce App Launcher\n\nClick **Get Started**\n\n!\n\nSalesforce App Launcher Get Started\n\nIf you’re ready to use Stripe for payment processing, you can toggle **Live\nMode** on. Otherwise, you can stay in **Test Mode** to test the payment\nprocessing. When you make your decision, click **Authorize**.\n\n!\n\nSalesforce App Launcher Authorize\n\nYou’ll be prompted to log into your Stripe account. Enter your Stripe\ncredentials and complete the flow. After successfully logging in, you’ll be\nredirected to the **System Connections** page. If you’ve successfully\nauthorized, you’ll see the green **Authorized** message. Click **Finish** to\ncomplete the setup of the Stripe Payment Gateway.\n\n!\n\nCompleted Stripe Payment Gateway setup\n\nYou can exit the app and start using the Stripe Connector for Salesforce CPQ &\nBilling.\n\n## Links\n\n- [Salesforce Billing Permissions\nRequirements](https://help.salesforce.com/s/articleView?id=sf.blng_profile_permissions.htm&type=5)\n- [Product](https://docs.stripe.com/api/products)",
  "metadata": {
    "title": "Configure Stripe Connector for Salesforce Billing | Stripe Documentation",
    "description": "Learn how to configure Stripe Connector for Salesforce Billing.",
    "sourceURL": "https://docs.stripe.com/connectors/salesforce-billing/configuration"
  }
}