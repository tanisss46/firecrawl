{
  "content": "# Elements with Checkout Sessions API changelogPublic preview\n\n## Keep track of changes to the Elements with Checkout Sessions API integration.\n\nElements with Checkout Sessions API uses two kinds of beta versions:\n\n- A Stripe.js beta header (e.g., `custom_checkout_beta_5`), which is set on your\nfront-end integration.\n- An API version beta header (e.g., `custom_checkout_beta=v1`), which is set on\nyour back-end integration.\n\n## Frontend beta versions\n\nSpecify the front-end beta version when [initializing\nStripe.js](https://docs.stripe.com/checkout/custom/quickstart#set-up-frontend).\n\n### custom_checkout_beta_5\n\n- Breaking The `initCustomCheckout` function has been renamed to\n[initCheckout](https://docs.stripe.com/js/custom_checkout/init)- Within React\nStripe.js, `CustomCheckoutProvider` has been renamed to `CheckoutProvider` and\n`useCustomCheckout` has been renamed to `useCheckout`.\n- Breaking To confirm the [Express Checkout\nElement](https://docs.stripe.com/checkout/one-click-payment-buttons), call\n[confirm](https://docs.stripe.com/js/custom_checkout/confirm), passing the\n[confirm\nevent](https://docs.stripe.com/js/elements_object/express_checkout_element_confirm_event)\nas `expressCheckoutConfirmEvent`- Previously, Express Checkout Element was\nconfirmed by calling `event.confirm()`.\n- Breaking When [confirm](https://docs.stripe.com/js/custom_checkout/confirm) is\ncalled, Payment Element and Address Element will validate form inputs and render\nany errors.\n- Breaking Error messages have been standardized and improved.- Errors\nreturned/resolved by a function represent known scenarios like invalid payment\ndetails or insufficient funds. These are predictable issues that can be\ncommunicated to your customer by displaying the `message` on the checkout page.\n- Errors thrown/rejected by a function represent errors in the integration\nitself, such as invalid parameters or configuration. These errors are not meant\nto be displayed to your customers.\n- Breaking Asynchronous methods, such as\n[confirm](https://docs.stripe.com/js/custom_checkout/confirm) or\n[applyPromotionCode](https://docs.stripe.com/js/custom_checkout/apply_promotion_code),\nresolve with a different schema:- A `type=\"success\"|\"error\"` discriminator field\nhas been added.\n- If successful, the updated session state is populated under the `success` key.\nPreviously, this was under the `session` key.\n- Otherwise, the error continues to be populated under the `error` key.\n- Added the `email`, `phoneNumber`, `billingAddress`, and `shippingAddress`\noptions to [confirm](https://docs.stripe.com/js/custom_checkout/confirm).\n- Breaking Address Element no longer automatically updates the\n[billingAddress](https://docs.stripe.com/js/custom_checkout/session_object#custom_checkout_session_object-billingAddress)\nor\n[shippingAddress](https://docs.stripe.com/js/custom_checkout/session_object#custom_checkout_session_object-shippingAddress)\nfields on the Session.- So long as Address Element is mounted, form values will\nautomatically be used when calling\n[confirm](https://docs.stripe.com/js/custom_checkout/confirm).\n- Listen to the [change\nevent](https://docs.stripe.com/js/element/events/on_change?type=addressElement)\nto use the Address Element value before confirmation.\n\n### custom_checkout_beta_4\n\n- Added\n[images](https://docs.stripe.com/js/custom_checkout/session_object#custom_checkout_session_object-lineItems-images)\nto the [Session\nobject](https://docs.stripe.com/js/custom_checkout/session_object).\n- Added\n[fields](https://docs.stripe.com/js/custom_checkout/create_element?type=payment#custom_checkout_create_element-options-fields)\nas an option when creating the Payment Element.\n- Added\n[paymentMethods](https://docs.stripe.com/js/custom_checkout/create_element?type=expressCheckout#custom_checkout_create_element-options-paymentMethods)\nas an option when creating the Express Checkout Element.\n- Breaking Passing invalid options to\n[createElement](https://docs.stripe.com/js/custom_checkout/create_element) now\nthrows an error. Previously, unrecognized options would be silently ignored.\n- Breaking\n[updateEmail](https://docs.stripe.com/js/custom_checkout/update_email) and\n[updatePhoneNumber](https://docs.stripe.com/js/custom_checkout/update_phone_number)\napply changes asynchronously. Calling these methods before the customer finishes\nentering complete values might cause poor performance.- Instead of calling\n`updateEmail` or `updatePhoneNumber` on each input’s change event, wait until\nyour customer finishes the input, such as on input blur or when they submit the\nform for payment.\n- `updateEmail` now validates that the input is a properly formed email address\nand returns an error if an invalid input is used.\n- `updatePhoneNumber` still performs no validation on the input string.\n\n### custom_checkout_beta_3\n\n- The following fields have been added to the [Session\nobject](https://docs.stripe.com/js/custom_checkout/session_object):-\n[id](https://docs.stripe.com/js/custom_checkout/session_object#custom_checkout_session_object-id)\n-\n[livemode](https://docs.stripe.com/js/custom_checkout/session_object#custom_checkout_session_object-livemode)\n-\n[businessName](https://docs.stripe.com/js/custom_checkout/session_object#custom_checkout_session_object-businessName)\n- Saved cards can now be reused. Learn how to [save and\nreuse](https://docs.stripe.com/payments/checkout/save-during-payment) payment\nmethods.\n- Breaking The default\n[layout](https://docs.stripe.com/js/elements_object/create_payment_element#payment_element_create-options-layout)\nof the Payment Element has been changed to `accordion`.- To continue using the\nprevious default layout, you must explicitly specify `layout='tabs'`.\n- Breaking The default behavior of\n[confirm](https://docs.stripe.com/js/custom_checkout/confirm) has been changed\nto always redirect to your `return_url` after a successful confirmation.-\nPreviously, `confirm` redirected only if the customer chooses a redirect-based\npayment method. To continue using the old behavior, you must pass\n[redirect=‘if_required’](https://docs.stripe.com/js/custom_checkout/confirm#custom_checkout_session_confirm-options-redirect)\nto `confirm`.\n\n### custom_checkout_beta_2\n\n- Breaking The `lineItem.recurring.interval_count` field has been removed and\nreplaced with\n[lineItem.recurring.intervalCount](https://docs.stripe.com/js/custom_checkout/session_object#custom_checkout_session_object-lineItems-recurring-intervalCount).\n- Breaking The `lineItem.amount` field has been removed and replaced with the\nfollowing:-\n[lineItem.amountSubtotal](https://docs.stripe.com/js/custom_checkout/session_object#custom_checkout_session_object-lineItems-amountSubtotal)\n-\n[lineItem.amountDiscount](https://docs.stripe.com/js/custom_checkout/session_object#custom_checkout_session_object-lineItems-amountDiscount)\n-\n[lineItem.amountTaxInclusive](https://docs.stripe.com/js/custom_checkout/session_object#custom_checkout_session_object-lineItems-amountTaxInclusive)\n-\n[lineItem.amountTaxExclusive](https://docs.stripe.com/js/custom_checkout/session_object#custom_checkout_session_object-lineItems-amountTaxExclusive)\n\n### custom_checkout_beta_1\n\n*This is the initial front-end beta version.*\n\n## Back-end changelog\n\nSpecify the back-end beta version when [setting up your server\nlibrary](https://docs.stripe.com/checkout/custom/quickstart#set-up-server).\n\n*There are no changes to the back-end beta version.*\n\n## Links\n\n- [initializing\nStripe.js](https://docs.stripe.com/checkout/custom/quickstart#set-up-frontend)\n- [initCheckout](https://docs.stripe.com/js/custom_checkout/init)\n- [Express Checkout\nElement](https://docs.stripe.com/checkout/one-click-payment-buttons)\n- [confirm](https://docs.stripe.com/js/custom_checkout/confirm)\n- [confirm\nevent](https://docs.stripe.com/js/elements_object/express_checkout_element_confirm_event)\n-\n[applyPromotionCode](https://docs.stripe.com/js/custom_checkout/apply_promotion_code)\n-\n[billingAddress](https://docs.stripe.com/js/custom_checkout/session_object#custom_checkout_session_object-billingAddress)\n-\n[shippingAddress](https://docs.stripe.com/js/custom_checkout/session_object#custom_checkout_session_object-shippingAddress)\n- [change\nevent](https://docs.stripe.com/js/element/events/on_change?type=addressElement)\n-\n[images](https://docs.stripe.com/js/custom_checkout/session_object#custom_checkout_session_object-lineItems-images)\n- [Session object](https://docs.stripe.com/js/custom_checkout/session_object)\n-\n[fields](https://docs.stripe.com/js/custom_checkout/create_element?type=payment#custom_checkout_create_element-options-fields)\n-\n[paymentMethods](https://docs.stripe.com/js/custom_checkout/create_element?type=expressCheckout#custom_checkout_create_element-options-paymentMethods)\n- [createElement](https://docs.stripe.com/js/custom_checkout/create_element)\n- [updateEmail](https://docs.stripe.com/js/custom_checkout/update_email)\n-\n[updatePhoneNumber](https://docs.stripe.com/js/custom_checkout/update_phone_number)\n-\n[id](https://docs.stripe.com/js/custom_checkout/session_object#custom_checkout_session_object-id)\n-\n[livemode](https://docs.stripe.com/js/custom_checkout/session_object#custom_checkout_session_object-livemode)\n-\n[businessName](https://docs.stripe.com/js/custom_checkout/session_object#custom_checkout_session_object-businessName)\n- [save and\nreuse](https://docs.stripe.com/payments/checkout/save-during-payment)\n-\n[layout](https://docs.stripe.com/js/elements_object/create_payment_element#payment_element_create-options-layout)\n-\n[redirect=‘if_required’](https://docs.stripe.com/js/custom_checkout/confirm#custom_checkout_session_confirm-options-redirect)\n-\n[lineItem.recurring.intervalCount](https://docs.stripe.com/js/custom_checkout/session_object#custom_checkout_session_object-lineItems-recurring-intervalCount)\n-\n[lineItem.amountSubtotal](https://docs.stripe.com/js/custom_checkout/session_object#custom_checkout_session_object-lineItems-amountSubtotal)\n-\n[lineItem.amountDiscount](https://docs.stripe.com/js/custom_checkout/session_object#custom_checkout_session_object-lineItems-amountDiscount)\n-\n[lineItem.amountTaxInclusive](https://docs.stripe.com/js/custom_checkout/session_object#custom_checkout_session_object-lineItems-amountTaxInclusive)\n-\n[lineItem.amountTaxExclusive](https://docs.stripe.com/js/custom_checkout/session_object#custom_checkout_session_object-lineItems-amountTaxExclusive)\n- [setting up your server\nlibrary](https://docs.stripe.com/checkout/custom/quickstart#set-up-server)",
  "metadata": {
    "title": "Elements with Checkout Sessions API changelog | Stripe Documentation",
    "description": "Keep track of changes to the Elements with Checkout Sessions API integration.",
    "sourceURL": "https://docs.stripe.com/checkout/elements-with-checkout-sessions-api/changelog"
  }
}