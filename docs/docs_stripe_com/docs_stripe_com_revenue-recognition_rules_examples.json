{
  "content": "# Rules examples\n\n## Learn how to use rules through examples.\n\n## Tax treatment\n\nTo categorize a tax line item (for example, created by Avalara), you can set one\nrule like the one in this example:\n\nComponentsValueApply toInvoices > Line item description contains all of the\nfollowing: AvaTaxEffective periodStart: All past dates - End:\nIndefiniteTreatmentsTax (100%)\nIf you have a 10 USD [invoice](https://docs.stripe.com/api/invoices) line item\nwith the description “Sales Tax calculated by AvaTax,\" and the invoice finalizes\nin April, you’d see the account balances as in the following example:\n\nAccountAprilAccountsReceivable10 USDTaxLiability10 USD\n## Passthrough fees\n\nTo categorize 10% of an amount as a passthrough fee, you can set one rule like\nthe following example:\n\nComponentsValueApply toInvoices > All line itemsEffective periodStart: All past\ndates—End: IndefiniteTreatmentsAmortization over line item service period (90%)\nand Passthrough fee (10%)\nIf you have a 100 USD invoice line item (without a service period) that\nfinalizes in April, you’d see the account balances like the following example:\n\nAccountAprilAccountsReceivable100 USDRevenue90 USDPassthroughFees10 USD\n## Exclude transactions from a test customer\n\nTo exclude all the standalone payments from a test customer, you can set one\nrule like the following example:\n\nComponentsValue\nApply to\n\nCustomers > Customer email contains all of the following: test@stripe.com\n\nOther payments > All other payments\n\nEffective periodStart: All past dates—End: IndefiniteTreatmentsExclude revenue\n(100%)\nOther payments from the customer, whose email is test@stripe.com, would be\nexcluded from the report completely.\n\n## Exclude standalone payments\n\nTo exclude all standalone payments from the report, set a rule like the\nfollowing:\n\nComponentsValueApply toOther payments > All other paymentsEffective periodStart:\nAll past dates—End: IndefiniteTreatmentsExclude revenue (100%)\nThis rule restricts Revenue Recognition to only include recurring payments and\none-time invoice payments in your revenue accounting reports. Standalone\npayments are excluded from the report.\n\n## Amortize revenue over custom time period\n\nIn this example, we want to (1) amortize other payments from a small set of\ncustomers (for example, `cus_AAA` and `cus_BBB`) over one year and (2) amortize\nthe remaining other payments over one month.\n\nWe can make two rules and use the order of the rules as shown in the following\nexample:\n\n**Rule 1:** Amortize other payments over one year\n\nComponentsValue\nApply to\n\nCustomers > Customer ID matches any of the following: cus_AAA, cus_BBB\n\nOther payments > All other payments\n\nEffective periodStart: All past dates - End: IndefiniteTreatmentsAmortization\nover custom service period (100%) > Amortization starting 0 days from paid time\nover 1 year\n**Rule 2:** Amortize other payments over one month\n\nComponentsValueApply toOther payments > All other paymentsEffective periodStart:\nAll past dates - End: IndefiniteTreatmentsAmortization over custom service\nperiod (100%) > Amortization starting 0 days from paid time over 1 month\nOther payments from `cus_AAA` or `cus_BBB` would match Rule 1, and the revenue\nwould be amortized over one year. Other payments from any other customer would\nmatch Rule 2, and the revenue would be amortized over one month.\n\n## Links\n\n- [invoice](https://docs.stripe.com/api/invoices)",
  "metadata": {
    "title": "Rules examples | Stripe Documentation",
    "description": "Learn how to use rules through examples.",
    "sourceURL": "https://docs.stripe.com/revenue-recognition/rules/examples"
  }
}