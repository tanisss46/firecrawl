{
  "content": "# Accept a Klarna payment\n\n## Learn how to accept Klarna, a global buy now, pay later payment method.\n\n#### Unified line items with Klarna\n\nTo maximize approval rates when you integrate with Klarna, we recommend that you\ninclude Line Items data to represent what’s in a shopper’s cart. Reach out here\nto request access.\n\n#### Klarna on the Express Checkout Element\n\nKlarna on the Express Checkout Element is currently in private preview with\nlimited availability. Reach out here to request access.\n\nWebMobileStripe-hosted pageDirect API\n#### Caution\n\nStripe automatically presents your customers payment method options by\nevaluating their currency, payment method restrictions, and other parameters. We\nrecommend that you configure your payment methods from the Stripe Dashboard\nusing the instructions in [Accept a\npayment](https://docs.stripe.com/payments/accept-a-payment?platform=web&ui=stripe-hosted).\n\nIf you want to continue manually configuring the payment methods you present to\nyour customers with Checkout, use this guide. Otherwise, update your integration\nto [configure payment methods in the\nDashboard](https://docs.stripe.com/payments/dashboard-payment-methods).\n\nKlarna is a [single\nuse](https://docs.stripe.com/payments/payment-methods#usage), [immediate\nnotification](https://docs.stripe.com/payments/payment-methods#payment-notification)\npayment method that requires customers to\n[authenticate](https://docs.stripe.com/payments/payment-methods#customer-actions)\ntheir payment. Customers are redirected to a Klarna page, where they select\namong multiple payment options (immediate full payment, payment in installments,\nor deferred payment). When the customer accepts the terms, Klarna guarantees\nthat the funds are available to the customer and transfers the funds to your\nStripe account. The customer repays Klarna according to their selected payment\noption.\n\n#### Note\n\nBefore you start the integration, make sure your account is eligible for Klarna\nby navigating to your [Payment methods\nsettings](https://dashboard.stripe.com/settings/payment_methods).\n\n[Determine\ncompatibility](https://docs.stripe.com/payments/klarna/accept-a-payment#compatibility)\nA Checkout Session must satisfy all of the following conditions to support\nKlarna payments:\n\n- [Prices](https://docs.stripe.com/api/prices) for all line items must be in the\nsame currency. If you have line items in different currencies, create separate\nCheckout Sessions for each currency.\n\n#### Private preview\n\nTo create recurring or off-session payments with Klarna, sign up for the private\npreview.\n\n[Accept a\npayment](https://docs.stripe.com/payments/klarna/accept-a-payment#accept-a-payment)\n#### Note\n\nBuild an integration to [accept a\npayment](https://docs.stripe.com/payments/accept-a-payment?integration=checkout)\nwith Checkout before using this guide.\n\nUse this guide to learn how to enable Klarna—it shows the differences between\naccepting a card payment and using Klarna.\n\n### Enable Klarna as a payment method\n\nWhen creating a new [Checkout\nSession](https://docs.stripe.com/api/checkout/sessions), you need to:\n\n- Add `klarna` to the list of `payment_method_types`\n- Make sure all your `line_items` use the same currency.\n\n```\nStripe::Checkout::Session.create({\n mode: 'payment',\n payment_method_types: ['card'],\n payment_method_types: ['card', 'klarna'],\n line_items: [{\n price_data: {\n currency: 'usd',\n# To accept `klarna`, all line items must have currency: eur, dkk, gbp, nok,\nsek, usd, czk, ron, aud, nzd, cad, pln, chf\n currency: 'eur',\n product_data: {\n name: 'T-shirt',\n },\n unit_amount: 2000,\n },\n quantity: 1,\n }],\n success_url: 'https://example.com/success',\n cancel_url: 'https://example.com/cancel',\n})\n```\n\n### Fulfill your orders\n\nAfter accepting a payment, learn how to [fulfill\norders](https://docs.stripe.com/checkout/fulfillment).\n\n[Test your\nintegration](https://docs.stripe.com/payments/klarna/accept-a-payment#test-integration)\nWhen testing your Checkout integration, select Klarna as the payment method and\nclick the **Pay** button. In test mode, you can then simulate different outcomes\nwithin Klarna’s redirect.\n\nBelow, we have specially selected test data for the currently supported customer\ncountries. In test mode, Klarna approves or denies a transaction based on the\nsupplied email address.\n\nAustraliaAustriaBelgiumCanadaCzechiaDenmarkFinlandFranceGermanyGreeceIrelandItalyNetherlandsNew\nZealandNorwayPolandPortugalRomaniaSpainSwedenSwitzerlandUnited KingdomUnited\nStatesApprovedDeniedDate of Birth10-07-197003-05-1994First NameTestJohnLast\nNamePerson-ausnowStreetWharf StSilverwater RdHouse number41-5Postal\nCode48772128CityPort\nDouglasSilverwaterRegionQLDNSWPhone+61473752244+61473763254Emailcustomer@email.aucustomer+denied@email.au\nFor production testing, you can use an amount of `3500` in your local currency\nto test all Klarna payment options besides Financing. For example, if you want\nto test “Pay in 3” in Italy, you can use a transaction of 35.00 EUR.\n\n### Two-step authentication\n\nAny six digit number is a valid two-step authentication code. Use `999999` for\nauthentication to fail.\n\n### Repayment method\n\nInside the Klarna flow, you can use the following test values to try various\nrepayment types:\n\nTypeValueDirect DebitDE11520513735120710131Bank transferDemo BankCredit Card-\nNumber: 4111 1111 1111 1111\n- CVV: 123\n- Expiration: any valid date in the future\nDebit Card- Number: 4012 8888 8888 1881\n- CVV: 123\n- Expiration: any valid date in the future\n[Handle refunds and\ndisputes](https://docs.stripe.com/payments/klarna/accept-a-payment#refunds-and-disputes)\nLearn more about Klarna\n[disputes](https://docs.stripe.com/payments/klarna#disputed-payments) and\n[refunds](https://docs.stripe.com/payments/klarna#refunds).\n\n## Links\n\n- [Accept a\npayment](https://docs.stripe.com/payments/accept-a-payment?platform=web&ui=stripe-hosted)\n- [configure payment methods in the\nDashboard](https://docs.stripe.com/payments/dashboard-payment-methods)\n- [single use](https://docs.stripe.com/payments/payment-methods#usage)\n- [immediate\nnotification](https://docs.stripe.com/payments/payment-methods#payment-notification)\n-\n[authenticate](https://docs.stripe.com/payments/payment-methods#customer-actions)\n- [Payment methods\nsettings](https://dashboard.stripe.com/settings/payment_methods)\n- [Prices](https://docs.stripe.com/api/prices)\n- [accept a\npayment](https://docs.stripe.com/payments/accept-a-payment?integration=checkout)\n- [Checkout Session](https://docs.stripe.com/api/checkout/sessions)\n- [https://example.com/success](https://example.com/success)\n- [https://example.com/cancel](https://example.com/cancel)\n- [fulfill orders](https://docs.stripe.com/checkout/fulfillment)\n- [disputes](https://docs.stripe.com/payments/klarna#disputed-payments)\n- [refunds](https://docs.stripe.com/payments/klarna#refunds)",
  "metadata": {
    "title": "Accept a Klarna payment | Stripe Documentation",
    "description": "Learn how to accept Klarna, a global buy now, pay later payment method.",
    "sourceURL": "https://docs.stripe.com/payments/klarna/accept-a-payment"
  }
}