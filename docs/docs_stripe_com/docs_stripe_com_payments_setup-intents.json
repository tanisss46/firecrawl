{
  "content": "# The Setup Intents API\n\n## Learn more about the Setup Intents API for saving payment methods.\n\nUse the [Setup Intents API](https://docs.stripe.com/api/setup_intents) to set up\na payment method for future payments. It’s similar to a payment, but no charge\nis created. [Set up a payment method for future payments\nnow](https://docs.stripe.com/payments/save-and-reuse).\n\nThe goal is to have payment credentials saved and optimized for future payments,\nmeaning the payment method is configured correctly for any scenario. When\nsetting up a card, for example, it may be necessary to authenticate the customer\nor check the card’s validity with the customer’s bank. Stripe updates the\n`SetupIntent` object throughout that process.\n\n![UI that collects card details but does not charge the\ncard](https://b.stripecdn.com/docs-statics-srv/assets/reuse-si.2499c9ffdcfc8bd5d430e9a1809890bf.svg)\n\n## Saving and reusing payment methods\n\nThe Setup Intents API is useful for businesses that onboard customers but don’t\ncharge them right away:\n\n- A car rental company that collects payment method details before the customer\nrents the car and charges the card after the rental period ends\n- A crowdfunding website that collects card details to be charged later, only if\nthe campaign reaches a certain amount\n- A utility company that charges a different amount each month based on usage\nbut collects SEPA payment details before the first month’s payment\n\n#### Note\n\nYou can set up payment methods for future use with\n[Checkout](https://docs.stripe.com/payments/save-and-reuse?platform=checkout)\ntoo.\n\n#### Get started\n\n- [Save cards without making an initial\npayment](https://docs.stripe.com/payments/save-and-reuse)\n- [Save bank details for SEPA Direct Debit\npayments](https://docs.stripe.com/payments/sepa-debit/set-up-payment)\n- [Save bank details for BECS Direct Debit\npayments](https://docs.stripe.com/payments/au-becs-debit/set-up-payment)\n\n## Getting permission to save a payment method\n\n#### Compliance\n\nYou’re responsible for your compliance with all applicable laws, regulations,\nand network rules when saving a customer’s payment details. If you set up a\npayment method for future on-session payments, such as displaying the payment\nmethod on a future checkout page, make sure that you explicitly collect consent\nfrom the customer for this specific use. For example, include a “Save my payment\nmethod for future use” checkbox to collect consent. If you need to differentiate\nbetween payment methods saved only for offline usages and payment methods you\ncan present to your customer for future on-session purchases, you can utilize\nthe\n[allow_redisplay](https://docs.stripe.com/api/payment_methods/object#payment_method_object-allow_redisplay)\nparameter on the PaymentMethod object.\n\nIf you set up a payment method for future off-session payments, you need\npermission. Creating an agreement (sometimes called a *mandate*) up front allows\nyou to charge the customer when they’re not actively using your website or app.\n\nAdd terms to your website or app that state how you plan to process payments,\nand let customers opt in. At a minimum, ensure that your terms cover the\nfollowing:\n\n- The customer’s permission to your initiating a payment or a series of payments\non their behalf\n- The anticipated frequency of payments (that is, one-time or recurring)\n- How the payment amount will be determined\n\nSee recommended mandate text for [saving\ncards](https://docs.stripe.com/payments/save-and-reuse?platform=web&ui=elements#collect-payment-details)\nor [saving SEPA bank\ndetails](https://docs.stripe.com/payments/sepa-debit/set-up-payment).\n\nFor users impacted by\n[SCA](https://docs.stripe.com/strong-customer-authentication), this agreement\nhelps payments succeed without interruption. When you set up your integration to\nproperly save a card, Stripe marks any subsequent off-session payment as a\n[merchant-initiated\ntransaction](https://stripe.com/guides/strong-customer-authentication#merchant-initiated-transactions-including-variable-subscriptions)\n(MIT) so that your customers don’t have to come back online and authenticate.\nMerchant-initiated transactions require an agreement between you and your\ncustomer.\n\n## Increasing success rate by specifying usage\n\nThe\n[usage](https://docs.stripe.com/api/setup_intents/object#setup_intent_object-usage)\nparameter tells Stripe how you plan to use payment method details later. For\nsome payment methods, Stripe can use your `usage` setting to pick the most\nfrictionless flow for the customer. This optimization is designed to increase\nthe number of successful payments.\n\nFor example, credit and debit cards under European\n[SCA](https://docs.stripe.com/strong-customer-authentication) regulation may\nrequire the customer to authenticate the card during the saving process. Setting\n`usage` to `off_session` properly authenticates a credit or debit card for\noff-session payments so that your customer doesn’t have to come back online and\nre-authenticate. So although it creates initial friction in the setup flow,\nsetting `usage` to `off_session` can reduce customer intervention in later\noff-session payments.\n\nHowever, if you only plan to use the card when the customer is checking out, set\n`usage` to `on_session`. This lets the bank know you plan to use the card when\nthe customer is available to authenticate, so you can postpone authenticating\nthe card details until then and avoid upfront friction.\n\nHow you intend to use the cardusage enum value to useOn-session payments\nonly`on_session`Off-session payments only`off_session` (default)Both on and\noff-session payments`off_session` (default)\n`Usage` is an optimization. You can still use a card that’s set up for\non-session payments to make off-session payments, but banks are more likely to\nreject the off-session payment and require authentication from the customer.\nEither case might still require later authentication, so [build a recovery\nprocess](https://docs.stripe.com/billing/revenue-recovery) in your app. When an\noff-session card payment requires authentication, bring your customer back\nonline to complete the payment.\n\nIf not specified, `usage` defaults to `off_session`. See how to create a\nSetupIntent on your server and specify the `usage`:\n\n```\ncurl https://api.stripe.com/v1/setup_intents \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d usage=on_session\n```\n\n#### Note\n\nFollow the guidance on this page to ensure your integration handles cards that\nrequire [Strong Customer\nAuthentication](https://docs.stripe.com/strong-customer-authentication).\nCorrectly flagging transactions allows Stripe to claim correct SCA exemptions on\nyour behalf to minimize the need for authentication with each payment.\n\n## Links\n\n- [Setup Intents API](https://docs.stripe.com/api/setup_intents)\n- [Set up a payment method for future payments\nnow](https://docs.stripe.com/payments/save-and-reuse)\n- [Checkout](https://docs.stripe.com/payments/save-and-reuse?platform=checkout)\n- [Save bank details for SEPA Direct Debit\npayments](https://docs.stripe.com/payments/sepa-debit/set-up-payment)\n- [Save bank details for BECS Direct Debit\npayments](https://docs.stripe.com/payments/au-becs-debit/set-up-payment)\n-\n[allow_redisplay](https://docs.stripe.com/api/payment_methods/object#payment_method_object-allow_redisplay)\n- [saving\ncards](https://docs.stripe.com/payments/save-and-reuse?platform=web&ui=elements#collect-payment-details)\n- [SCA](https://docs.stripe.com/strong-customer-authentication)\n- [merchant-initiated\ntransaction](https://stripe.com/guides/strong-customer-authentication#merchant-initiated-transactions-including-variable-subscriptions)\n-\n[usage](https://docs.stripe.com/api/setup_intents/object#setup_intent_object-usage)\n- [build a recovery process](https://docs.stripe.com/billing/revenue-recovery)",
  "metadata": {
    "title": "The Setup Intents API | Stripe Documentation",
    "description": "Learn more about the Setup Intents API for saving payment methods.",
    "sourceURL": "https://docs.stripe.com/payments/setup-intents"
  }
}