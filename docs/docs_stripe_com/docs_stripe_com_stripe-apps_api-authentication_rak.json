{
  "content": "# Restricted API key authentication\n\n## Generate a permissioned restricted API key (RAK) when a user installs your app.\n\nA user authenticating with the RAK follows these steps.\n\n- On your site, the user clicks a link that redirects them to Stripe.\n- On Stripe, the user selects the appropriate account and accepts permissions\nfor installing the app.\n- After the app is installed, it generates a restricted API key provisioned with\nthe proper permissions.\n- The user copies the generated keys and provides them to your site.\n\n![Installing an app to generate a\nRAK](https://b.stripecdn.com/docs-statics-srv/assets/rak-user-journey.14fda11d13eaeb5cdbebbea71f277126.png)\n\n[Develop your\napp](https://docs.stripe.com/stripe-apps/api-authentication/rak#develop-app)-\nCreate your app using our template.\n\n```\nstripe apps create <app-name> --template restricted-api-key-app\n```\n\nIf you have an existing app, run this command in Stripe CLI:\n\n```\nstripe apps set api-access-type restricted_api_key\n```\n- Add all the\n[permissions](https://docs.stripe.com/stripe-apps/reference/permissions) that\nyour app requires.\n- Edit your [app settings\npage](https://docs.stripe.com/stripe-apps/app-settings). If you use the template\nabove, a settings view is automatically created. We recommend adding\ninstructions or links to your own documentation on this page for users to\nreference when setting up your app.\n\n![The install link page showing app\npermissions](https://b.stripecdn.com/docs-statics-srv/assets/settingsview.ca0e43bcc311ea9819da61b2949e6ed1.png)\n\nExample app settings page\n- [Upload](https://docs.stripe.com/stripe-apps/upload-install-app) your app to\nStripe.\n\n#### Note\n\nAfter you upload your RAK app, you canâ€™t change the [API authentication\nmethod](https://docs.stripe.com/stripe-apps/api-authentication).\n\n```\nstripe apps upload\n```\n[Test your\napp](https://docs.stripe.com/stripe-apps/api-authentication/rak#test-app)\nYou can test the RAK authentication on your own account.\n\n- [Install your app in test\nmode](https://docs.stripe.com/stripe-apps/versions-and-releases#changing-between-versions)\non your account.\n- Go to your [installed apps page](https://dashboard.stripe.com/settings/apps)\nin settings and click your recently installed app.\n- From the app settings page, click **View API keys**. this secret key to\ntest your integration.\n\nTo test your app on a different Stripe account than the one used to develop your\napp, use [external testing](https://docs.stripe.com/stripe-apps/test-app).\n\n## Links\n\n- [permissions](https://docs.stripe.com/stripe-apps/reference/permissions)\n- [app settings page](https://docs.stripe.com/stripe-apps/app-settings)\n- [Upload](https://docs.stripe.com/stripe-apps/upload-install-app)\n- [API authentication\nmethod](https://docs.stripe.com/stripe-apps/api-authentication)\n- [Install your app in test\nmode](https://docs.stripe.com/stripe-apps/versions-and-releases#changing-between-versions)\n- [installed apps page](https://dashboard.stripe.com/settings/apps)\n- [external testing](https://docs.stripe.com/stripe-apps/test-app)",
  "metadata": {
    "title": "Restricted API key authentication | Stripe Documentation",
    "description": "Generate a permissioned restricted API key (RAK) when a user installs your app.",
    "sourceURL": "https://docs.stripe.com/stripe-apps/api-authentication/rak"
  }
}