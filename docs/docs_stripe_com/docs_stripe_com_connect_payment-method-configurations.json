{
  "content": "# Payment Method Configurations API\n\n## Learn how to use the Configurations API to give connected account owners more control over the payment methods they offer.\n\nUse the Payment Method Configurations API to allow your connected account owners\nto opt in or opt out of a payment method through your own settings page. You can\nview which payment methods are enabled for connected accounts, market payment\nmethods, and set display preferences for relevant payment types.\n\nYou can either build your own payment method settings UI with the API or use the\nembedded payment method settings component.\n\n#### Private preview\n\nThe **embedded payment method settings component** allows connected accounts to\nconfigure the payment methods they offer at checkout without the need to access\nthe Stripe Dashboard. [Request\naccess](https://docs.stripe.com/connect/supported-embedded-components/payment-method-settings#request-access)\nand learn how to [integrate with Payment Method\nConfigurations](https://docs.stripe.com/connect/supported-embedded-components/payment-method-settings#integration).\n\n[Set the platform level default\nstate](https://docs.stripe.com/connect/payment-method-configurations#section-1)\nIn the Stripe Dashboard, set the platform-level default for individual payment\nmethods in the [Manage payment methods for your connected\naccounts](https://dashboard.stripe.com/test/settings/payment_methods/connected_accounts)\npage to edit the default-enabled payment methods.\n\nIn the [Dashboard](https://dashboard.stripe.com/login), click the gear icon in\nthe top-right corner to open the **Product settings** page. Click the **Payment\nmethods** link in the **Payments** section.\n\n![Settings option in the\nDashboard](https://b.stripecdn.com/docs-statics-srv/assets/settings-api-dashboard.01bd465492acb49ada30fdda9e9f5d08.png)\n\n![Payment methods under Payments\nsettings](https://b.stripecdn.com/docs-statics-srv/assets/settings-api-payment-methods.7824d81ee28dd2775b73d556da33d82a.png)\n\nAs a platform, you can set payment method preferences for your platform and for\nyour connected accounts. The settings for **Your account** apply to your direct\npayment traffic. For example, if you charge your users a monthly fee to use your\nplatform through your own checkout page, use the **Your Account** settings to\nmanage those payments.\n\nThe settings for **Your connected accounts** enable you to manage the payment\nmethods that the connected accounts on your platform can accept.\n\nTo set the default state for all connected accounts on your platform, click the\n**Edit settings** link under **Your connected accounts**.\n\n![Payment methods settings for your account and connected\naccounts](https://b.stripecdn.com/docs-statics-srv/assets/settings-api-connected-accounts.ba46dc06c0684b481667e91cf4e3fcfd.png)\n\nFor each payment method, use the dropdown to select the desired setting:\n\n- **Off by default** connected accounts can turn the payment method on or off.\nThe default is off.\n- **Blocked** turns the payment method off for all connected accounts. Connected\naccount owners can’t opt in.\n- **On by default** connected accounts can turn the payment method on or off.\nThe default is on.\n\n#### Note\n\nBy default, Stripe enables a few commonly used payment methods such as Cards,\nApple Pay, and Google Pay.\n\n![Configure settings for each payment\nmethod](https://b.stripecdn.com/docs-statics-srv/assets/settings-api-wallets.956b27fd0756e064d433aaa5999130fe.png)\n\n[Determine availability and display preference for connected\naccounts](https://docs.stripe.com/connect/payment-method-configurations#section-2)\nUse the Payment Method Configurations API with the connected account ID to read\nthe current state of a payment method for a specific connected account. If the\nconnected account has more than one configuration you can filter the results by\nyour application’s `client_id`, located in your [Connect\nsettings](https://dashboard.stripe.com/settings/connect/onboarding-options/oauth).\n\n#### Working with multiple payment method configurations\n\nIf you’ve created additional payment method configurations for a connected\naccount, you can identify the original configuration by the `is_default`\nproperty. Stripe uses the default configuration for payments if you don’t [pass\na configuration\nID](https://docs.stripe.com/connect/multiple-payment-method-configurations#use-payment-method-configuration)\ninto your checkout flow. For more information about `is_default` and other\nproperties of payment method configurations, see the [API\nreference](https://docs.stripe.com/api/payment_method_configurations/object#payment_method_configuration_object-is_default).\n\n```\ncurl -G https://api.stripe.com/v1/payment_method_configurations \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -H \"Stripe-Account: {{CONNECTED_ACCOUNT_ID}}\" \\\n -d application={{CLIENT_APPLICATION_ID}}\n```\n\n```\n{\n \"object\": \"list\",\n \"data\": [\n {\n \"id\": \"{{PAYMENT_METHOD_CONFIGURATION_ID}}\",\n \"object\": \"payment_method_configuration\",\n \"name\": \"Default\",\n \"active\": true,\n \"is_default\": true,\n \"livemode\": false,\n \"application\": \"{{CLIENT_APPLICATION_ID}}\",\n \"acss_debit\": {\n \"available\": false,\n \"display_preference\": {\n \"overridable\": true,\n \"preference\": \"off\",\n \"value\": \"off\"\n }\n },\n \"affirm\": {\n \"available\": false,\n \"display_preference\": {\n \"overridable\": true,\n \"preference\": \"off\",\n \"value\": \"off\"\n }\n },\n \"afterpay_clearpay\": {\n \"available\": false,\n \"display_preference\": {\n \"overridable\": true,\n \"preference\": \"off\",\n \"value\": \"off\"\n }\n },\n ... additional payment methods\n }\n ],\n \"has_more\": false,\n \"url\": \"/v1/payment_method_configurations\"\n}\n```\n\nIf successful, the return list displays each payment method and includes two\nparameters outlining availability and display preference.\n\n- `available` is the combination of\n[capability](https://docs.stripe.com/api/capabilities/object) value (`active`,\n`inactive`, `pending`, or `unrequested`) and `display_preference` value.\n\nYou can use the available field to know whether or not a buyer sees this payment\nmethod at checkout time. If available is `true`, that payment method’s\ncapability is active and `display_preference` is on. If available is `false`,\nthat payment method either doesn’t have an active capability or the\n`display_preference` value is off and buyers won’t see this payment method at\ncheckout time. To simplify your integration and take advantage of other\nfeatures, use dynamic payment methods at checkout time which automatically reads\nthis parameter and shows the right payment methods to buyers.\n- `display_preference` has three components: `overridable`, `preference`, and\n`value`.\n\n- `overridable` is read-only, and indicates whether the connected account’s\npreference can override the default set above.\n- `preference` is writable, and stores the connected account’s preference.\n- `value` is read-only, and reflects the effective `display_preference` value.\n\n#### Note\n\nOnly payment methods that are relevant in the connected account’s country are\nshown in the API response and are configurable. [Check country\nsupport](https://docs.stripe.com/payments/payment-methods/integration-options).\n\n[Update display_preference when a connected account edits their\nsettings](https://docs.stripe.com/connect/payment-method-configurations#section-3)\nWhen a connected account owner takes action to turn on or off a payment method,\nyou can update the `display_preference` `preference` attribute. This stores the\nconnected account owner’s preference for that payment method and is used to\ndetermine whether the payment method is shown to buyers.\n\n```\ncurl\nhttps://api.stripe.com/v1/payment_method_configurations/{{PAYMENT_METHOD_CONFIGURATION_ID}}\n\\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d \"affirm[display_preference][preference]\"=on\n```\n\n```\n{\n \"id\": \"{{PAYMENT_METHOD_CONFIGURATION_ID}}\",\n \"object\": \"payment_method_configuration\",\n \"name\": \"Default\",\n \"active\": true,\n \"is_default\": true,\n \"livemode\": false,\n \"application\": \"{{CLIENT_APPLICATION_ID}}\",\n \"acss_debit\": {\n \"available\": false,\n \"display_preference\": {\n \"overridable\": true,\n \"preference\": \"off\",\n \"value\": \"off\"\n }\n },\n \"affirm\": {\n \"available\": true,\n \"display_preference\": {\n \"overridable\": true,\n \"preference\": \"on\",\n \"value\": \"on\"\n }\n },\n \"afterpay_clearpay\": {\n \"available\": false,\n \"display_preference\": {\n \"overridable\": true,\n \"preference\": \"off\",\n \"value\": \"off\"\n }\n },\n ... additional payment methods\n}\n```\n\n[Display available payment methods on\ncheckout](https://docs.stripe.com/connect/payment-method-configurations#section-4)\nYou can manage payment methods from the\n[Dashboard](https://dashboard.stripe.com/settings/payment_methods). Stripe\nhandles the return of eligible payment methods based on factors such as the\ntransaction’s amount, currency, and payment flow. This shows buyers in your\ncheckout flow only the payment methods where `available` is `true`.\n\nIf you want to pre-fetch the available payment methods for a connected account\nbefore you render your checkout page, call the Payment Method Configurations API\nto get the list of payment methods. Use those with `available` set to `true`.\n\n[Support Card type payment\nmethods](https://docs.stripe.com/connect/payment-method-configurations#section-5)\nSome payment methods, such as Apple Pay and Link, aren’t included as separate\npayment method types on a PaymentIntent and are confirmed only when supplying\n`card`. With the Payment Method Configurations API, you can let connected\naccount owners opt in or opt out of these specific payment methods and prevent\nthem from showing up in the UI.\n\n[Market payment methods to your connected account\nowners](https://docs.stripe.com/connect/payment-method-configurations#section-6)\nUse targeted marketing messaging to encourage connected account owners to opt in\nto specific payment methods they’re eligible for but haven’t yet opted in to.\n\nCall the GET method to retrieve the status of the payment method configuration\nto determine when to promote a payment method. You can determine if a connected\naccount owner has interacted with your configuration before by reading the\n`display_preference` value. If the `display_preference` `preference` is `none`,\nthe connected account owner hasn’t changed the default configuration. If the\n`preference` value is `on` or `off`, the connected account owner has interacted\nwith the configuration and you can choose whether to suppress the marketing\nmessage.\n\n## See also\n\n- [Connect integration guide](https://docs.stripe.com/connect/charges)\n- [Multiple payment method\nconfigurations](https://docs.stripe.com/connect/multiple-payment-method-configurations)\n- [Adding payment method\ncapabilities](https://docs.stripe.com/connect/payment-methods)\n\n## Links\n\n- [Request\naccess](https://docs.stripe.com/connect/supported-embedded-components/payment-method-settings#request-access)\n- [integrate with Payment Method\nConfigurations](https://docs.stripe.com/connect/supported-embedded-components/payment-method-settings#integration)\n- [Manage payment methods for your connected\naccounts](https://dashboard.stripe.com/test/settings/payment_methods/connected_accounts)\n- [Dashboard](https://dashboard.stripe.com/login)\n- [Connect\nsettings](https://dashboard.stripe.com/settings/connect/onboarding-options/oauth)\n- [pass a configuration\nID](https://docs.stripe.com/connect/multiple-payment-method-configurations#use-payment-method-configuration)\n- [API\nreference](https://docs.stripe.com/api/payment_method_configurations/object#payment_method_configuration_object-is_default)\n- [capability](https://docs.stripe.com/api/capabilities/object)\n- [Check country\nsupport](https://docs.stripe.com/payments/payment-methods/integration-options)\n- [Dashboard](https://dashboard.stripe.com/settings/payment_methods)\n- [Connect integration guide](https://docs.stripe.com/connect/charges)\n- [Multiple payment method\nconfigurations](https://docs.stripe.com/connect/multiple-payment-method-configurations)\n- [Adding payment method\ncapabilities](https://docs.stripe.com/connect/payment-methods)",
  "metadata": {
    "title": "Payment Method Configurations API | Stripe Documentation",
    "description": "Learn how to use the Configurations API to give connected account owners more control over the payment methods they offer.",
    "sourceURL": "https://docs.stripe.com/connect/payment-method-configurations"
  }
}