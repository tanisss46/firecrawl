{
  "content": "# Customer balance\n\n## Learn how to use the customer balance with payments.\n\nYour customers might have associated balances that contain two types of\nfunds—cash and credit.\n\n## Cash balances\n\nA customer’s cash balance represents funds that they can use for payment. When\nthey overpay or send an amount using a bank transfer that isn’t automatically\nreconciled with any outstanding payment, we add these funds to the customer cash\nbalance. You can use these funds for later payments for the same customer, or\n[initiate a\nrefund](https://docs.stripe.com/payments/customer-balance/refunding#create-return-dashboard)\nfrom their cash balance to return the funds to their bank account, limited to\nthe amount available in the customer balance.\n\nA customer can have cash balances in all currencies that you accept bank\ntransfer payments in- each with it’s own [funding\ninstruction](https://docs.stripe.com/payments/bank-transfers#funding-instructions).\n\nYou can’t add funds to the customer cash balance directly. This isn’t a balance\nthat customers can top up and is only there as a reconciliation layer—it’s not a\ndigital wallet or e-money. You can’t use the cash balance for any other purpose\nbesides future payments, or returns to the customer it’s associated with.\n\n## Customer invoice balance\n\nIn contrast to a cash balance, an *invoice balance* is an\n[Invoices](https://docs.stripe.com/api/invoices) feature that represents\nliability between you and the customer. You can’t use invoice balance funds for\npayment, but you can apply them to offset future invoices. You can update the\ninvoice balance by creating an adjustment [Customer Balance\nTransaction](https://docs.stripe.com/api/customer_balance_transactions/object).\n\n## View the customer balance\n\nYou can find a customer’s balance with both the API and through the Stripe\nDashboard. To view a customer’s balance using the API, first retrieve the\n`customer` and then expand the `cash_balance` field.\n\n```\ncurl https://api.stripe.com/v1/customers/{{CUSTOMER_ID}}?expand[]=cash_balance \\\n -u sk_test_BQokikJOvBiI2HlWgH4olfQ2: \\\n```\n\n```\n{\n \"id\": \"cus_HgrkK7bxHMy65g\",\n \"object\": \"customer\",\n \"address\": null,\n \"cash_balance\": {\n \"available\": {\n \"usd\": 50,\n },\n \"settings\": {\n \"reconciliation_mode\": \"automatic\"\n },\n \"livemode\": \"true\",\n \"object\": \"cash_balance\",\n },\n \"created\": 1598918400,\n```\n\nSee all 78 lines\nTo view a customer’s balance in the Dashboard, navigate to the **Customer**\npage. The customer’s balance appears in the **Payment methods** section.\n\n## Make a payment from the cash balance\n\nWhen your customer has a cash balance, you can use the funds immediately to make\na payment up to the available amount. To do this, create a PaymentIntent using\nthe `customer_balance` payment method type.\n\n```\ncurl https://api.stripe.com/v1/payment_intents \\\n -u sk_test_BQokikJOvBiI2HlWgH4olfQ2: \\\n -d amount=1099 \\\n -d currency=usd \\\n -d customer=\"{{CUSTOMER_ID}}\" \\\n -d \"payment_method_types[]\"=customer_balance \\\n -d \"payment_method_data[type]\"=customer_balance \\\n -d confirm=true\n```\n\nWhen your customer has a cash balance, you can use the funds immediately to make\na payment up to the available amount. You can do this by using either the API or\nthe Dashboard.\n\nTo make a payment using the API, create a PaymentIntent using the\n`customer_balance` payment method type.\n\nThe payment succeeds if the cash balance has sufficient funds, and fails\notherwise.\n\nTo collect more funds from the customer when the cash balance is insufficient,\nuse the customer balance with a [bank transfer\nfunding](https://docs.stripe.com/payments/bank-transfers/accept-a-payment).\n\n## List changes to the customer balance\n\nChanges to the customer’s cash balance are modeled as a list of [cash balance\ntransactions](https://docs.stripe.com/api/cash_balance_transactions/object). You\ncan retrieve these transactions for a customer to see how their cash balance has\nchanged over time.\n\n#### Note\n\nFor a customer with multiple cash balances in different currencies, listing\nchanges to the cash balance will return changes for all the different\ncurrencies.\n\n## Cash balance transaction types\n\nCash balance transactions have a\n[type](https://docs.stripe.com/api/cash_balance_transactions/object#customer_cash_balance_transaction_object-type)\nvalue indicating the type of action that caused the cash balance to change.\n\nTypeDescription`funded`The customer has funded their balance by making a bank\ntransfer. Funds represented by these transactions might be automatically applied\nto payment intents and invoices depending on the\n[reconciliation](https://docs.stripe.com/payments/customer-balance/reconciliation)\nprocedure. If these funds are applied automatically, you’ll see additional\ntransactions of type `applied_to_payment` representing\nthat.`applied_to_payment`Funds from the cash balance were applied to a payment\nintent, either by\n[reconciliation](https://docs.stripe.com/payments/customer-balance/reconciliation#cash-automatic-reconciliation)\nafter funding arrives, or by [manual\nreconciliation](https://docs.stripe.com/payments/customer-balance/reconciliation#cash-manual-reconciliation).`unapplied_from_payment`A\n[partially\nfunded](https://docs.stripe.com/payments/bank-transfers/accept-a-payment?payment-ui=direct-api#handling-underpayments-and-overpayments)\npayment intent was\n[modified](https://docs.stripe.com/api/payment_intents/update) or\n[canceled](https://docs.stripe.com/api/payment_intents/cancel), and the funds\nwere returned to the customer’s cash balance. You can use these funds for future\npayments.`refunded_from_payment`A successful payment intent has been [refunded\nto the customer cash\nbalance](https://docs.stripe.com/payments/customer-balance/refunding#refund-customer-balance-payment-customer-balance).\nYou can use these funds for future payments.`return_initiated`Unspent funds are\nbeing returned to the customer’s bank account from their cash\nbalance.`return_canceled`An attempt to return funds to the customer’s bank\naccount has been canceled, either because you [canceled the refund before the\ncustomer submitted their bank\ndetails](https://docs.stripe.com/payments/customer-balance/refunding#create-return-dashboard-cancel),\nor we weren’t able to collect bank account details from the customer. For more\ninformation about refund state transitions, see [Refund bank transfer\npayments](https://docs.stripe.com/payments/customer-balance/refunding#refund-customer-balance-payment-bank-account).`funding_reversed`Funds\nhave been debited from the cash balance due to an [ACH\nreversal](https://docs.stripe.com/payments/payment-methods/bank-transfers/reversals-us).`adjusted_for_overdraft`Funds\nhave been returned to the cash balance after an [ACH\nreversal](https://docs.stripe.com/payments/payment-methods/bank-transfers/reversals-us)\ncaused the balance to go negative.`transferred_to_balance`Funds have been moved\nfrom the cash balance to your Stripe balance due to failed refunds or\ninsufficient refund details.\n\n## Links\n\n- [initiate a\nrefund](https://docs.stripe.com/payments/customer-balance/refunding#create-return-dashboard)\n- [funding\ninstruction](https://docs.stripe.com/payments/bank-transfers#funding-instructions)\n- [Invoices](https://docs.stripe.com/api/invoices)\n- [Customer Balance\nTransaction](https://docs.stripe.com/api/customer_balance_transactions/object)\n- [bank transfer\nfunding](https://docs.stripe.com/payments/bank-transfers/accept-a-payment)\n- [cash balance\ntransactions](https://docs.stripe.com/api/cash_balance_transactions/object)\n-\n[type](https://docs.stripe.com/api/cash_balance_transactions/object#customer_cash_balance_transaction_object-type)\n-\n[reconciliation](https://docs.stripe.com/payments/customer-balance/reconciliation)\n-\n[reconciliation](https://docs.stripe.com/payments/customer-balance/reconciliation#cash-automatic-reconciliation)\n- [manual\nreconciliation](https://docs.stripe.com/payments/customer-balance/reconciliation#cash-manual-reconciliation)\n- [partially\nfunded](https://docs.stripe.com/payments/bank-transfers/accept-a-payment?payment-ui=direct-api#handling-underpayments-and-overpayments)\n- [modified](https://docs.stripe.com/api/payment_intents/update)\n- [canceled](https://docs.stripe.com/api/payment_intents/cancel)\n- [refunded to the customer cash\nbalance](https://docs.stripe.com/payments/customer-balance/refunding#refund-customer-balance-payment-customer-balance)\n- [canceled the refund before the customer submitted their bank\ndetails](https://docs.stripe.com/payments/customer-balance/refunding#create-return-dashboard-cancel)\n- [Refund bank transfer\npayments](https://docs.stripe.com/payments/customer-balance/refunding#refund-customer-balance-payment-bank-account)\n- [ACH\nreversal](https://docs.stripe.com/payments/payment-methods/bank-transfers/reversals-us)",
  "metadata": {
    "title": "Customer balance | Stripe Documentation",
    "description": "Learn how to use the customer balance with payments.",
    "sourceURL": "https://docs.stripe.com/payments/customer-balance"
  }
}