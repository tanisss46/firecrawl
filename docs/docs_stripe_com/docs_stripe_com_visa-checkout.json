{
  "content": "# Stripe payments with Visa CheckoutDeprecated\n\n## Accept payments via Visa Checkout in your existing Stripe integration.\n\n#### Warning\n\nVisa terminated support for [Visa\nCheckout](https://usa.visa.com/pay-with-visa/visa-checkout.html) in favor of\n[Secure Remote Commerce](https://docs.stripe.com/secure-remote-commerce), which\ndelivers unified online checkout supporting multiple of card brands. Stripe\ndoesn’t support new Visa Checkout integrations and existing Visa Checkout\nintegrations must migrate to Secure Remote Commerce as soon as possible.\n\nVisa Checkout is a third-party service that stores payment and shipping\ninformation for its users in order to streamline the checkout process. Instead\nof entering payment information on your checkout page, users can click the Visa\nCheckout button instead. Your Stripe integration receives a unique ID that it\ncan use to create a charge against the payment information stored in the user’s\nVisa Checkout account.\n\n## Integrating the Visa Checkout button\n\nTo get started, generate your **Visa Checkout API key** in the\n[Dashboard](https://dashboard.stripe.com/account/payments/settings). There are\ntwo keys, a [sandbox](https://docs.stripe.com/sandboxes) key that you can use\nwhile testing, and a production key that works in live mode.\n\nSandboxProduction\nTo use Visa Checkout on your website, add the following script tag to the end of\nyour document’s body tag:\n\n```\n<script type=\"text/javascript\"\nsrc=\"https://sandbox-assets.secure.checkout.visa.com/checkout-widget/resources/js/integration/v1/sdk.js\"></script>\n```\n\nTo display the Visa Checkout button, use the following image:\n\n```\n<img alt=\"Visa Checkout\" class=\"v-button\" role=\"button\"\nsrc=\"https://sandbox.secure.checkout.visa.com/wallet-services-web/xo/button.png\">\n```\n\nTo initialize the button, add an `onVisaCheckoutReady` function that invokes\n`V.init`:\n\n```\nfunction onVisaCheckoutReady() {\n V.init({\n apikey: '{{VISA_CHECKOUT_ID}}',\n paymentRequest:{\n subtotal: '10.00',\n currencyCode: 'USD'\n },\n settings: {\n displayName: 'My Website'\n }\n });\n}\n```\n\nThe Visa Checkout JavaScript SDK automatically invokes the `onVisaCheckoutReady`\nfunction when it finishes loading. The `paymentRequest` property accepted by\n`V.init` requires the following parameters:\n\nParameterDescription`subtotal`The amount of the transaction, expressed in\ndecimal format`currencyCode`The currency in which to perform the transaction\nBy default, American Express, MasterCard, Visa, and Discover card brands are\naccepted, all shipping and billing countries are also enabled.\n\nFor more details about the `V.init` function and the parameters that it accepts,\n[refer](https://developer.visa.com/images2/products/visa_checkout/VisaCheckoutMerchantDocs.zip)\nto Visa’s documentation. There are optional `paymentRequest` properties that\nsupport a range of other features, including promotions, discounts, and taxes.\nThere are also optional `settings` properties that allow you to control the\nshipping information options.\n\n## Completing the payment\n\nWhen the user clicks the Visa Checkout button on your checkout page, it opens a\nlightbox where they can select an existing payment method from their account or\ninput a new one. When the user completes the process, the Visa Checkout\nJavaScript SDK in the browser emits a `payment.success` event with a unique ID\nthat your application can use to complete the transaction.\n\nThe following code shows how to handle the `payment.success` event and\n[confirm](https://docs.stripe.com/api/payment_intents/confirm) the\n[PaymentIntent](https://docs.stripe.com/api/payment_intents) you created at the\nbeginning of the checkout flow. See [accept a\npayment](https://docs.stripe.com/payments/accept-a-payment?platform=web) to\nlearn how to manage your checkout flow using Payment Intents.\n\n```\n// PaymentIntent client secret passed from server-side.\n// See: https://stripe.com/docs/payments/accept-a-payment?platform=web\n// for more information on how to do this.\nconst clientSecret = '{{CLIENT_SECRET}}';\n\nV.on('payment.success', async (payment) => {\n const intent = await stripe.confirmCardPayment(clientSecret, {\n payment_method: {\n card: {\n visa_checkout: {\n callid: payment.callid,\n },\n },\n },\n });\n // Perform logic for payment completion here\n});\n```\n\n## Testing Visa Checkout\n\nTo test your integration against Visa Checkout’s sandbox, create a new Visa\nCheckout user account during the checkout process on your website. Configure the\naccount to use the test card number **4242 4242 4242 4242**, a random\nthree-digit CVC number, and any expiration date in the future. Complete the\ncheckout process as normal. If everything works correctly, Visa Checkout\nredirects you back to your application, which creates the charge as expected.\n\n## Links\n\n- [Visa Checkout](https://usa.visa.com/pay-with-visa/visa-checkout.html)\n- [Secure Remote Commerce](https://docs.stripe.com/secure-remote-commerce)\n- [terms of service](https://stripe.com/visa-checkout/legal)\n- [user interface\nguidelines](https://developer.visa.com/capabilities/visa_checkout/docs#user_interface_guidelines)\n- [Dashboard](https://dashboard.stripe.com/account/payments/settings)\n- [sandbox](https://docs.stripe.com/sandboxes)\n-\n[https://sandbox-assets.secure.checkout.visa.com/checkout-widget/resources/js/integration/v1/sdk.js](https://sandbox-assets.secure.checkout.visa.com/checkout-widget/resources/js/integration/v1/sdk.js)\n-\n[https://sandbox.secure.checkout.visa.com/wallet-services-web/xo/button.png](https://sandbox.secure.checkout.visa.com/wallet-services-web/xo/button.png)\n-\n[refer](https://developer.visa.com/images2/products/visa_checkout/VisaCheckoutMerchantDocs.zip)\n- [confirm](https://docs.stripe.com/api/payment_intents/confirm)\n- [PaymentIntent](https://docs.stripe.com/api/payment_intents)\n- [accept a\npayment](https://docs.stripe.com/payments/accept-a-payment?platform=web)",
  "metadata": {
    "title": "Stripe payments with Visa Checkout | Stripe Documentation",
    "description": "Accept payments via Visa Checkout in your existing Stripe integration.",
    "sourceURL": "https://docs.stripe.com/visa-checkout"
  }
}