{
  "content": "# Fraud challenges\n\n## Learn about fraud challenges, an additional layer of verification for authorizations.\n\nTurn on fraud challenges to:\n\n- Minimize accidental blocks on transactions that appear fraudulent, but are in\nfact legitimate\n- Conduct additional verification on authorizations Stripe deems high risk\n- Conduct additional verification on authorizations you determine require it\n\nFraud challenges allow your cardholders to retry non-fraudulent transactions\nthat would otherwise be blocked by fraud controls. When fraud challenges are\nenabled and a transaction is declined for fraud, Stripe sends the cardholder an\nSMS message. They can verify whether the transaction was fraudulent by replying\nto the message. All cardholders with an associated phone number can use fraud\nchallenges.\n\n## Before you begin\n\n- Make sure you’re collecting [phone\nnumbers](https://docs.stripe.com/api/issuing/cardholders/object#issuing_cardholder_object-phone_number)\nfor your cardholders\n- Enable fraud challenges in your [card issuing\nsettings](https://dashboard.stripe.com/settings/issuing/authorizations)\n\n## High-risk transactions\n\nStripe blocks transactions above a certain risk level. The risk level of a\ntransaction is determined by the network you’re using. High-risk authorizations\nare identified by a value of `suspected_fraud` in the\n[request_history.reason](https://docs.stripe.com/api/issuing/authorizations/object#issuing_authorization_object-request_history-reason)\nfield, and won’t trigger [issuing.authorization_request\nwebhooks](https://docs.stripe.com/issuing/controls/real-time-authorizations)\nwhen declined.\n\n## Fraud challenge flow\n\nStripe starts sending fraud challenges on high-risk authorizations as soon as\nyou enable the feature in your [card issuing\nsettings](https://dashboard.stripe.com/settings/issuing/authorizations).\n\nYou can see fraud challenge activity with the [Authorizations\nAPI](https://docs.stripe.com/api/issuing/authorizations). Declined\nauthorizations that were fraud-challenged have a value in the\n[fraud_challenges](https://docs.stripe.com/api/issuing/authorizations/object#issuing_authorization_object-fraud_challenges)\nfield. Subsequent authorizations that the cardholder verifies as genuine have a\nvalue of `true` in the\n[verified_by_fraud_challenge](https://docs.stripe.com/api/issuing/authorizations/object#issuing_authorization_object-verified_by_fraud_challenge)\nfield.\n\nThe following shows an example of a fraud-challenged and declined authorization:\n\n```\n{\n \"id\": \"iauth_1CmMk2IyNTgGDVfzFKlCm0gU\",\n \"object\": \"issuing_authorization\",\n \"approved\": false,\n ...\n \"fraud_challenges\": [{\n \"channel\": \"sms\",\n \"status\": \"pending\"\n }]\n}\n```\n\nThis example shows a subsequent authorization that has been verified by the\ncardholder:\n\n```\n{\n \"id\": \"iauth_1CmMk28Jx923VfJJwMCejmX\",\n \"object\": \"issuing_authorization\",\n \"approved\": true,\n ...\n \"verified_by_fraud_challenge\": true\n}\n```\n\n#### Note\n\nVerified, genuine authorizations trigger `issuing_authorization.request`\nwebhooks. If you use [real-time\nauthorization](https://docs.stripe.com/issuing/controls/real-time-authorizations),\nconsider `verified_by_fraud_challenge` when deciding whether to approve an\nauthorization. If your cardholder has explicitly confirmed a transaction as\ngenuine, we recommend that you don’t apply any of your own risk controls.\n\nTo use fraud challenges, make sure that:\n\n- The phone number associated with your cardholder is valid and correct\n- Existing transaction decline logic in any `issuing_authorization.request`\nwebhook handler doesn’t conflict with fraud challenges\n\n### Cardholder flow\n\nYour cardholders might receive a challenge and contact your company’s customer\nservice to learn more. Make sure your internal teams are prepared to answer\nquestions that they might receive from your customers about these challenges.\n\nWhen a cardholder receives a fraud challenge, they can override the declined\ntransaction by verifying that the suspicious transaction is legitimate and\ninitiated by them. Fraud challenges are only available to cardholders with an\nassociated [phone\nnumber](https://docs.stripe.com/api/issuing/cardholders/object#issuing_cardholder_object-phone_number).\n\nThe cardholder verifies the override with a one-time SMS prompt with the\nfollowing language:\n\nDid you attempt a *[amount]* transaction at *[merchant]*? Reply YES if you did,\nor NO if not. Reply STOP to opt out\n\nIf the cardholder replies “YES,” they receive the following:\n\nThanks, please wait a moment and try again.\n\nTo complete the purchase, the cardholder needs to initiate the transaction a\nsecond time. After retrying, they won’t receive the SMS prompt, and Stripe won’t\nblock the transaction for being high-risk. If the cardholder instead replies\n“NO,\" they receive the following:\n\nThis transaction was declined. We recommend you cancel your card and request a\nnew one. Review your account for other suspicious transactions.\n\nCardholders can reply “STOP” to opt out of fraud challenges, and “START” to opt\nback in again.\n\n## Fraud challenges for Connect platforms\n\nIf you use [Connect](https://docs.stripe.com/issuing/connect) with Stripe\nIssuing, turning on fraud challenges enables it for all cardholders across all\nconnected accounts.\n\n## Availability\n\nFraud challenges are only available to cardholders with phone numbers in the\nfollowing countries. Attempts to send fraud challenges to other phone numbers,\nor to cardholders who are physically outside of these countries, won’t be\ndelivered.\n\n- United Kingdom (+44)\n- United States (+1)\n\nFraud challenges that can’t be delivered because of an unsupported country code\nhave a\n[status](https://docs.stripe.com/api/issuing/authorizations/object#issuing_authorization_object-fraud_challenges-status)\nof `undeliverable`.\n\n## Testing\n\nStripe doesn’t send fraud challenge text messages to cardholders in test mode.\nTo help you integrate with fraud challenges, we provide helper APIs for\nsimulating a fraud challenge flow, including sending and responding to a\nchallenge.\n\n[Challenge a high-risk test mode\nauthorization](https://docs.stripe.com/issuing/controls/fraud-challenges#high-risk-test)\nUse helper APIs to [create a test mode\nauthorization](https://docs.stripe.com/api/issuing/authorizations/test_mode_create).\nThe risk level of the authorization you create is controllable: you can create a\nhigh-risk authorization by overriding the default risk assessment with a high\nfraud risk level.\n\n```\ncurl https://api.stripe.com/v1/test_helpers/issuing/authorizations \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d amount=2300 \\\n -d card={{CARD_ID}} \\\n -d \"risk_assessment[fraud_risk][risk_level]\"=high \\\n -d \"risk_assessment[fraud_risk][fraud_score]\"=95\n```\n\nThis authorization would be declined, with a `reason` of `suspected_fraud` in\nits\n[request_history](https://docs.stripe.com/api/issuing/authorizations/object#issuing_authorization_object-request_history).\nIf fraud challenges are turned on, then a fraud challenge is created for this\nhigh-risk test mode authorization. See [Before you\nbegin](https://docs.stripe.com/issuing/controls/fraud-challenges#prerequisites)\nfor the steps required to turn on fraud challenges.\n\nAlternatively, you can test fraud challenges by issuing a challenge yourself. To\ninduce a fraud challenge in test mode, create a test mode authorization without\na risk assessment override, and then respond to an\n`issuing_authorization.request` webhook. This method doesn’t require fraud\nchallenges to be turned on in your Issuing settings. Learn how to [trigger fraud\nchallenges\nyourself](https://docs.stripe.com/issuing/controls/fraud-challenges#define-your-own-logic)\nin webhook responses.\n\n[Simulate a response to the fraud\nchallenge](https://docs.stripe.com/issuing/controls/fraud-challenges#simulate-response)\nAfter inducing a test mode fraud challenge, you can simulate a cardholder’s\nresponse using another helper API. Call the [test mode fraud challenge\nresponse](https://docs.stripe.com/api/issuing/authorization/respond) method,\npassing the ID of the authorization you created in step 1, and a `confirmed`\nparameter.\n\nProvide `confirmed=true` to simulate the cardholder responding “yes, I made this\ntransaction, and it isn’t fraudulent.” Provide `confirmed=false` to simulate a\nresponse of “no, I did not make this transaction, it is fraudulent.”\n\n```\ncurl\nhttps://api.stripe.com/v1/test_helpers/issuing/authorizations/{{AUTHORIZATION_ID}}/fraud_challenges/respond\n\\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d confirmed=true\n```\n\n[Try the high-risk authorization\nagain](https://docs.stripe.com/issuing/controls/fraud-challenges#retry-authorization)\nIf you simulated a response of “yes, I made this transaction”\n(`confirmed=true`), you can try the high-risk test mode authorization again.\nThis time, the authorization won’t be declined because you simulated a scenario\nwhere the cardholder has indicated that the original, declined transaction is\nactually legitimate.\n\n```\ncurl https://api.stripe.com/v1/test_helpers/issuing/authorizations \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d amount=2300 \\\n -d card={{CARD_ID}} \\\n -d \"risk_assessment[fraud_risk][risk_level]\"=high \\\n -d \"risk_assessment[fraud_risk][fraud_score]\"=95\n```\n\nThis new authorization won’t be declined for `suspected_fraud`, and is approved.\nIt might also be declined for other reasons (such as an insufficient test mode\nbalance), look at the authorization’s\n[request_history](https://docs.stripe.com/api/issuing/authorizations/object#issuing_authorization_object-request_history)\nto learn more.\n\nAdditionally, this new authorization’s\n[verified_by_fraud_challenge](https://docs.stripe.com/api/issuing/authorizations/object#issuing_authorization_object-verified_by_fraud_challenge)\nfield will be `true`. This indicates that the cardholder has previously\ncompleted a fraud challenge for a similar authorization (as simulated in step\n2).\n\n## Links\n\n- [phone\nnumbers](https://docs.stripe.com/api/issuing/cardholders/object#issuing_cardholder_object-phone_number)\n- [card issuing\nsettings](https://dashboard.stripe.com/settings/issuing/authorizations)\n-\n[request_history.reason](https://docs.stripe.com/api/issuing/authorizations/object#issuing_authorization_object-request_history-reason)\n- [issuing.authorization_request\nwebhooks](https://docs.stripe.com/issuing/controls/real-time-authorizations)\n- [Authorizations API](https://docs.stripe.com/api/issuing/authorizations)\n-\n[fraud_challenges](https://docs.stripe.com/api/issuing/authorizations/object#issuing_authorization_object-fraud_challenges)\n-\n[verified_by_fraud_challenge](https://docs.stripe.com/api/issuing/authorizations/object#issuing_authorization_object-verified_by_fraud_challenge)\n- [Connect](https://docs.stripe.com/issuing/connect)\n-\n[status](https://docs.stripe.com/api/issuing/authorizations/object#issuing_authorization_object-fraud_challenges-status)\n- [create a test mode\nauthorization](https://docs.stripe.com/api/issuing/authorizations/test_mode_create)\n-\n[request_history](https://docs.stripe.com/api/issuing/authorizations/object#issuing_authorization_object-request_history)\n- [test mode fraud challenge\nresponse](https://docs.stripe.com/api/issuing/authorization/respond)",
  "metadata": {
    "title": "Fraud challenges | Stripe Documentation",
    "description": "Learn about fraud challenges, an additional layer of verification for authorizations.",
    "sourceURL": "https://docs.stripe.com/issuing/controls/fraud-challenges"
  }
}