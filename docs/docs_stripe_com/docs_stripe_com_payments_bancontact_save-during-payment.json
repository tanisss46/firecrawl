{
  "content": "# Save bank details during a Bancontact payment\n\n## Learn how to save your customer's IBAN bank details from a Bancontact payment.\n\n#### Caution\n\nWe recommend that you follow the [Save payment details during\npayment](https://docs.stripe.com/payments/save-during-payment) guide. If you’ve\nalready integrated with Elements, see the [Payment Element migration\nguide](https://docs.stripe.com/payments/payment-element/migration).\n\nBancontact is a popular [single\nuse](https://docs.stripe.com/payments/payment-methods#usage) payment method in\nBelgium where customers are required to\n[authenticate](https://docs.stripe.com/payments/payment-methods#customer-actions)\ntheir payment. [Customers](https://docs.stripe.com/api/customers) pay with\nBancontact by redirecting from your website, authorizing the payment, then\nreturning to your website where you get [immediate\nnotification](https://docs.stripe.com/payments/payment-methods#payment-notification)\non whether the payment succeeded or failed.\n\nYou can use Bancontact to save your customer’s\n[IBAN](https://en.wikipedia.org/wiki/International_Bank_Account_Number) bank\ndetails into a [SEPA Direct Debit](https://docs.stripe.com/payments/sepa-debit)\n[PaymentMethod](https://docs.stripe.com/api/payment_methods). You can then use\nthe SEPA Direct Debit PaymentMethod to [accept\npayments](https://docs.stripe.com/payments/sepa-debit/accept-a-payment) or [set\nup a subscription](https://docs.stripe.com/billing/subscriptions/sepa-debit).\nThis reduces friction for your customer as they don’t have to enter their IBAN\nagain. You also receive their verified name and validated IBAN.\n\n#### Caution\n\nTo use Bancontact to set up SEPA Direct Debit payments, you must activate SEPA\nDirect Debit in the\n[Dashboard](https://dashboard.stripe.com/account/payments/settings). You must\nalso comply with the [Bancontact Terms of\nService](https://stripe.com/bancontact/legal) and [SEPA Direct Debit Terms of\nService](https://stripe.com/sepa-direct-debit/legal).\n\nWebiOSAndroidReact Native\nAccepting Bancontact payments consists of creating a\n[PaymentIntent](https://docs.stripe.com/api/payment_intents/object) object to\ntrack a payment, collecting payment method details and mandate acknowledgement,\nand submitting the payment to Stripe for processing. Stripe uses the\nPaymentIntent to track and handle all the states of the payment until the\npayment completes. Use the ID of the SEPA Direct Debit\n[PaymentMethod](https://docs.stripe.com/api/payment_methods) collected from your\ninitial Bancontact PaymentIntent to create future payments.\n\n[Set up\nStripeServer-side](https://docs.stripe.com/payments/bancontact/save-during-payment#web-set-up-stripe)\nFirst, you need a Stripe account. [Register\nnow](https://dashboard.stripe.com/register).\n\nUse our official libraries for access to the Stripe API from your application:\n\n```\n# Available as a gem\nsudo gem install stripe\n```\n\n```\n# If you use bundler, you can add this line to your Gemfile\ngem 'stripe'\n```\n\n[Create a\nCustomerServer-side](https://docs.stripe.com/payments/bancontact/save-during-payment#web-create-customer)\nCreate a [Customer](https://docs.stripe.com/api/customers) when they create an\naccount with your business and associate it with your internal representation of\ntheir account. This enables you to retrieve and use their saved payment method\ndetails later.\n\n```\ncurl -X POST https://api.stripe.com/v1/customers \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\"\n```\n\n[Create a\nPaymentIntentServer-side](https://docs.stripe.com/payments/bancontact/save-during-payment#web-create-payment-intent)\nCreate a `PaymentIntent` on your server and specify the `amount` to collect, the\n`eur` currency, the customer ID, and off_session as an argument for [setup\nfuture\nusage](https://docs.stripe.com/api/payment_intents/create#create_payment_intent-setup_future_usage).\nIf you have an existing [Payment\nIntents](https://docs.stripe.com/payments/payment-intents) integration, add\n`bancontact` to the list of [payment method\ntypes](https://docs.stripe.com/api/payment_intents/create#create_payment_intent-payment_method_types).\n\n```\ncurl https://api.stripe.com/v1/payment_intents \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d amount=1099 \\\n -d currency=eur \\\n -d \"payment_method_types[]\"=bancontact \\\n -d customer={{CUSTOMER_ID}} \\\n -d setup_future_usage=off_session\n```\n\n### Retrieve the client secret\n\nThe PaymentIntent includes a [client\nsecret](https://docs.stripe.com/api/payment_intents/object#payment_intent_object-client_secret)\nthat the client side uses to securely complete the payment process. You can use\ndifferent approaches to pass the client secret to the client side.\n\nSingle-page applicationServer-side rendering\nRetrieve the client secret from an endpoint on your server, using the browser’s\n`fetch` function. This approach is best if your client side is a single-page\napplication, particularly one built with a modern frontend framework like React.\nCreate the server endpoint that serves the client secret:\n\n```\nget '/secret' do\n intent = # ... Create or retrieve the PaymentIntent\n {client_secret: intent.client_secret}.to_json\nend\n```\n\nAnd then fetch the client secret with JavaScript on the client side:\n\n```\n(async () => {\n const response = await fetch('/secret');\n const {client_secret: clientSecret} = await response.json();\n // Render the form using the clientSecret\n})();\n```\n\n[Collect payment method details and mandate\nacknowledgementClient-side](https://docs.stripe.com/payments/bancontact/save-during-payment#web-collect-payment-method-details)\nCreate a payment form on your client to collect the required billing details\nfrom the customer.\n\nHTML + JSReact\n​​To process SEPA Direct Debit payments, you must collect a mandate agreement\nfrom your customer. Display the following standard authorization text for your\ncustomer to implicitly sign the mandate.\n\nReplace *Rocket Rides* with your company name.\n\ndeenesfifritnlAuthorization text template\nBy providing your payment information and confirming this payment, you authorise\n(A) and Stripe, our payment service provider, to send instructions to your bank\nto debit your account and (B) your bank to debit your account in accordance with\nthose instructions. As part of your rights, you are entitled to a refund from\nyour bank under the terms and conditions of your agreement with your bank. A\nrefund must be claimed within 8 weeks starting from the date on which your\naccount was debited. Your rights are explained in a statement that you can\nobtain from your bank. You agree to receive notifications for future debits up\nto 2 days before they occur.\n\n​​Setting up a payment method or confirming a PaymentIntent creates the accepted\nmandate. As the customer has implicitly signed the mandate, you must communicate\nthese terms in your form or through email.\n\nFieldValue`name`The full name (first and last) of the customer.`email`The\ncustomer’s email.\n```\n<form id=\"payment-form\">\n <div class=\"form-row\">\n <label for=\"name\">\n Name\n </label>\n <input id=\"name\" name=\"name\" required>\n </div>\n\n <div class=\"form-row\">\n <label for=\"email\">\n Email\n </label>\n <input id=\"email\" name=\"email\" required>\n </div>\n\n <button id=\"submit-button\">Pay with Bancontact</button>\n\n <!-- Display mandate acceptance text. -->\n <div id=\"mandate-acceptance\">\n By providing your payment information and confirming this payment, you\n authorise (A) Rocket Rides and Stripe, our payment service provider, to\n send instructions to your bank to debit your account and (B) your bank to\n debit your account in accordance with those instructions. As part of your\n rights, you are entitled to a refund from your bank under the terms and\n conditions of your agreement with your bank. A refund must be claimed\n within 8 weeks starting from the date on which your account was debited.\n Your rights are explained in a statement that you can obtain from your\n bank. You agree to receive notifications for future debits up to 2 days\n before they occur.\n </div>\n <!-- Used to display form errors. -->\n <div id=\"error-message\" role=\"alert\"></div>\n</form>\n```\n\n[Submit the payment to\nStripeClient-side](https://docs.stripe.com/payments/bancontact/save-during-payment#web-submit-payment)\nCreate a payment on the client side with the [client\nsecret](https://docs.stripe.com/api/payment_intents/object#payment_intent_object-client_secret)\nof the PaymentIntent. The client secret is different from your API keys that\nauthenticate Stripe API requests. It should be handled carefully because it can\ncomplete the charge. Do not log it, embed it in URLs, or expose it to anyone but\nthe customer.\n\nHTML + JSReact\nCall\n[stripe.confirmBancontactPayment](https://docs.stripe.com/js/payment_intents/confirm_bancontact_payment)\nto redirect your customer to Bancontact’s website or app to complete the\npayment. Include a\n[return_url](https://docs.stripe.com/api/payment_intents/create#create_payment_intent-return_url)\nto redirect your customer after they complete the payment. You must also provide\nthe customer’s full name and email in `billing_details`.\n\n```\nvar stripe = Stripe('pk_test_TYooMQauvdEDq54NiTphI7jx');\nvar accountholderName = document.getElementById('name');\nvar accountholderEmail = document.getElementById('email');\n\n// Redirects away from the client\nconst {error} = await stripe.confirmBancontactPayment(\n '{{PAYMENT_INTENT_CLIENT_SECRET}}',\n {\n payment_method: {\n billing_details: {\n name: accountholderName.value,\n email: accountholderEmail.value,\n },\n },\n return_url: 'https://example.com/checkout/complete',\n }\n);\n\nif (error) {\n // Inform the customer that there was an error.\n}\n```\n\nWhen your customer submits a payment, Stripe redirects them to the `return_url`\nand includes the following URL query parameters. The return page can use them to\nget the status of the PaymentIntent so it can display the payment status to the\ncustomer.\n\nWhen you specify the `return_url`, you can also append your own query parameters\nfor use on the return page.\n\nParameterDescription`payment_intent`The unique identifier for the\n`PaymentIntent`.`payment_intent_client_secret`The [client\nsecret](https://docs.stripe.com/api/payment_intents/object#payment_intent_object-client_secret)\nof the `PaymentIntent` object.\nWhen the customer is redirected back to your site, you can use the\n`payment_intent_client_secret` to query for the PaymentIntent and display the\ntransaction status to your customer.\n\n[Charge the SEPA Direct Debit PaymentMethod\nlater](https://docs.stripe.com/payments/bancontact/save-during-payment#web-charge-sepa-pm)\nWhen you need to charge your customer again, create a new PaymentIntent. Find\nthe ID of the SEPA Direct Debit payment method by\n[retrieving](https://docs.stripe.com/api/payment_intents/retrieve) the previous\nPaymentIntent and [expanding](https://docs.stripe.com/api/expanding_objects) the\n`latest_charge` field where you will find the `generated_sepa_debit` ID inside\nof `payment_method_details`.\n\n```\ncurl -G https://api.stripe.com/v1/payment_intents/{{PAYMENT_INTENT_ID}} \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d \"expand[]\"=latest_charge\n```\n\nThe SEPA Direct Debit payment method ID is the `generated_sepa_debit` ID under\n[payment_method_details](https://docs.stripe.com/api/charges/object#charge_object-payment_method_details-ideal)\nin the response.\n\n```\n{\n \"latest_charge\": {\n \"payment_method_details\": {\n \"bancontact\": {\n \"bank_code\": \"VAPE\",\n \"bank_name\": \"VAN DE PUT & CO\",\n \"bics\": \"VAPEBE22\",\n \"iban_last4\": \"7061\",\n \"generated_sepa_debit\": \"pm_1GrddXGf98efjktuBIi3ag7aJQ\",\n \"preferred_language\": \"en\",\n \"verified_name\": \"Jenny Rosen\"\n },\n \"type\": \"bancontact\"\n },\n },\n \"payment_method_options\": {\n \"bancontact\": {}\n```\n\nSee all 32 lines\nCreate a PaymentIntent with the SEPA Direct Debit and Customer IDs.\n\n```\ncurl https://api.stripe.com/v1/payment_intents \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d \"payment_method_types[]\"=sepa_debit \\\n -d amount=1099 \\\n -d currency=eur \\\n -d customer={{CUSTOMER_ID}} \\\n -d payment_method={{SEPA_DEBIT_PAYMENT_METHOD_ID}} \\\n -d confirm=true\n```\n\n[Test your\nintegration](https://docs.stripe.com/payments/bancontact/save-during-payment#test-your-integration)EmailPaymentMethod\nSet `payment_method.billing_details.email` to one of the following values to\ntest the PaymentIntent status transitions. You can include your own custom text\nat the beginning of the email address followed by an underscore. For example,\n`test_1_generatedSepaDebitIntentsFail@example.com` results in a SEPA Direct\nDebit PaymentMethod that always fails when used with a PaymentIntent.\n\nEmail AddressDescription`generatedSepaDebitIntentsSucceed@example.com`The\nPaymentIntent status transitions from `processing` to\n`succeeded`.`generatedSepaDebitIntentsSucceedDelayed@example.com`The\nPaymentIntent status transitions from `processing` to `succeeded` after at least\nthree minutes.`generatedSepaDebitIntentsFail@example.com`The PaymentIntent\nstatus transitions from `processing` to\n`requires_payment_method`.`generatedSepaDebitIntentsFailDelayed@example.com`The\nPaymentIntent status transitions from `processing` to `requires_payment_method`\nafter at least three\nminutes.`generatedSepaDebitIntentsSucceedDisputed@example.com`The PaymentIntent\nstatus transitions from `processing` to `succeeded`, but a dispute is created\nimmediately.[OptionalHandle post-payment\nevents](https://docs.stripe.com/payments/bancontact/save-during-payment#web-fulfillment)[OptionalHandle\nthe Bancontact redirect\nmanually](https://docs.stripe.com/payments/bancontact/save-during-payment#web-handle-redirect)\n## See also\n\n- [Accept a SEPA Direct Debit\npayment](https://docs.stripe.com/payments/sepa-debit/accept-a-payment)\n- [Set up a subscription with SEPA Direct Debit in the\nEU](https://docs.stripe.com/billing/subscriptions/sepa-debit)\n\n## Links\n\n- [Save payment details during\npayment](https://docs.stripe.com/payments/save-during-payment)\n- [Payment Element migration\nguide](https://docs.stripe.com/payments/payment-element/migration)\n- [accepting SEPA Direct Debit\npayments](https://docs.stripe.com/payments/sepa-debit/accept-a-payment)\n- [single use](https://docs.stripe.com/payments/payment-methods#usage)\n-\n[authenticate](https://docs.stripe.com/payments/payment-methods#customer-actions)\n- [Customers](https://docs.stripe.com/api/customers)\n- [immediate\nnotification](https://docs.stripe.com/payments/payment-methods#payment-notification)\n- [IBAN](https://en.wikipedia.org/wiki/International_Bank_Account_Number)\n- [SEPA Direct Debit](https://docs.stripe.com/payments/sepa-debit)\n- [PaymentMethod](https://docs.stripe.com/api/payment_methods)\n- [set up a\nsubscription](https://docs.stripe.com/billing/subscriptions/sepa-debit)\n- [Dashboard](https://dashboard.stripe.com/account/payments/settings)\n- [Bancontact Terms of Service](https://stripe.com/bancontact/legal)\n- [SEPA Direct Debit Terms of\nService](https://stripe.com/sepa-direct-debit/legal)\n- [PaymentIntent](https://docs.stripe.com/api/payment_intents/object)\n- [Register now](https://dashboard.stripe.com/register)\n- [setup future\nusage](https://docs.stripe.com/api/payment_intents/create#create_payment_intent-setup_future_usage)\n- [Payment Intents](https://docs.stripe.com/payments/payment-intents)\n- [payment method\ntypes](https://docs.stripe.com/api/payment_intents/create#create_payment_intent-payment_method_types)\n- [client\nsecret](https://docs.stripe.com/api/payment_intents/object#payment_intent_object-client_secret)\n-\n[stripe.confirmBancontactPayment](https://docs.stripe.com/js/payment_intents/confirm_bancontact_payment)\n-\n[return_url](https://docs.stripe.com/api/payment_intents/create#create_payment_intent-return_url)\n- [retrieving](https://docs.stripe.com/api/payment_intents/retrieve)\n- [expanding](https://docs.stripe.com/api/expanding_objects)\n-\n[payment_method_details](https://docs.stripe.com/api/charges/object#charge_object-payment_method_details-ideal)",
  "metadata": {
    "title": "Save bank details during a Bancontact payment | Stripe Documentation",
    "description": "Learn how to save your customer's IBAN bank details from a Bancontact payment.",
    "sourceURL": "https://docs.stripe.com/payments/bancontact/save-during-payment"
  }
}