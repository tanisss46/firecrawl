{
  "content": "# Asynchronous capture\n\n## Use Asynchronous Capture to enable faster PaymentIntent confirmations.\n\nAsynchronous capture reduces the latency of PaymentIntent confirmations by\nmaking the capture operation take place in the background. After making the\ncapture request, your integration receives a successful response, and Stripe\ncompletes payment capture in the backend. To use these faster PaymentIntent\ncaptures, set the `capture_method=automatic_async` parameter when confirming a\nPaymentIntent.\n\n[Opt in to asynchronous\ncapture](https://docs.stripe.com/payments/payment-intents/asynchronous-capture#opt-in-async-capture)\nTo upgrade your existing integration and add support for asynchronous capture,\nuse `automatic_async` as the capture method when creating a PaymentIntent.\nSpecifying the `capture_method=automatic_async` parameter is optional because\nStripe enables its functionality by default in the latest version of the API.\n\n```\ncurl https://api.stripe.com/v1/payment_intents \\\n -u sk_test_BQokikJOvBiI2HlWgH4olfQ2: \\\n -d amount=2000 \\\n -d currency=usd \\\n -d \"payment_method_types[]\"=card \\\n -d payment_method=pm_card_visa \\\n -d capture_method=automatic_async \\\n -d confirm=true\n```\n\nYou might need to make additional changes when you opt into asynchronous capture\nsince the API response and some webhooks have different behavior than with other\ncapture methods.\n\nFor all payments, the\n[balance_transaction](https://docs.stripe.com/api/balance_transactions) is\n`null` on the following objects. For Connect payments, the\n[transfer](https://docs.stripe.com/api/charges/object#charge_object-transfer)\nand\n[application_fee](https://docs.stripe.com/api/payment_intents/create#create_payment_intent-application_fee_amount)\nare also `null` on the following objects:\n\n- attached [Charge](https://docs.stripe.com/api/charges/object) object of the\nAPI response\n-\n[charge.succeeded](https://docs.stripe.com/api/events/types#event_types-charge.succeeded)\nwebhook\n-\n[payment_intent.succeeded](https://docs.stripe.com/api/events/types#event_types-payment_intent.succeeded)\nwebhook\n\nModified Charge object on the\n[charge.succeeded](https://docs.stripe.com/api/events/types#event_types-charge.succeeded)\nwebhook:\n\n```\n# Charge Object\n{\n \"id\": \"ch_123\",\n \"object\": \"charge\",\n \"amount_captured\": 1000, # the capture has happened\n \"application_fee_amount\": 100,\n \"captured\": true,\n \"balance_transaction\": \"txn_123\", # applicable to all charges.\n \"transfer\": \"tr_123\", # applicable to destination charge only.\n \"application_fee\": \"fee_123\", # applicable to destination charge only.\n\"balance_transaction\": null, # object might not be created yet, might be shown\nas nil.\n\"transfer\": null, # object might not be created yet, might be shown as nil.\n\"application_fee\": null, # object might not be created yet, might be shown as\nnil.\n ...\n}\n```\n\nModified API response and\n[payment_intent.succeeded](https://docs.stripe.com/api/events/types#event_types-payment_intent.succeeded)\nwebhook: (different based on [API version](https://docs.stripe.com/upgrades))\n\n```\n# PaymentIntent Object\n{\n \"id\": \"pi_123\",\n \"object\": \"payment_intent\",\n \"capture_method\": \"automatic_async\",\n \"status\": \"succeeded\",\n\"latest_charge\": \"ch_**\" # if expanded, this is the Modified Charge object above\n}\n```\n\n[Listen to webhooks to get notified when additional data is\navailable](https://docs.stripe.com/payments/payment-intents/asynchronous-capture#listen-webhooks)\n#### Warning\n\nOur SLA for the charge.updated webhook is 1 hour after the successful\nPaymentIntent confirmation.\n\nYou can listen to webhooks to check the status of objects that are initially\n`null` when using asynchronous capture.\n\n- To get the\n[balance_transaction](https://docs.stripe.com/api/balance_transactions),\nsubscribe to the\n[charge.updated](https://docs.stripe.com/api/events/types#event_types-charge.created)\nwebhook event.\n- To get the\n[application_fee](https://docs.stripe.com/api/payment_intents/create#create_payment_intent-application_fee_amount),\nsubscribe to the\n[application_fee.created](https://docs.stripe.com/api/events/types#event_types-application_fee.created)\nwebhook event.\n- To get the\n[transfer](https://docs.stripe.com/api/charges/object#charge_object-transfer),\nsubscribe to the\n[transfer.created](https://docs.stripe.com/api/events/types#event_types-transfer.created)\nwebhook events.\n\nWebhooks for Asynchronous Capture\n\n```\n# charge.updated events\n{\n \"data\": {\n \"id\": \"ch_123\",\n \"object\": \"charge\",\n \"amount\": 100,\n \"balance_transaction\": \"txn_123\", # applicable to all charges.\n \"transfer\": \"tr_123\", # applicable to destination charge only.\n \"application_fee\": \"fee_123\", # applicable to destination charge only.\n ...\n },\n previous_attributes: {\n \"balance_transaction\": null, # applicable to all charges.\n \"transfer\": null, # applicable to destination charge only.\n \"application_fee\": null, # applicable to destination charge only.\n }\n}\n```\n\n```\n# transfer.created events\n{\n \"data\": {\n \"id\": \"tr_123\",\n \"object\": \"transfer\",\n \"amount\": 1000,\n ...\n }\n}\n```\n\n```\n# application_fee.created events\n{\n \"data\": {\n \"id\": \"fee_123\",\n \"object\": \"application_fee\",\n \"amount\": 100,\n ...\n }\n}\n```\n\n## Links\n\n- [balance_transaction](https://docs.stripe.com/api/balance_transactions)\n- [transfer](https://docs.stripe.com/api/charges/object#charge_object-transfer)\n-\n[application_fee](https://docs.stripe.com/api/payment_intents/create#create_payment_intent-application_fee_amount)\n- [Charge](https://docs.stripe.com/api/charges/object)\n-\n[charge.succeeded](https://docs.stripe.com/api/events/types#event_types-charge.succeeded)\n-\n[payment_intent.succeeded](https://docs.stripe.com/api/events/types#event_types-payment_intent.succeeded)\n- [API version](https://docs.stripe.com/upgrades)\n-\n[charge.updated](https://docs.stripe.com/api/events/types#event_types-charge.created)\n-\n[application_fee.created](https://docs.stripe.com/api/events/types#event_types-application_fee.created)\n-\n[transfer.created](https://docs.stripe.com/api/events/types#event_types-transfer.created)",
  "metadata": {
    "title": "Asynchronous capture | Stripe Documentation",
    "description": "Use Asynchronous Capture to enable faster PaymentIntent confirmations.",
    "sourceURL": "https://docs.stripe.com/payments/payment-intents/asynchronous-capture"
  }
}