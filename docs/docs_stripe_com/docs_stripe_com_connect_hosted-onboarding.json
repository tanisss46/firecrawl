{
  "content": "# Stripe-hosted onboarding\n\n## Onboard connected accounts by redirecting them to a Stripe-hosted onboarding flow.\n\nStripe-hosted onboarding handles the collection of business and identity\nverification information from connected accounts, requiring minimal effort by\nthe platform. It’s a web form hosted by Stripe that renders dynamically based on\nthe capabilities, country, and business type of each connected account.\n\nStripe-hosted onboarding supports [Legal Entity\nSharing](https://docs.stripe.com/connect/legal-entity-sharing), which allows\nowners of multiple Stripe accounts to share business information between them.\nWhen they onboard an account, they can reuse that information from an existing\naccount instead of resubmitting it.\n\n!\n\nThe hosted onboarding form in Stripe’s sample integration, [Rocket\nDeliveries](https://rocketdeliveries.io/).\n\n[Customize the onboarding\nformDashboard](https://docs.stripe.com/connect/hosted-onboarding#customize-onboarding-form)\nGo to the [Connect settings\npage](https://dashboard.stripe.com/account/applications/settings) in the\nDashboard to customize the visual appearance of the form with your brand’s name,\ncolor, and icon. Stripe-hosted onboarding requires this information. Stripe also\nrecommends [collecting bank account\ninformation](https://dashboard.stripe.com/settings/connect/payouts/onboarding)\nfrom your connected accounts as they’re onboarding.\n\n[Create an account and prefill\ninformationServer-side](https://docs.stripe.com/connect/hosted-onboarding#create-account)\nCreate a [connected account](https://docs.stripe.com/api/accounts) with the\ndefault\n[controller](https://docs.stripe.com/api/accounts/create#create_account-controller)\nproperties. See [design an\nintegration](https://docs.stripe.com/connect/design-an-integration) to learn\nmore about controller properties. Alternatively, you can create a connected\naccount by specifying an account\n[type](https://docs.stripe.com/api/accounts/create#create_account-type).\n\nWith controller propertiesWith account type\n```\ncurl -X POST https://api.stripe.com/v1/accounts \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\"\n```\n\nIf you know the country for your connected account, you can provide that\ninformation when you create the account. The country defaults to the same\ncountry as your platform if not provided.\n\nTo request [capabilities](https://docs.stripe.com/connect/account-capabilities)\nfor your connected account, you can provide that information when you create the\naccount. Stripe’s onboarding UIs automatically collect the requirements for\nthose capabilities. To reduce onboarding effort, request only the capabilities\nyou need. If you omit capabilities, and your connected account has access to the\nfull Stripe Dashboard or the Express Dashboard, capabilities are automatically\nrequested. For accounts with access to the Express dashboard, Stripe-hosted\nonboarding uses the [Configuration\nsettings](https://dashboard.stripe.com/settings/connect/onboarding-options/countries)\nto request capabilities based on the account’s country.\n\nIf you have information about the account holder (like their name, address, or\nother details), you can proactively provide this when you\n[create](https://docs.stripe.com/api/accounts/create) or\n[update](https://docs.stripe.com/api/accounts/update) the account. Stripe-hosted\nonboarding asks the account holder to confirm the pre-filled information before\naccepting the [Connect service\nagreement](https://docs.stripe.com/connect/service-agreement-types). Providing\nmore information through the API reduces the number of prompts and enhances the\nonboarding flow for your connected account.\n\nAdditionally, if you onboard an account without its own website and your\nplatform provides the account with a URL, prefill the account’s\n[business_profile.url](https://docs.stripe.com/api/accounts/create#create_account-business_profile-url).\nIf the account doesn’t have a URL, you can prefill its\n[business_profile.product_description](https://docs.stripe.com/api/accounts/create#create_account-business_profile-product_description)\ninstead.\n\nWhen testing your integration, use [test\ndata](https://docs.stripe.com/connect/testing) to simulate different outcomes\nincluding identity verification, business information verification, payout\nfailures, and more.\n\n[Determine the information to\ncollect](https://docs.stripe.com/connect/hosted-onboarding#info-to-collect)\nAs the platform, you must decide if you want to collect the required information\nfrom your connected accounts upfront or incrementally. Upfront onboarding\ncollects the `eventually_due` requirements for the account, while incremental\nonboarding only collects the `currently_due` requirements.\n\nUpfront onboarding Incremental onboarding Advantages- Entails a single request\nfor information (normally)\n- Creates fewer problems in receiving payouts and maintaining processing ability\n- Exposes potential fraudsters or connected accounts who refuse to provide\nrequired information later\n- Onboards connected accounts quickly\n- Results in higher onboarding rates\nDisadvantages- Onboarding connected accounts can take longer\n- Some legitimate new connected accounts might turn away due to the amount of\ninformation required before they complete the onboarding process\n- Creates a higher likelihood of disrupting business of an ongoing connected\naccount\n\nTo determine whether to use upfront or incremental onboarding, review the\n[required\ninformation](https://docs.stripe.com/connect/required-verification-information)\nfor the countries where your connected accounts are located to understand the\nrequirements that are eventually due. While Stripe tries to minimize any impact\nto connected accounts, requirements might change over time.\n\nFor connected accounts where you’re responsible for requirement collection, you\ncan customize the behavior of [future\nrequirements](https://docs.stripe.com/connect/handle-verification-updates) using\nthe `collection_options` parameter. Set\n[collection_options.future_requirements](https://docs.stripe.com/api/account_links/create#create_account_link-collection_options-future_requirements)\nto `include` to collect the account’s future requirements.\n\n[Create an Account\nLinkServer-side](https://docs.stripe.com/connect/hosted-onboarding#create-account-link)\nCreate an [Account Link](https://docs.stripe.com/api/account_links) using the\nconnected account ID and include a [refresh\nURL](https://docs.stripe.com/connect/hosted-onboarding#refresh-url) and a\n[return URL](https://docs.stripe.com/connect/hosted-onboarding#return-url).\nStripe redirects the connected account to the refresh URL if the Account Link\nURL has already been visited, has expired, or is otherwise invalid. Stripe\nredirects connected accounts to the return URL when they have completed or left\nthe onboarding flow. Additionally, based on the information you need to collect,\npass either `currently_due` or `eventually_due` for `collection_options.fields`.\nThis example passes `eventually_due` to use upfront onboarding. Set to\n`currently_due` for incremental onboarding.\n\n```\ncurl https://api.stripe.com/v1/account_links \\\n -u \"sk_test_BQokikJOvBiI2HlWgH4olfQ2:\" \\\n -d account={{CONNECTED_ACCOUNT_ID}} \\\n --data-urlencode refresh_url=\"https://example.com/refresh\" \\\n --data-urlencode return_url=\"https://example.com/return\" \\\n -d type=account_onboarding \\\n -d \"collection_options[fields]\"=eventually_due\n```\n\n### Redirect your connected account to the Account Link URL\n\nRedirect the connected account to the Account Link URL to send them to the\nonboarding flow. Each Account Link URL can only be used once because it grants\naccess to the account holder’s personal information. Authenticate the account in\nyour application before redirecting them to this URL.\n\n[Handle new requirements becoming\ndueServer-side](https://docs.stripe.com/connect/hosted-onboarding#handle-new-requirements-becoming-due)\nSet up your integration to [listen for\nchanges](https://docs.stripe.com/connect/handling-api-verification#verification-process)\nto account requirements. You can test handling new requirements (and how they\nmight disable charges and payouts) with the [test mode trigger\ncards](https://docs.stripe.com/connect/testing#trigger-cards).\n\nBased on your application’s verification requirements, send the connected\naccount back through onboarding when it has `currently_due` or `eventually_due`\nrequirements. Use these signals to determine when it’s necessary to re-initiate\nonboarding for a connected account.\n\nYou don’t need to worry about determining which requirements are missing.\nOnboarding collects the necessary information. For example, if there’s a typo\npreventing verification, onboarding prompts the connected account to upload an\nidentity document (such as a Driver’s License in the United States). If any\ninformation is missing, onboarding requests it.\n\nStripe notifies you about any [upcoming requirements\nupdates](https://support.stripe.com/user/questions/onboarding-requirements-updates)\nthat affect your connected accounts. You can proactively collect this\ninformation by reviewing the [future\nrequirements](https://docs.stripe.com/api/accounts/object#account_object-future_requirements)\nfor your accounts.\n\n### Handle verification errors\n\nListen to the\n[account.updated](https://docs.stripe.com/api/events/types#event_types-account.updated)\nevent. If the account contains any `currently_due` fields when the\n`current_deadline` arrives, the corresponding functionality is disabled and\nthose fields are added to `past_due`.\n\nLet your accounts remediate their verification requirements by directing them to\nthe Stripe-hosted onboarding form.\n\n[account.updated](https://docs.stripe.com/api/events/types#event_types-account.updated)\nevent\n\nIf `requirements.currently_due` contains fields\n\nDirect account to onboarding in time to finish before\n[current_deadline](https://docs.stripe.com/api/accounts/object#account_object-requirements-current_deadline)\n\nNo action required\n\nIf `requirements.past_due` contains fields\n\nAccount possibly disabled; direct it to onboarding\n\nRedirect to the Stripe-hosted onboarding form\n\nYesNo[Handle the connected account returning to your\nplatformServer-side](https://docs.stripe.com/connect/hosted-onboarding#handle-returning-accounts)\nThe Account Link requires a `refresh_url` and `return_url` to handle all cases\nin which the connected account is redirected back to your platform. It’s\nimportant to implement these correctly to provide the best onboarding flow for\nyour connected accounts.\n\n#### Note\n\nYou can use HTTP for your `refresh_url` and `return_url` while you’re in test\nmode (for example, to test locally), but for live mode only HTTPS is accepted.\nBe sure you’ve swapped any testing URLs for HTTPS URLs before going live.\n\n### Refresh URL\n\nYour connected account is redirected to the `refresh_url` when:\n\n- The link is expired (a few minutes went by since the link was created).\n- The link was already visited (the connected account refreshed the page or\nclicked the **back** or **forward** button).\n- The link was shared in a third-party application such as a messaging client\nthat attempts to access the URL to preview it. Many clients automatically visit\nlinks which causes them to become expired.\n\nThe `refresh_url` should call a method on your server to create a new [Account\nLink](https://docs.stripe.com/api/account_links) with the same parameters and\nredirect the connected account to the new Account Link URL.\n\n### Return URL\n\nStripe redirects the connected account back to this URL when they complete the\nonboarding flow or click **Save for later** at any point in the flow. It **does\nnot** mean that all information has been collected, or that there are no\noutstanding requirements on the account. It only means the flow was entered and\nexited properly.\n\nNo state is passed with this URL. After a connected account is redirected to the\n`return_url`, determine if the account has completed onboarding.\n[Retrieve](https://docs.stripe.com/api/accounts/retrieve) the account and check\nthe\n[requirements](https://docs.stripe.com/api/accounts/object#account_object-requirements)\nattribute for outstanding requirements. Or, listen to the `account.updated`\nevent sent to your webhook endpoint and cache the state of the account in your\napplication. If the account hasn’t completed onboarding, provide prompts in your\napplication to allow them to continue onboarding later.\n\n[Handle connected account-initiated\nupdatesServer-side](https://docs.stripe.com/connect/hosted-onboarding#handle-account-initiated-updates)\nStripe-hosted onboarding also supports connected account-initiated updates to\nthe information they’ve already provided. Listen to the `account.updated` event\nsent to your webhook endpoint to be notified when the account completes\nrequirements and updates their information.\n\nWhen you create an Account Link, you can set the `type` to either\n`account_onboarding` or `account_update`.\n\n### Account onboarding\n\nAccount Links of this type provide a form for inputting outstanding\nrequirements. Use it when you’re onboarding a new connected account, or when an\nexisting user has new requirements (such as when a connected account had already\nprovided enough information, but you requested a new capability that needs\nadditional info). Send them to this type of Account Link to just collect the new\ninformation you need.\n\n### Account update\n\nAccount Links of this type are enabled for accounts where your platform is\nresponsible for requirement collection. `account_update` links display the\nattributes that are already populated on the account object and allows your\nconnected account to edit previously provided information (for example, they\nneed to update their address). Provide an option in your application (for\nexample, “edit my profile” or “update my verification information”) for\nconnected accounts to make updates themselves.\n\n## Supported browsers\n\nStripe-hosted onboarding supports:\n\n- The last 20 major versions of Chrome and Firefox\n- The last two major versions of Safari and Edge\n- The last two major versions of mobile Safari on iOS\n\nStripe-hosted onboarding is only supported in web browsers and cannot be used in\nembedded web views inside mobile or desktop applications.\n\n## Links\n\n- [Legal Entity Sharing](https://docs.stripe.com/connect/legal-entity-sharing)\n- [Rocket Deliveries](https://rocketdeliveries.io/)\n- [Connect settings\npage](https://dashboard.stripe.com/account/applications/settings)\n- [collecting bank account\ninformation](https://dashboard.stripe.com/settings/connect/payouts/onboarding)\n- [connected account](https://docs.stripe.com/api/accounts)\n-\n[controller](https://docs.stripe.com/api/accounts/create#create_account-controller)\n- [design an integration](https://docs.stripe.com/connect/design-an-integration)\n- [type](https://docs.stripe.com/api/accounts/create#create_account-type)\n- [capabilities](https://docs.stripe.com/connect/account-capabilities)\n- [Configuration\nsettings](https://dashboard.stripe.com/settings/connect/onboarding-options/countries)\n- [create](https://docs.stripe.com/api/accounts/create)\n- [update](https://docs.stripe.com/api/accounts/update)\n- [Connect service\nagreement](https://docs.stripe.com/connect/service-agreement-types)\n-\n[business_profile.url](https://docs.stripe.com/api/accounts/create#create_account-business_profile-url)\n-\n[business_profile.product_description](https://docs.stripe.com/api/accounts/create#create_account-business_profile-product_description)\n- [test data](https://docs.stripe.com/connect/testing)\n- [required\ninformation](https://docs.stripe.com/connect/required-verification-information)\n- [future\nrequirements](https://docs.stripe.com/connect/handle-verification-updates)\n-\n[collection_options.future_requirements](https://docs.stripe.com/api/account_links/create#create_account_link-collection_options-future_requirements)\n- [Account Link](https://docs.stripe.com/api/account_links)\n- [https://example.com/refresh](https://example.com/refresh)\n- [https://example.com/return](https://example.com/return)\n- [listen for\nchanges](https://docs.stripe.com/connect/handling-api-verification#verification-process)\n- [test mode trigger\ncards](https://docs.stripe.com/connect/testing#trigger-cards)\n- [upcoming requirements\nupdates](https://support.stripe.com/user/questions/onboarding-requirements-updates)\n- [future\nrequirements](https://docs.stripe.com/api/accounts/object#account_object-future_requirements)\n-\n[account.updated](https://docs.stripe.com/api/events/types#event_types-account.updated)\n-\n[current_deadline](https://docs.stripe.com/api/accounts/object#account_object-requirements-current_deadline)\n- [Retrieve](https://docs.stripe.com/api/accounts/retrieve)\n-\n[requirements](https://docs.stripe.com/api/accounts/object#account_object-requirements)",
  "metadata": {
    "title": "Stripe-hosted onboarding | Stripe Documentation",
    "description": "Onboard connected accounts by redirecting them to a Stripe-hosted onboarding flow.",
    "sourceURL": "https://docs.stripe.com/connect/hosted-onboarding"
  }
}