{
  "content": "# Set a Stripe API version\n\n## Follow these guidelines to make sure that API versions match throughout your Stripe integration.\n\nYour account has a **default API version**, which defines how you call the API,\nwhat functionality you have access to and what you’re guaranteed to get back as\npart of the response. Webhook event objects are based on your default API\nversion, which might be different from the API version used by the SDK. To make\nsure these versions match, we recommend [registering a webhook\nendpoint](https://docs.stripe.com/webhooks#register-webhook) with the same [API\nversion](https://docs.stripe.com/api/webhook_endpoints/create#create_webhook_endpoint-api_version)\nused as the SDK. To find your version, see [View the API versions used by API\nrequests](https://docs.stripe.com/workbench/guides#view-api-versions).\n\n## Versioning basics\n\nChoose your SDK language to get started.\n\nRubyPythonPHPJavaNodeGo.NET\n### Setting the API version\n\nThe stripe-ruby library allows you to set the API version globally or on a\nper-request basis. If you don’t set an API version, recent versions of\nstripe-ruby use the API version that was latest at the time your version of\nstripe-ruby was released. Versions of stripe-ruby before\n[v9](https://github.com/stripe/stripe-ruby/blob/master/CHANGELOG.md#900---2023-08-16)\nuse your account’s default API version.\n\nTo set the API version **globally** with the SDK, assign the version to the\n`Stripe.api_version` property:\n\n```\nrequire 'stripe'\nStripe.api_key = sk_test_BQokikJOvBiI2HlWgH4olfQ2\nStripe.api_version = '2025-02-24.acacia'\n```\n\nOr set the version per-request:\n\n```\nrequire 'stripe'\nintent = Stripe::PaymentIntent.retrieve(\n 'pi_1DlIVK2eZvKYlo2CW4yj5l2C',\n {\n stripe_version: '2025-02-24.acacia',\n }\n)\nintent.capture\n```\n\n#### Note\n\nWhen you override the version globally or per-request, the API response objects\nare also returned in that version.\n\n### Upgrading your API version\n\nBefore upgrading [your API\nversion](https://docs.stripe.com/upgrades#how-can-i-upgrade-my-api), carefully\nreview the following resources:\n\n- [Stripe API changelog](https://docs.stripe.com/upgrades#api-versions)\n- [View the API versions used by API\nrequests](https://docs.stripe.com/workbench/guides#view-api-versions)\n\nYou can upgrade your account’s default API version in\n[Workbench](https://dashboard.stripe.com/workbench/overview). Update your code\nto use the latest version of the Ruby SDK and set the new API version when\nmaking your calls.\n\n## See also\n\nStripe SDKs follow their own versioning policy. See the link below to learn\nmore.\n\n- [Stripe versioning and support\npolicies](https://docs.stripe.com/sdks/versioning)\n\n## Links\n\n- [registering a webhook\nendpoint](https://docs.stripe.com/webhooks#register-webhook)\n- [API\nversion](https://docs.stripe.com/api/webhook_endpoints/create#create_webhook_endpoint-api_version)\n- [View the API versions used by API\nrequests](https://docs.stripe.com/workbench/guides#view-api-versions)\n-\n[v9](https://github.com/stripe/stripe-ruby/blob/master/CHANGELOG.md#900---2023-08-16)\n- [your API version](https://docs.stripe.com/upgrades#how-can-i-upgrade-my-api)\n- [Stripe API changelog](https://docs.stripe.com/upgrades#api-versions)\n- [Workbench](https://dashboard.stripe.com/workbench/overview)\n- [Stripe versioning and support\npolicies](https://docs.stripe.com/sdks/versioning)",
  "metadata": {
    "title": "Set a Stripe API version | Stripe Documentation",
    "description": "Follow these guidelines to make sure that API versions match throughout your Stripe integration.",
    "sourceURL": "https://docs.stripe.com/sdks/set-version"
  }
}