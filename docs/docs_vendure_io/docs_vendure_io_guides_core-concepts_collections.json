{
  "content": "[Skip to main content](https://docs.vendure.io/guides/core-concepts/collections/#__docusaurus_skipToContent_fallback)\n\nOn this page\n\n[`Collections`](https://docs.vendure.io/reference/typescript-api/entities/collection/) are used to categorize and organize your catalog. A collection\ncontains multiple product variants, and a product variant can belong to multiple collections. Collections can be nested to\ncreate a hierarchy of categories, which is typically used to create a menu structure in the storefront.\n\n![Collections](https://docs.vendure.io/assets/images/collections-20faee4362e958c1b33c40781deba17e.webp)\n\nCollections are not _only_ used as the basis of storefront navigation. They are a general-purpose organization tool which can be used\nfor many purposes, such as:\n\n- Creating a collection of \"new arrivals\" which is used on the homepage.\n- Creating a collection of \"best sellers\" which is used to display a list of popular products.\n- Creating a collection of \"sale items\" which is used to apply a discount to all products in the collection, via a promotion.\n\n## Collection filters [​](https://docs.vendure.io/guides/core-concepts/collections/\\#collection-filters \"Direct link to Collection filters\")\n\nThe specific product variants that belong to a collection are determined by the collection's [`CollectionFilters`](https://docs.vendure.io/reference/typescript-api/configuration/collection-filter/).\nA collection filter is a piece of logic which is used to determine whether a product variant should be included in the collection. By default, Vendure\nincludes a number of collection filters:\n\n- **Filter by facet values**: Include all product variants which have a specific set of facet values.\n- **Filter by product variant name**: Include all product variants whose name matches a specific string.\n- **Manually select product variants**: Allows manual selection of individual product variants.\n- **Manually select products**: Allows manual selection of entire products, and then includes all variants of those products.\n\n![Collection filters](https://docs.vendure.io/assets/images/collection-filters-20aaa0950798367037f8150142b0d5b3.webp)\n\nIt is also possible to create your own custom collection filters, which can be used to implement more complex logic. See the section on [creating a collection filter](https://docs.vendure.io/guides/core-concepts/collections/#creating-a-collection-filter) for more details.\n\n### Filter inheritance [​](https://docs.vendure.io/guides/core-concepts/collections/\\#filter-inheritance \"Direct link to Filter inheritance\")\n\nWhen a collection is nested within another collection, the child collection can inherit the parent's collection filters. This means that the child collection\nwill _combine_ its own filters with the parent's filters.\n\n![Filter inheritance](https://docs.vendure.io/assets/images/filter-inheritance-5eb61291b7dc96f43ebe2efcac6f8971.webp)\n\nIn the example above, we have a parent collection \"Menswear\", with a child collection \"Mens' Casual\". The parent collection has a filter which includes all\nproduct variants with the \"clothing\" and \"mens\" facet values. The child collection is set to inherit the parent's filters, and has an additional filter which\nincludes all product variants with the \"casual\" facet value.\n\nThus, the child collection will include all product variants which have the \"clothing\", \"mens\" and \"casual\" facet values.\n\nnote\n\nWhen filter inheritance is enabled, a child collection will contain a **subset** of the product variants of its parent collection.\n\nIn order to create a child collection which contains product variants _not_ contained by the parent collection, you must disable filter inheritance\nin the child collection.\n\n### Creating a collection filter [​](https://docs.vendure.io/guides/core-concepts/collections/\\#creating-a-collection-filter \"Direct link to Creating a collection filter\")\n\nYou can create your own custom collection filters with the [`CollectionFilter`](https://docs.vendure.io/reference/typescript-api/configuration/collection-filter/) class. This class\nis a [configurable operation](https://docs.vendure.io/guides/developer-guide/strategies-configurable-operations/#configurable-operations) where the specific\nfiltering logic is implemented in the `apply()` method passed to its constructor.\n\nThe `apply()` method receives an instance of the [TypeORM SelectQueryBuilder](https://typeorm.io/select-query-builder) which should have filtering logic\nadded to it using the `.andWhere()` method.\n\nHere's an example of a collection filter which filters by SKU:\n\nsrc/config/sku-collection-filter.ts\n\n```codeBlockLines_e6Vv\nimport { CollectionFilter, LanguageCode } from '@vendure/core';\n\nexport const skuCollectionFilter = new CollectionFilter({\n    args: {\n        // The `args` object defines the user-configurable arguments\n        // which will get passed to the filter's `apply()` function.\n        sku: {\n            type: 'string',\n            label: [{ languageCode: LanguageCode.en, value: 'SKU' }],\n            description: [\\\n                {\\\n                    languageCode: LanguageCode.en,\\\n                    value: 'Matches any product variants with an SKU containing this value',\\\n                },\\\n            ],\n        },\n    },\n    code: 'variant-sku-filter',\n    description: [{ languageCode: LanguageCode.en, value: 'Filter by matching SKU' }],\n\n    // This is the function that defines the logic of the filter.\n    apply: (qb, args) => {\n        // Sometimes syntax differs between database types, so we use\n        // the `type` property of the connection options to determine\n        // which syntax to use.\n        const LIKE = qb.connection.options.type === 'postgres' ? 'ILIKE' : 'LIKE';\n\n        return qb.andWhere(`productVariant.sku ${LIKE} :sku`, {\n            sku: `%${args.sku}%`\n        });\n    },\n});\n\n```\n\nIn the `apply()` method, the product variant entity is aliased as `'productVariant'`.\n\nThis custom filter is then added to the defaults in your config:\n\nsrc/vendure-config.ts\n\n```codeBlockLines_e6Vv\nimport { defaultCollectionFilters, VendureConfig } from '@vendure/core';\nimport { skuCollectionFilter } from './config/sku-collection-filter';\n\nexport const config: VendureConfig = {\n    // ...\n    catalogOptions: {\n        collectionFilters: [\\\n            ...defaultCollectionFilters,\\\n            skuCollectionFilter\\\n        ],\n    },\n};\n\n```\n\ninfo\n\nTo see some more advanced collection filter examples, you can look at the source code of the\n[default collection filters](https://github.com/vendure-ecommerce/vendure/blob/master/packages/core/src/config/catalog/default-collection-filters.ts).\n\n- [Collection filters](https://docs.vendure.io/guides/core-concepts/collections/#collection-filters)\n  - [Filter inheritance](https://docs.vendure.io/guides/core-concepts/collections/#filter-inheritance)\n  - [Creating a collection filter](https://docs.vendure.io/guides/core-concepts/collections/#creating-a-collection-filter)",
  "metadata": {
    "url": "https://docs.vendure.io/guides/core-concepts/collections/",
    "ogUrl": "https://docs.vendure.io/guides/core-concepts/collections/",
    "title": "Collections | Vendure Docs",
    "og:url": "https://docs.vendure.io/guides/core-concepts/collections/",
    "favicon": {},
    "ogImage": "https://docs.vendure.io/img/docusaurus-social-card.jpg",
    "ogTitle": "Collections | Vendure Docs",
    "language": "en",
    "og:image": "https://docs.vendure.io/img/docusaurus-social-card.jpg",
    "og:title": "Collections | Vendure Docs",
    "ogLocale": "en",
    "scrapeId": "7aed9bee-45c8-4e29-a116-9c58221f3c11",
    "viewport": "width=device-width, initial-scale=1.0",
    "generator": "Docusaurus v3.4.0",
    "og:locale": "en",
    "sourceURL": "https://docs.vendure.io/guides/core-concepts/collections/",
    "statusCode": 200,
    "description": "Collections are used to categorize and organize your catalog. A collection",
    "twitter:card": "summary_large_image",
    "ogDescription": "Collections are used to categorize and organize your catalog. A collection",
    "twitter:image": "https://docs.vendure.io/img/docusaurus-social-card.jpg",
    "docusaurus_tag": "docs-default-current",
    "og:description": "Collections are used to categorize and organize your catalog. A collection",
    "docsearch:version": "current",
    "docusaurus_locale": "en",
    "docsearch:language": "en",
    "docusaurus_version": "current",
    "docsearch:docusaurus_tag": "docs-default-current"
  }
}